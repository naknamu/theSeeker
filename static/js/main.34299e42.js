/*! For license information please see main.34299e42.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function U(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case I:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function _e(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var De=!1;function Ne(e,t,n){if(De)return e(t,n);De=!0;try{return Ce(e,t,n)}finally{De=!1,(null!==Se||null!==Ee)&&(Ae(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,je=null,Be={onError:function(e){Me=!0,Fe=e}};function Ue(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,Et,It,_t=!1,Tt=[],Ct=null,At=null,Dt=null,Nt=new Map,Ot=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Vt(e)&&n.delete(t)}function Bt(){_t=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==At&&Vt(At)&&(At=null),null!==Dt&&Vt(Dt)&&(Dt=null),Nt.forEach(jt),Ot.forEach(jt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Ut(t,e)}if(0<Tt.length){Ut(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ut(Ct,e),null!==At&&Ut(At,e),null!==Dt&&Ut(Dt,e),Nt.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Dt=Mt(Dt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function In(){return En}var _n=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(_n),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Dn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Nn),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),Vn=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){_e(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Qn(e){Vr(e,0)}function $n(e){if(H(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Gn(t,Hn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Er={};function Ir(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var _r=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Ar=Ir("transitionend"),Dr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Dr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Nr.length;Pr++){var Rr=Nr[Pr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(_r,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ve)throw e=je,Ve=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Dr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case _r:case Tr:case Cr:s=mn;break;case Ar:s=Dn;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Yn;else if(Kn(u))if(Xn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Gn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(m=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Un(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(jn=!0,Vn);case"textInput":return(e=t.data)===Vn&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Si=-1;function Ei(e){return{current:e}}function Ii(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function _i(e,t){Si++,xi[Si]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ai=Ei(!1),Di=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ii(Ai),Ii(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));_i(Ci,t),_i(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Di=Ci.current,_i(Ci,e),_i(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Ci),_i(Ci,e)):Ii(Ai),_i(Ai,n)}var Vi=null,ji=!1,Bi=!1;function Ui(e){null===Vi?Vi=[e]:Vi.push(e)}function zi(){if(!Bi&&null!==Vi){Bi=!0;var e=0,t=kt;try{var n=Vi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,ji=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),He(Ze,zi),i}finally{kt=t,Bi=!1}}return null}var qi=[],Ki=0,Gi=null,Wi=0,Hi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Ki++]=Wi,qi[Ki++]=Gi,Gi=e,Wi=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Ki],qi[Ki]=null,Wi=qi[--Ki],qi[Ki]=null;for(;e===$i;)$i=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ma.current;Ii(ma),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var _a=null;function Ta(e){null===_a?_a=[e]:_a.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Da=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Da=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Oi(t)?Di:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Oi(t)?Di:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Ji(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(_i(to,t),_i(eo,e),_i(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),_i(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(_i(eo,e),_i(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Do(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,jo(9,Ro.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function Vo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return To().memoizedState}function Uo(e,t,n,r){var i=_o();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return Uo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Go(e,t){return zo(4,2,e,t)}function Wo(e,t){return zo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ho.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:Vo,useDebugValue:$o,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=_o();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=As.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Xo,useReducer:Ao,useRef:Bo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),yo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Xo,useReducer:Do,useRef:Bo,useState:function(){return Do(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Jo(t,yo.memoizedState,e)},useTransition:function(){return[Do(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Gs=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Ps,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Ps,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(Ps,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Ps,Os),Os|=r;return wu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Oi(n)?Di:Ci.current;return a=Ni(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ni(t,c=Oi(n)?Di:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Da=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Da?("function"===typeof l&&(Ba(t,n,l,r),s=t.memoizedState),(u=Da||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ya(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Ni(t,s=Oi(n)?Di:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Da=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Da?("function"===typeof d&&(Ba(t,n,d,r),p=t.memoizedState),(c=Da||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Du(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Nu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Pu,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Vu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Uu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uu(t,!0,n,null,a);break;case"together":Uu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Wu(t),null;case 3:return r=t.stateNode,io(),Ii(Ai),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Wu(t),null;case 10:return xa(t.type._context),Wu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Xe()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,_i(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ai),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(y){Ec(e,e.return,y)}try{ns(5,e,e.return)}catch(y){Ec(e,e.return,y)}}break;case 1:vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Ec(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Ec(e,e.return,y)}}break;case 6:if(vs(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Ec(e,e.return,y)}}break;case 3:if(vs(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(y){Ec(e,e.return,y)}break;case 4:default:vs(t,e),ms(e);break;case 13:vs(t,e),ms(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Us=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ms(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Ec(r,n,y)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){Ec(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Ec(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Ss,Es=Math.ceil,Is=b.ReactCurrentDispatcher,_s=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,As=null,Ds=null,Ns=0,Os=0,Ps=Ei(0),Rs=0,Ls=null,Ms=0,Fs=0,Vs=0,js=null,Bs=null,Us=0,zs=1/0,qs=null,Ks=!1,Gs=null,Ws=null,Hs=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ns?Ns&-Ns:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));mt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Rs&&uc(e,Ns)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Xe()+500,ji&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Ns:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,Ui(e)}(sc.bind(null,e)):Ui(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Ns:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Ns===t||(qs=null,zs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Cs=i,null!==Ds?t=0:(As=null,Ns=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Us+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Bs,qs),t);break}wc(e,Bs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Bs,qs),r);break}wc(e,Bs,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bs,Bs=n,null!==t&&oc(t)),e}function oc(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function uc(e,t){for(t&=~Vs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bs,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Xe()+500,ji&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Os=Ps.current,Ii(Ps)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ii(Ai),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Ds=e=Pc(e.current,null),Ns=Os=t,Rs=0,Ls=null,Vs=Fs=Ms=0,Bs=js=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(r=(n=_a[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function dc(e,t){for(;;){var n=Ds;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,_s.current=null,null===n||null===n.return){Rs=1,Ls=t,Ds=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ns,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===As||0===(268435455&Ms)&&0===(268435455&Fs)||uc(As,Ns)}function yc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Ns===t||(qs=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Is.current=r,null!==Ds)throw Error(a(261));return As=null,Ns=0,Rs}function mc(){for(;null!==Ds;)kc(Ds)}function gc(){for(;null!==Ds&&!$e();)kc(Ds)}function kc(e){var t=Ss(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?bc(e):Ds=t,_s.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Os)))return void(Ds=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Ds=n);if(null===e)return Rs=6,void(Ds=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ds=As=null,Ns=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,_s.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ys(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,$s=i),o=e.pendingLanes,0===o&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Gs,Gs=null,e;0!==(1&$s)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,zi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt($s),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ec(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function Sc(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ns&n)===n&&(4===Rs||3===Rs&&(130023424&Ns)===Ns&&500>Xe()-Us?hc(e,0):Vs|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(mt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),_c(e,n)}function Ac(e,t){return He(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Dc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Lc(n.children,i,o,t);case E:u=8,i|=8;break;case I:return(e=Nc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case D:return(e=Nc(19,n,t,i)).elementType=D,e.lanes=o,e;case P:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function Uc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Bc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Du(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(_i(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);_i(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=Ua,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Du(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Nu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Nu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),_u(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Sa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),Su(e,t,r,i=ya(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),qu(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),qa(t,r,i),Ga(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(zs=Xe()+500,zi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},Et=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,_e,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Uc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var u,s,c,l;if(Array.isArray(e)){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(l=e.entries();!(s=l.next()).done;)if(!o.has(s.value[0]))return!1;for(l=e.entries();!(s=l.next()).done;)if(!a(s.value[1],o.get(s.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(l=e.entries();!(s=l.next()).done;)if(!o.has(s.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(e[s]!==o[s])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((u=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(s=u;0!==s--;)if(!Object.prototype.hasOwnProperty.call(o,c[s]))return!1;if(t&&e instanceof Element)return!1;for(s=u;0!==s--;)if(("_owner"!==c[s]&&"__v"!==c[s]&&"__o"!==c[s]||!e.$$typeof)&&!a(e[c[s]],o[c[s]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,y=60117,m=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),y=k("react.fundamental"),m=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===m||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===y||e.$$typeof===p||e[0]===v)},t.typeOf=b},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:S.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function D(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,y&&(y=!1,g(_),_=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,I=null,_=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function D(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?S():(E=!1,I=null)}}else E=!1}if("function"===typeof k)S=function(){k(D)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,O=N.port2;N.port1.onmessage=D,S=function(){O.postMessage(null)}}else S=function(){m(D,0)};function P(e){I=e,E||(E=!0,S())}function R(e,n){_=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(_),_=-1):y=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},157:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},u=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=o(n(791)),f=c(n(77)),h=c(n(236)),d=n(770),p=c(n(269)),v=n(475);u(n(902),t);var y=function(e){var t=e.containerRef,n=e.active,i=e.disabled,a=e.fillColor,o=e.lineWidth,u=e.map,s=e.src,c=e.strokeColor,f=e.natural,d=e.height,y=e.width,m=e.imgWidth,g=e.areaKeyName,k=e.stayHighlighted,b=e.stayMultiHighlighted,w=e.toggleHighlighted,x=e.parentWidth,S=e.responsive,E=e.onLoad,I=e.onMouseEnter,_=e.onMouseLeave,T=e.onClick,C=(0,l.useState)(u),A=C[0],D=C[1],N=(0,l.useState)(A),O=N[0],P=N[1],R=(0,l.useState)(!1),L=R[0],M=R[1],F=(0,l.useState)(null),V=F[0],j=F[1],B=(0,l.useRef)(null),U=(0,l.useRef)(null),z=(0,l.useRef)(null),q=(0,l.useRef)(null),K=(0,l.useRef)(!0);(0,l.useEffect)((function(){Q(!0),q.current=z.current.getContext("2d"),G(),M(!0)}),[]),(0,l.useEffect)((function(){K.current?K.current=!1:(G(),Q(),V&&ee())}),[e,K,V]),(0,l.useEffect)((function(){B.current.clearHighlightedArea=function(){D(O),Q()},t&&(t.current=B.current)}),[V]),(0,l.useEffect)((function(){S&&Q()}),[x]);var G=function(){D(u),P(u)},W=function(t){var n=e[t];return"function"===typeof n?n(U.current):n},H=function(e,t,n){void 0===n&&(n="area");var r=U.current,i=r.naturalWidth,a=r.naturalHeight,o=r.clientWidth,u=r.clientHeight;return"width"===e?S?x:f?i:y||"image"===n?t:o:"height"===e?S?u:f?a:d||"image"===n?t:u:0},Q=function(e){if(void 0===e&&(e=!1),e||V){var t=W("width"),n=W("height"),r=H("width",t),i=H("height",n);(y||S)&&(U.current.width=H("width",t,"image")),(d||S)&&(U.current.height=H("height",n,"image")),z.current.width=r,z.current.height=i,B.current.style.width="".concat(r,"px"),B.current.style.height="".concat(i,"px"),q.current=z.current.getContext("2d"),q.current.fillStyle=a,E&&V&&E(U.current,{width:r,height:i}),j(U.current),V&&Z()}},$=function(e,t,r){var i=e.shape,u=e.scaledCoords,s=e.fillColor,l=e.lineWidth,f=e.strokeColor,h=e.active;n&&(0,p.default)(i,u,s||a,l||o,f||c,null===h||void 0===h||h,q),I&&I(e,t,r)},Y=function(e,t,r){n&&(q.current.clearRect(0,0,z.current.width,z.current.height),Z()),_&&_(e,t,r)},X=function(e,t,n){var i;if((null===(i=e.active)||void 0===i||i)&&(k||b||w)){var o=r({},e),u=b?A:O;w&&o.preFillColor?delete o.preFillColor:(k||b)&&(o.preFillColor=e.fillColor||a);var s=u.areas.map((function(t){return t[g]===e[g]?o:t}));D((function(e){return r(r({},e),{areas:s})}))}T&&(n.preventDefault(),T(e,t,n))},J=function(e){var t=y&&m&&m>0?y/m:1;return S&&x?e.map((function(e){return e/(V.naturalWidth/x)})):e.map((function(e){return e*t}))},Z=function(e){void 0===e&&(e=A),e.areas.map((function(e){return!!e.preFillColor&&((0,p.default)(e.shape,J(e.coords),e.preFillColor,e.lineWidth||o,e.strokeColor||c,!0,q),!0)}))},ee=function(){q.current.clearRect(0,0,z.current.width,z.current.height),Z(u)};return l.default.createElement("div",{id:"img-mapper",style:(0,h.default)(e).container,ref:B},l.default.createElement("img",{role:"presentation",className:"img-mapper-img",style:r(r({},(0,h.default)(e).img),V?{}:{display:"none"}),src:s,useMap:"#".concat(A.name),alt:"map",ref:U,onClick:function(t){return(0,v.imageClick)(t,e)},onMouseMove:function(t){return(0,v.imageMouseMove)(t,e)}}),l.default.createElement("canvas",{className:"img-mapper-canvas",ref:z,style:(0,h.default)().canvas}),l.default.createElement("map",{className:"img-mapper-map",name:A.name,style:(0,h.default)().map},L&&!i&&V&&A.areas.map((function(t,n){var i=J(t.coords),a=function(e){if(!e)return[0,0];var t=J(e.coords);if("circle"===e.shape)return[t[0],t[1]];var n=t.length/2,r=t.reduce((function(e,t,r){var i=e.y,a=e.x;return r%2?{y:i+t/n,x:a}:{y:i,x:a+t/n}}),{y:0,x:0}),i=r.y;return[r.x,i]}(t),o=r(r({},t),{scaledCoords:i,center:a});return t.disabled?null:l.default.createElement("area",{key:t[g]||n.toString(),shape:t.shape,coords:i.join(","),onMouseEnter:function(e){return $(o,n,e)},onMouseLeave:function(e){return Y(o,n,e)},onMouseMove:function(t){return(0,v.mouseMove)(o,n,t,e)},onMouseDown:function(t){return(0,v.mouseDown)(o,n,t,e)},onMouseUp:function(t){return(0,v.mouseUp)(o,n,t,e)},onTouchStart:function(t){return(0,v.touchStart)(o,n,t,e)},onTouchEnd:function(t){return(0,v.touchEnd)(o,n,t,e)},onClick:function(e){return X(o,n,e)},href:t.href,alt:"map"})}))))};y.defaultProps=d.ImageMapperDefaultProps,t.default=l.default.memo(y,(function(e,t){var n=s(s([],d.rerenderPropsList,!0),t.rerenderProps,!0).some((function(n){return e[n]!==t[n]}));return(0,f.default)(e.map,t.map)&&!n}))},770:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageMapperDefaultProps=t.rerenderPropsList=void 0,t.rerenderPropsList=["src","active","disabled","width","height","imgWidth","fillColor","strokeColor","lineWidth","natural","areaKeyName","stayHighlighted","stayMultiHighlighted","toggleHighlighted","parentWidth","responsive"],t.ImageMapperDefaultProps={map:{areas:[],name:"image-map-".concat(Math.random())},areaKeyName:"id",containerRef:null,active:!0,disabled:!1,fillColor:"rgba(255, 255, 255, 0.5)",strokeColor:"rgba(0, 0, 0, 0.5)",lineWidth:1,imgWidth:0,width:0,height:0,natural:!1,stayHighlighted:!1,stayMultiHighlighted:!1,toggleHighlighted:!1,rerenderProps:[],responsive:!1,parentWidth:0,onImageClick:null,onImageMouseMove:null,onClick:null,onMouseDown:null,onMouseUp:null,onTouchStart:null,onTouchEnd:null,onMouseMove:null,onMouseEnter:null,onMouseLeave:null,onLoad:null}},269:function(e,t){"use strict";var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,r,i,a,o,u){return"rect"===e&&o?function(e,t,n,r,i){var a=e[0],o=e[1],u=e[2],s=e[3];i.current.fillStyle=t,i.current.lineWidth=n,i.current.strokeStyle=r,i.current.strokeRect(a,o,u-a,s-o),i.current.fillRect(a,o,u-a,s-o)}(t,r,i,a,u):"circle"===e&&o?function(e,t,n,r,i){i.current.fillStyle=t,i.current.beginPath(),i.current.lineWidth=n,i.current.strokeStyle=r,i.current.arc(e[0],e[1],e[2],0,2*Math.PI),i.current.closePath(),i.current.stroke(),i.current.fill()}(t,r,i,a,u):!("poly"!==e||!o)&&function(e,t,r,i,a){var o=e.reduce((function(e,t,r,i){return r%2?e:n(n([],e,!0),[i.slice(r,r+2)],!1)}),[]);a.current.fillStyle=t,a.current.beginPath(),a.current.lineWidth=r,a.current.strokeStyle=i,o.forEach((function(e){return a.current.lineTo(e[0],e[1])})),a.current.closePath(),a.current.stroke(),a.current.fill()}(t,r,i,a,u)}},475:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.touchEnd=t.touchStart=t.mouseUp=t.mouseDown=t.mouseMove=t.imageClick=t.imageMouseMove=void 0;t.imageMouseMove=function(e,t){t.onImageMouseMove&&t.onImageMouseMove(e)};t.imageClick=function(e,t){t.onImageClick&&(e.preventDefault(),t.onImageClick(e))};t.mouseMove=function(e,t,n,r){r.onMouseMove&&r.onMouseMove(e,t,n)};t.mouseDown=function(e,t,n,r){r.onMouseDown&&r.onMouseDown(e,t,n)};t.mouseUp=function(e,t,n,r){r.onMouseUp&&r.onMouseUp(e,t,n)};t.touchStart=function(e,t,n,r){r.onTouchStart&&r.onTouchStart(e,t,n)};t.touchEnd=function(e,t,n,r){r.onTouchEnd&&r.onTouchEnd(e,t,n)}},236:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r={position:"absolute",top:0,left:0},i=n(n({},r),{zIndex:1,userSelect:"none"}),a=n(n({},i),{width:"100%",height:"auto"});t.default=function(e){return{container:{position:"relative"},canvas:n(n({},r),{pointerEvents:"none",zIndex:2}),img:(null===e||void 0===e?void 0:e.responsive)?a:i,map:(null===e||void 0===e?void 0:e.onClick)&&{cursor:"pointer"}||void 0}}},902:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/theSeeker/",n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Dn},SDK_VERSION:function(){return Vr},_DEFAULT_ENTRY_NAME:function(){return Ir},_addComponent:function(){return Ar},_addOrOverwriteComponent:function(){return Dr},_apps:function(){return Tr},_clearComponents:function(){return Rr},_components:function(){return Cr},_getProvider:function(){return Or},_registerComponent:function(){return Nr},_removeServiceInstance:function(){return Pr},deleteApp:function(){return zr},getApp:function(){return Br},getApps:function(){return Ur},initializeApp:function(){return jr},onLog:function(){return Gr},registerVersion:function(){return Kr},setLogLevel:function(){return Wr}});var t=n(791),r=n(250);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(){a=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(D){l=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),u=new T(i||[]);return r(o,"_invoke",{value:S(e,n,u)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=f;var d={};function p(){}function v(){}function y(){}var m={};l(m,u,(function(){return this}));var g=Object.getPrototypeOf,k=g&&g(g(C([])));k&&k!==t&&n.call(k,u)&&(m=k);var b=y.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function a(r,o,u,s){var c=h(e[r],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,u,s)}),(function(e){a("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return a("throw",e,u,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function C(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=y,r(b,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),l(b,c,"Generator"),l(b,u,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function o(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function u(e){o(a,r,i,u,s,"next",e)}function s(e){o(a,r,i,u,s,"throw",e)}u(void 0)}))}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h=n(441),d=n(613),p=n.n(d);var v=function(e){function t(e,r,s,c,h){for(var d,p,v,y,b,x=0,S=0,E=0,I=0,_=0,O=0,R=v=d=0,M=0,F=0,V=0,j=0,B=s.length,U=B-1,z="",q="",K="",G="";M<B;){if(p=s.charCodeAt(M),M===U&&0!==S+I+E+x&&(0!==S&&(p=47===S?10:47),I=E=x=0,B++,U++),0===S+I+E+x){if(M===U&&(0<F&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,j=++M;M<B;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(R=M+1;R<U;++R)switch(s.charCodeAt(R)){case 47:if(42===p&&42===s.charCodeAt(R-1)&&M+2!==R){M=R+1;break e}break;case 10:if(47===p){M=R+1;break e}}M=R}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<U&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(j,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=N}if(j=(v=t(r,F,v,p,h+1)).length,0<P&&(b=u(3,v,F=n(N,z,V),r,C,T,j,p,h,c),z=F.join(""),void 0!==b&&0===(j=(v=b.trim()).length)&&(p=0,v="")),0<j)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(m,"$1 $2"))+"{"+v+"}",v=1===D||2===D&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,V),v,c,h+1);K+=v,v=V=F=R=d=0,z="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(j=(z=(0<F?z.replace(f,""):z).trim()).length))switch(0===R&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(j=(z=z.replace(" ",":")).length),0<P&&void 0!==(b=u(1,z,r,e,C,T,q.length,c,h,c))&&0===(j=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){G+=z+s.charAt(M);break}default:58!==z.charCodeAt(j-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}V=F=R=d=0,z="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===S?S=0:0===1+d&&107!==c&&0<z.length&&(F=1,z+="\0"),0<P*L&&u(0,z,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===S+I+E+x){T++;break}default:switch(T++,y=s.charAt(M),p){case 9:case 32:if(0===I+x+S)switch(_){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===I+S+x&&(F=V=1,y="\f"+y);break;case 108:if(0===I+S+x+A&&0<R)switch(M-R){case 2:112===_&&58===s.charCodeAt(M-3)&&(A=_);case 8:111===O&&(A=O)}break;case 58:0===I+S+x&&(R=M);break;case 44:0===S+E+I+x&&(F=1,y+="\r");break;case 34:case 39:0===S&&(I=I===p?0:0===I?p:I);break;case 91:0===I+S+E&&x++;break;case 93:0===I+S+E&&x--;break;case 41:0===I+S+x&&E--;break;case 40:if(0===I+S+x){if(0===d)if(2*_+3*O===533);else d=1;E++}break;case 64:0===S+E+I+x+R+v&&(v=1);break;case 42:case 47:if(!(0<I+x+E))switch(S){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:S=47;break;case 220:j=M,S=42}break;case 42:47===p&&42===_&&j+2!==M&&(33===s.charCodeAt(j+2)&&(q+=s.substring(j,M+1)),y="",S=0)}}0===S&&(z+=y)}O=_,_=p,M++}if(0<(j=q.length)){if(F=r,0<P&&(void 0!==(b=u(2,q,F,e,C,T,j,c,h,c))&&0===(q=b).length))return G+q+K;if(q=F.join(",")+"{"+q+"}",0!==D*A){switch(2!==D||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return G+q+K}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===D||2===D&&a(s,1)?"-webkit-"+s+s:s}if(0===D||2===D&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(_,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===I.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<P;++h)switch(f=O[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?D=1:(D=2,R=e):D=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(N,r,n,0,0);return 0<P&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,S=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,_=/([^-])(image-set\()/,T=1,C=1,A=0,D=1,N=[],O=[],P=0,R=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:P=O.length=0;break;default:if("function"===typeof t)O[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},y={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var m=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},g=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,k=m((function(e){return g.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),b=n(110),w=n.n(b);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},E=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,h.typeOf)(e)},I=Object.freeze([]),_=Object.freeze({});function T(e){return"function"==typeof e}function C(e){return e.displayName||e.name||"Component"}function A(e){return e&&"string"==typeof e.styledComponentId}var D="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/theSeeker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/theSeeker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",N="undefined"!=typeof window&&"HTMLElement"in window,O=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/theSeeker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/theSeeker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/theSeeker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/theSeeker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/theSeeker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/theSeeker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/theSeeker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/theSeeker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),P={};function R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var L=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&R(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),M=new Map,F=new Map,V=1,j=function(e){if(M.has(e))return M.get(e);for(;F.has(V);)V++;var t=V++;return M.set(e,t),F.set(t,e),t},B=function(e){return F.get(e)},U=function(e,t){t>=V&&(V=t+1),M.set(e,t),F.set(t,e)},z="style["+D+'][data-styled-version="5.3.6"]',q=new RegExp("^"+D+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),K=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},G=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(q);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(U(c,s),K(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},W=function(){return n.nc},H=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(D))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(D,"active"),r.setAttribute("data-styled-version","5.3.6");var o=W();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Q=function(){function e(e){var t=this.element=H(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}R(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),$=function(){function e(e){var t=this.element=H(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Y=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),X=N,J={isServer:!N,useCSSOMInjection:!O},Z=function(){function e(e,t,n){void 0===e&&(e=_),void 0===t&&(t={}),this.options=x({},J,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&N&&X&&(X=!1,function(e){for(var t=document.querySelectorAll(z),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(D)&&(G(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return j(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(x({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Y(i):r?new Q(i):new $(i),new L(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(j(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(j(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(j(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=B(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=D+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),ee=/(a)(d)/gi,te=function(e){return String.fromCharCode(e+(e>25?39:97))};function ne(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=te(t%52)+n;return(te(t%52)+n).replace(ee,"$1-$2")}var re=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ie=function(e){return re(5381,e)};function ae(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(T(n)&&!A(n))return!1}return!0}var oe=ie("5.3.6"),ue=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&ae(e),this.componentId=t,this.baseHash=re(oe,t),this.baseStyle=n,Z.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=Ie(this.rules,e,t,n).join(""),o=ne(re(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=re(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=Ie(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=re(c,p+f),l+=p}}if(l){var v=ne(c>>>0);if(!t.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),se=/^\s*\/\/.*$/gm,ce=[":","[",".","#"];function le(e){var t,n,r,i,a=void 0===e?_:e,o=a.options,u=void 0===o?_:o,s=a.plugins,c=void 0===s?I:s,l=new v(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==ce.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(se,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||R(15),re(e,t.name)}),5381).toString():"",p}var fe=t.createContext(),he=(fe.Consumer,t.createContext()),de=(he.Consumer,new Z),pe=le();function ve(){return(0,t.useContext)(fe)||de}function ye(){return(0,t.useContext)(he)||pe}function me(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=ve(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,t.useMemo)((function(){return le({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){p()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(fe.Provider,{value:o},t.createElement(he.Provider,{value:u},e.children))}var ge=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=pe);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return R(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=pe),this.name+e.hash},e}(),ke=/([A-Z])/,be=/([A-Z])/g,we=/^ms-/,xe=function(e){return"-"+e.toLowerCase()};function Se(e){return ke.test(e)?e.replace(be,xe).replace(we,"-ms-"):e}var Ee=function(e){return null==e||!1===e||""===e};function Ie(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=Ie(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Ee(e)?"":A(e)?"."+e.styledComponentId:T(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:Ie(e(t),t,n,r):e instanceof ge?n?(e.inject(n,r),e.getName(r)):e:E(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Ee(t[o])&&(Array.isArray(t[o])&&t[o].isCss||T(t[o])?a.push(Se(o)+":",t[o],";"):E(t[o])?a.push.apply(a,e(t[o],o)):a.push(Se(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in y?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var _e=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return T(e)||E(e)?_e(Ie(S(I,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:_e(Ie(S(e,n)))}new Set;var Ce=function(e,t,n){return void 0===n&&(n=_),e.theme!==n.theme&&e.theme||t||n.theme},Ae=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,De=/(^-|-$)/g;function Ne(e){return e.replace(Ae,"-").replace(De,"")}var Oe=function(e){return ne(ie(e)>>>0)};function Pe(e){return"string"==typeof e&&!0}var Re=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Le=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Me(e,t,n){var r=e[n];Re(t)&&Re(r)?Fe(r,t):e[n]=t}function Fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Re(o))for(var u in o)Le(u)&&Me(e,o[u],u)}return e}var Ve=t.createContext();Ve.Consumer;function je(e){var n=(0,t.useContext)(Ve),r=(0,t.useMemo)((function(){return function(e,t){return e?T(e)?e(t):Array.isArray(e)||"object"!=typeof e?R(8):t?x({},t,{},e):e:R(14)}(e.theme,n)}),[e.theme,n]);return e.children?t.createElement(Ve.Provider,{value:r},e.children):null}var Be={};function Ue(e,n,r){var i=A(e),a=!Pe(e),o=n.attrs,u=void 0===o?I:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":Ne(e);Be[n]=(Be[n]||0)+1;var r=n+"-"+Oe("5.3.6"+n+Be[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return Pe(e)?"styled."+e:"Styled("+C(e)+")"}(e):l,h=n.displayName&&n.componentId?Ne(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,y=new ue(r,h,i?e.componentStyle:void 0),m=y.isStatic&&0===u.length,g=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=_);var r=x({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in T(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Ce(n,(0,t.useContext)(Ve),u)||_,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=ve(),a=ye();return t?e.generateAndInjectStyles(_,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),y=r,m=p.$as||n.$as||p.as||n.as||f,g=Pe(m),b=p!==n?x({},n,{},p):n,w={};for(var S in b)"$"!==S[0]&&"as"!==S&&("forwardedAs"===S?w.as=b[S]:(c?c(S,k,m):!g||k(S))&&(w[S]=b[S]));return n.style&&p.style!==n.style&&(w.style=x({},n.style,{},p.style)),w.className=Array.prototype.concat(s,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),w.ref=y,(0,t.createElement)(m,w)}(v,e,n,m)};return g.displayName=f,(v=t.forwardRef(g)).attrs=d,v.componentStyle=y,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):I,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(Pe(e)?e:Ne(C(e)));return Ue(e,x({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Fe({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&w()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var ze=function(e){return function e(t,n,r){if(void 0===r&&(r=_),!(0,h.isValidElementType)(n))return R(1,String(n));var i=function(){return t(n,r,Te.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,x({},r,{},i))},i.attrs=function(i){return e(t,n,x({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Ue,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){ze[e]=ze(e)}));var qe=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=ae(e),Z.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(Ie(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Z.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=W();return"<style "+[n&&'nonce="'+n+'"',D+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?R(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return R(2);var r=((n={})[D]="",n["data-styled-version"]="5.3.6",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=W();return i&&(r.nonce=i),[t.createElement("style",x({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Z({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?R(2):t.createElement(me,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return R(3)}}();var Ke,Ge,We,He,Qe,$e,Ye,Xe,Je,Ze,et,tt,nt,rt,it=ze,at=n.p+"static/media/ghost_rider.0d7221848bc21afc828a.png",ot=n.p+"static/media/ryuk.0b96cc08c3821cf92832.png",ut=n.p+"static/media/ash.6f4d612447ca735cdc46.png",st=n(184),ct=function(e){return(0,st.jsxs)(lt,{children:[(0,st.jsxs)(ft,{disabled:e.status.first,children:[(0,st.jsx)(dt,{children:"Easy"}),e.TARGET.first,(0,st.jsx)(ht,{src:at,alt:e.TARGET.first})]}),(0,st.jsxs)(ft,{disabled:e.status.second,children:[(0,st.jsx)(pt,{children:"Medium"}),e.TARGET.second,(0,st.jsx)(ht,{src:ot,alt:e.TARGET.second})]}),(0,st.jsxs)(ft,{disabled:e.status.third,children:[(0,st.jsx)(vt,{children:"Hard"}),e.TARGET.third,(0,st.jsx)(ht,{src:ut,alt:e.TARGET.third})]})]})},lt=it.div(Ke||(Ke=f(["\n  width: 25rem;\n  position: absolute;\n  z-index: 200;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  border-radius: 6px;\n  border: 1px solid white;\n  font-size: 18px;\n\n  left: -10rem;\n  top: 7rem;\n\n  @media all and (max-width: 480px) {\n    width: 20rem;\n    font-size: 10px;\n    left: -12rem;\n  }\n"]))),ft=it.div(Ge||(Ge=f(["\n  cursor: pointer;\n  padding: 1rem;\n  border: 1px solid white;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  position: relative;\n  font-weight: 700;\n\n  border: 1px dashed ",";\n\n  color: ",";\n\n  text-decoration: ",";\n\n  background-color: ",";\n\n  > * {\n    opacity: ",";\n  }\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.disabled?"darkred":e.theme.colors.primary}),(function(e){return e.disabled?"line-through black double 3px":"none"}),(function(e){return e.disabled?"gray":e.theme.colors.light}),(function(e){return e.disabled?"0.1":"1"})),ht=it.img(We||(We=f(["\n  width: 40%;\n"]))),dt=it.div(He||(He=f(["\n  color: #ffaa1d;\n  position: absolute;\n  top: 0px;\n  left: 15px;\n\n  @media all and (max-width: 480px) {\n    left: 1.5rem;\n    top: 1rem;\n    position: static;\n    font-size: 1.5rem;\n  }\n"]))),pt=it.div(Qe||(Qe=f(["\n  color: black;\n  position: absolute;\n  top: 0px;\n  left: 15px;\n\n  @media all and (max-width: 480px) {\n    left: 1.5rem;\n    top: 1rem;\n    font-size: 1.5rem;\n  }\n"]))),vt=it.div($e||($e=f(["\n  color: #1e40af;\n  position: absolute;\n  top: 0px;\n  left: 10px;\n\n  @media all and (max-width: 480px) {\n    left: 1.5rem;\n    top: 1rem;\n    font-size: 1.5rem;\n  }\n"]))),yt=it.header(Ye||(Ye=f(["\n  background-color: ",";\n  color: ",";\n\n  position: fixed;\n  width: 100%;\n  z-index: 300;\n\n  font-weight: 400;\n  font-size: 4rem;\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.light})),mt=it.div(Xe||(Xe=f(["\n  display: flex;\n  justify-content: space-around;\n  place-items: center;\n  gap: 15rem;\n"]))),gt=it.div(Je||(Je=f(["\n  font-weight: 900;\n  cursor: pointer;\n  transition: transform 0.1s ease-in-out;\n\n  :hover {\n    transform: scale(1.2);\n  }\n"]))),kt=it.span(Ze||(Ze=f(["\n  color: ",";\n  font-weight: 700;\n  opacity: 0.8;\n"])),(function(e){return e.theme.colors.secondary})),bt=it.div(et||(et=f(["\n  position: relative;\n"]))),wt=it.div(tt||(tt=f(["\n  position: absolute;\n  top: -3.5rem;\n  left: -10rem;\n"]))),xt=it.div(nt||(nt=f(["\n  position: relative;\n"]))),St=it.button(rt||(rt=f(["\n  background-color: black;\n  border-radius: 50%;\n  height: 5rem;\n  width: 5rem;\n  color: ",";\n  background-color: ",";\n  border: none;\n  font-size: 3.5rem;\n  font-weight: 900;\n  transition: transform 0.1s ease-in;\n\n  :hover {\n    transform: scale(1.2);\n  }\n\n  :active {\n    transform: scale(1);\n  }\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.light})),Et=function(e){var n=l((0,t.useState)(!1),2),r=n[0],i=n[1],a=e.setTime,o=e.activeTime,u=e.hours,s=e.minutes,c=e.seconds,f=e.setSeconds,h=e.setMinutes,d=e.setHours;return(0,t.useEffect)((function(){var e=null;return o&&(e=setInterval((function(){f((function(e){return e+1}))}),1e3),60===c&&(f(0),h((function(e){return e+1}))),60===s&&(h(0),d((function(e){return e+1})))),a(("0"+u).slice(-2)+":"+("0"+s).slice(-2)+":"+("0"+c).slice(-2)),function(){return clearInterval(e)}}),[o,a,u,s,c]),(0,st.jsx)(yt,{children:(0,st.jsxs)(mt,{children:[(0,st.jsxs)(gt,{children:["the",(0,st.jsx)(kt,{children:"Seeker"})]}),(0,st.jsx)(bt,{children:(0,st.jsx)(wt,{children:e.time})}),(0,st.jsxs)(xt,{children:[(0,st.jsx)(St,{onClick:function(e){i(!r)},children:e.count}),r&&(0,st.jsx)(ct,{status:e.status,TARGET:e.TARGET})]})]})})},It=n(157),_t=n.n(It),Tt=JSON.parse('[{"id":"Object-001","title":"Ghost Rider","shape":"rect","name":"1","fillColor":"rgba(255, 255, 255, 0)","strokeColor":"rgba(0, 0, 0, 0)","coords":[1393,2053,1624,2419],"rect":[[1393,2053],[1624,2419]]},{"id":"Object-002","title":"Ryuk","shape":"rect","name":"2","fillColor":"rgba(255, 255, 255, 0)","strokeColor":"rgba(0, 0, 0, 0)","coords":[320,8534,375,8645],"rect":[[320,8534],[375,8645]]},{"id":"Object-003","title":"Ash","shape":"rect","name":"3","fillColor":"rgba(255, 255, 255, 0)","strokeColor":"rgba(0, 0, 0, 0)","coords":[35,12008,82,12069],"rect":[[35,12008],[82,12069]]},{"id":"Parent-Image-000","title":"Parent","shape":"rect","name":"0","fillColor":"rgba(255, 255, 255, 0)","strokeColor":"rgba(0, 0, 0, 0)","coords":[0,0,1999,13110],"rect":[[0,0],[1999,13110]]}]'),Ct=function(e){var t={name:"my-map",areas:Tt};return(0,st.jsx)(_t(),{src:"https://raw.githubusercontent.com/naknamu/wheres-waldo/main/src/assets/images/extended_city.jpg",map:t,responsive:e.responsive,parentWidth:e.parentWidth,onClick:e.onClickMap,onTouchStart:e.onTouchStart})},At=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e})),n},Dt=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=At(e),a=t.useRef(),o=[n,r,i];function u(){a.current&&clearTimeout(a.current),a.current=void 0}function s(){a.current=void 0}return t.useEffect((function(){return u}),o),t.useCallback((function(){var e=arguments,t=a.current;if(void 0===t&&r)return a.current=setTimeout(s,n),i.current.apply(null,e);t&&clearTimeout(t),a.current=setTimeout((function(){a.current=void 0,i.current.apply(null,e)}),n)}),o)};var Nt,Ot,Pt,Rt,Lt,Mt=function(e,n,r,i){var a=t.useRef(r),o=t.useRef(i);t.useEffect((function(){a.current=r,o.current=i})),t.useEffect((function(){var t=e&&"current"in e?e.current:e;if(t){var r=0;t.addEventListener(n,u);var i=o.current;return function(){r=1,t.removeEventListener(n,u),i&&i()}}function u(){if(!r){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.current.apply(this,t)}}}),[e,n])},Ft={},Vt="undefined"===typeof window?null:window,jt=Vt&&"undefined"!==typeof Vt.visualViewport?Vt.visualViewport:null,Bt=function(){return[document.documentElement.clientWidth,document.documentElement.clientHeight]},Ut=function(e){void 0===e&&(e=Ft);var n=e,r=n.wait,i=n.leading,a=n.initialWidth,o=void 0===a?0:a,u=n.initialHeight,s=function(e,n,r){var i=t.useState(e);return[i[0],Dt(i[1],n,r)]}("undefined"===typeof document?[o,void 0===u?0:u]:Bt,r,i),c=l(s,2),f=c[0],h=c[1],d=function(){return h(Bt)};return Mt(Vt,"resize",d),Mt(jt,"resize",d),Mt(Vt,"orientationchange",d),f},zt=function(e){return(0,st.jsxs)(qt,{point:e.point,onClick:function(t){return function(t){if(e.setEnableToast(!0),e.mapClick===t.target.textContent){e.setCount(e.count-1);var n=e.status;switch(e.setIsCorrect(!0),t.target.textContent){case e.TARGET.first:n.first=!0;break;case e.TARGET.second:n.second=!0;break;case e.TARGET.third:n.third=!0;break;default:console.log("Error!")}e.setStatus(n)}else e.setIsCorrect(!1);e.setEnableBox(!1)}(t)},windowWidth:e.windowWidth,children:[(0,st.jsx)(Kt,{disabled:e.status.first,children:e.TARGET.first}),(0,st.jsx)(Kt,{disabled:e.status.second,children:e.TARGET.second}),(0,st.jsx)(Kt,{disabled:e.status.third,children:e.TARGET.third})]})},qt=it.div(Nt||(Nt=f(["\n  width: 10%;\n  position: absolute;\n  z-index: 200;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  border-radius: 6px;\n  border: 1px solid ",";\n\n  left: ",";\n  top: ",";\n\n  @media all and (max-width: 480px) {\n    width: 20%;\n  }\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.point.x>=e.windowWidth-190?e.windowWidth-190+"px":e.point.x+"px"}),(function(e){return e.point.y+"px"})),Kt=it.div(Ot||(Ot=f(["\n  cursor: pointer;\n  padding: 1rem;\n\n  border: 1px dashed ",";\n\n  color: ",";\n\n  text-decoration: ",";\n\n  background-color: ",";\n\n  pointer-events: ",";\n\n  &:hover {\n    background: ",";\n    color: ",";\n    font-weight: bold;\n  }\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.disabled?"darkred":e.theme.colors.primary}),(function(e){return e.disabled?"line-through black double 3px":"none"}),(function(e){return e.disabled?"gray":e.theme.colors.light}),(function(e){return e.disabled?"none":"null"}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.light})),Gt=it.div(Pt||(Pt=f(["\n  position: fixed;\n  z-index: 600;\n  top: 10rem;\n  left: 48vw;\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n\n  @media all and (max-width: 480px) {\n    left: 40%;\n  }\n"]))),Wt=it.div(Rt||(Rt=f(["\n  background-color: ",";\n  padding: 1rem 2rem;\n  border-radius: 12px;\n  color: ",";\n"])),(function(e){return e.isCorrect?"lightgreen":"red"}),(function(e){return e.isCorrect?e.theme.colors.primary:e.theme.colors.light})),Ht=function(e){return(0,st.jsx)(Gt,{children:(0,st.jsx)(Wt,{isCorrect:e.isCorrect,children:function(){switch(e.isCorrect){case!0:return"You found ".concat(e.mapClick,"!");case!1:return"Keep seeking!";default:console.log("Error!")}}()})})},Qt=it.main(Lt||(Lt=f(["\n  position: relative;\n  top: 0px;\n  left: 0;\n\n  @media all and (max-width: 480px) {\n    /* -webkit-tap-highlight-color: transparent; */\n  }\n"]))),$t=function(e){var n,r=Ut(n)[0],i=l((0,t.useState)(!1),2),a=i[0],o=i[1],u=l((0,t.useState)([{x:0,y:0}]),2),s=u[0],c=u[1],f=l((0,t.useState)(""),2),h=f[0],d=f[1],p=l((0,t.useState)(!1),2),v=p[0],y=p[1],m=l((0,t.useState)(!1),2),g=m[0],k=m[1];return(0,t.useEffect)((function(){v&&setTimeout((function(){y(!1)}),2e3)}),[v]),(0,st.jsxs)(Qt,{onClick:function(e){return function(e){var t=l(function(e){var t=e.target.getBoundingClientRect();return[e.clientX-t.left,e.clientY-t.top]}(e),2),n=t[0],r=t[1],i=[];i.x=n,i.y=r,c(i)}(e)},children:[(0,st.jsx)(Ct,{responsive:!0,parentWidth:r,onClickMap:function(e){return function(e){o(!0),d(e.title)}(e)},onTouchStart:function(e){return function(e){d(e.title)}(e)}}),a&&(0,st.jsx)(zt,{point:s,setEnableBox:o,mapClick:h,status:e.status,setStatus:e.setStatus,TARGET:e.TARGET,windowWidth:r,count:e.count,setCount:e.setCount,setEnableToast:y,setIsCorrect:k}),v&&(0,st.jsx)(Ht,{mapClick:h,isCorrect:g})]})};function Yt(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){return Xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xt(e,t)}function Jt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Zt(e,t,n){return Zt=Jt()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Xt(i,n.prototype),i},Zt.apply(null,arguments)}function en(e){return en=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},en(e)}function tn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=en(e)););return e}function nn(){return nn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=tn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},nn.apply(this,arguments)}function rn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function an(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xt(e,t)}function on(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function un(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return on(e)}function sn(e){var t=Jt();return function(){var n,r=en(e);if(t){var i=en(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return un(this,n)}}function cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ln(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ln(r.key),r)}}function hn(e,t,n){return t&&fn(e.prototype,t),n&&fn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dn(e,t,n){return(t=ln(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pn(e){var t="function"===typeof Map?new Map:void 0;return pn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Zt(e,arguments,en(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Xt(n,e)},pn(e)}var vn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},yn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},mn=function(e){return function(e){var t=vn(e);return yn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},gn=function(e){try{return yn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=kn(e[n],t[n]));return e}function bn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function wn(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xn(){try{return"object"===typeof indexedDB}catch(e){return!1}}function Sn(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var En=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},In=function(){try{return En()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/theSeeker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&gn(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},_n=function(e){var t=function(e){var t,n;return null===(n=null===(t=In())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Tn=function(){var e;return null===(e=In())||void 0===e?void 0:e.config},Cn=function(){function e(){var t=this;cn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return hn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function An(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[mn(JSON.stringify({alg:"none",type:"JWT"})),mn(JSON.stringify(a)),""].join(".")}var Dn=function(e){an(n,e);var t=sn(n);function n(e,r,i){var a;return cn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(on(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(on(a),Nn.prototype.create),a}return hn(n)}(pn(Error)),Nn=function(){function e(t,n,r){cn(this,e),this.service=t,this.serviceName=n,this.errors=r}return hn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?On(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Dn(n,a,t);return o}}]),e}();function On(e,t){return e.replace(Pn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Pn=/\{\$([^}]+)}/g;function Rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ln(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Mn(u)&&Mn(s)){if(!Ln(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Mn(e){return null!==e&&"object"===typeof e}function Fn(e,t){var n=new Vn(e,t);return n.subscribe.bind(n)}var Vn=function(){function e(t,n){var r=this;cn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return hn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=rn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=jn),void 0===r.error&&(r.error=jn),void 0===r.complete&&(r.complete=jn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function jn(){}var Bn=144e5;function Un(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(Bn,r+i)}function zn(e){return e&&e._delegate?e._delegate:e}var qn=function(){function e(t,n,r){cn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return hn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Kn="[DEFAULT]",Gn=function(){function e(t,n){cn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return hn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Cn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Kn})}catch(s){}var t,n=rn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=u(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Yt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Yt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=rn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=rn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(_g){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Kn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(_g){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn;return this.component?this.component.multipleInstances?e:Kn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Wn,Hn,Qn=function(){function e(t){cn(this,e),this.name=t,this.providers=new Map}return hn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Gn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),$n=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Hn||(Hn={}));var Yn={debug:Hn.DEBUG,verbose:Hn.VERBOSE,info:Hn.INFO,warn:Hn.WARN,error:Hn.ERROR,silent:Hn.SILENT},Xn=Hn.INFO,Jn=(dn(Wn={},Hn.DEBUG,"log"),dn(Wn,Hn.VERBOSE,"log"),dn(Wn,Hn.INFO,"info"),dn(Wn,Hn.WARN,"warn"),dn(Wn,Hn.ERROR,"error"),Wn),Zn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Jn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},er=function(){function e(t){cn(this,e),this.name=t,this._logLevel=Xn,this._logHandler=Zn,this._userLogHandler=null,$n.push(this)}return hn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Hn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Yn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hn.DEBUG].concat(t)),this._logHandler.apply(this,[this,Hn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Hn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hn.INFO].concat(t)),this._logHandler.apply(this,[this,Hn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hn.WARN].concat(t)),this._logHandler.apply(this,[this,Hn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hn.ERROR].concat(t)),this._logHandler.apply(this,[this,Hn.ERROR].concat(t))}}]),e}();function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rr,ir;var ar=new WeakMap,or=new WeakMap,ur=new WeakMap,sr=new WeakMap,cr=new WeakMap;var lr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return or.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ur.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function fr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ir||(ir=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(pr(this),n),dr(ar.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dr(e.apply(pr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[pr(this),t].concat(r));return ur.set(a,t.sort?t.sort():[t]),dr(a)}}function hr(e){return"function"===typeof e?fr(e):(e instanceof IDBTransaction&&function(e){if(!or.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));or.set(e,t)}}(e),t=e,(rr||(rr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,lr):e);var t}function dr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(dr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ar.set(t,e)})).catch((function(){})),cr.set(t,e),t}(e);if(sr.has(e))return sr.get(e);var t=hr(e);return t!==e&&(sr.set(e,t),cr.set(t,e)),t}var pr=function(e){return cr.get(e)};var vr,yr,mr=["get","getKey","getAll","getAllKeys","count"],gr=["put","add","delete","clear"],kr=new Map;function br(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(kr.get(t))return kr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=gr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||mr.includes(n))){var o=function(){var e=u(a().mark((function e(t){var o,u,s,c,l,f,h=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u=this.transaction(t,i?"readwrite":"readonly"),s=u.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(o=s)[n].apply(o,l),i&&u.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return kr.set(t,o),o}}}lr=function(e){return nr(nr({},e),{},{get:function(t,n,r){return br(t,n)||e.get(t,n,r)},has:function(t,n){return!!br(t,n)||e.has(t,n)}})}(lr);var wr=function(){function e(t){cn(this,e),this.container=t}return hn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var xr="@firebase/app",Sr="0.9.0",Er=new er("@firebase/app"),Ir="[DEFAULT]",_r=(dn(vr={},xr,"fire-core"),dn(vr,"@firebase/app-compat","fire-core-compat"),dn(vr,"@firebase/analytics","fire-analytics"),dn(vr,"@firebase/analytics-compat","fire-analytics-compat"),dn(vr,"@firebase/app-check","fire-app-check"),dn(vr,"@firebase/app-check-compat","fire-app-check-compat"),dn(vr,"@firebase/auth","fire-auth"),dn(vr,"@firebase/auth-compat","fire-auth-compat"),dn(vr,"@firebase/database","fire-rtdb"),dn(vr,"@firebase/database-compat","fire-rtdb-compat"),dn(vr,"@firebase/functions","fire-fn"),dn(vr,"@firebase/functions-compat","fire-fn-compat"),dn(vr,"@firebase/installations","fire-iid"),dn(vr,"@firebase/installations-compat","fire-iid-compat"),dn(vr,"@firebase/messaging","fire-fcm"),dn(vr,"@firebase/messaging-compat","fire-fcm-compat"),dn(vr,"@firebase/performance","fire-perf"),dn(vr,"@firebase/performance-compat","fire-perf-compat"),dn(vr,"@firebase/remote-config","fire-rc"),dn(vr,"@firebase/remote-config-compat","fire-rc-compat"),dn(vr,"@firebase/storage","fire-gcs"),dn(vr,"@firebase/storage-compat","fire-gcs-compat"),dn(vr,"@firebase/firestore","fire-fst"),dn(vr,"@firebase/firestore-compat","fire-fst-compat"),dn(vr,"fire-js","fire-js"),dn(vr,"firebase","fire-js-all"),vr),Tr=new Map,Cr=new Map;function Ar(e,t){try{e.container.addComponent(t)}catch(n){Er.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Dr(e,t){e.container.addOrOverwriteComponent(t)}function Nr(e){var t=e.name;if(Cr.has(t))return Er.debug("There were multiple attempts to register component ".concat(t,".")),!1;Cr.set(t,e);var n,r=rn(Tr.values());try{for(r.s();!(n=r.n()).done;){Ar(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Or(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Pr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ir;Or(e,t).clearInstance(n)}function Rr(){Cr.clear()}var Lr=(dn(yr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),dn(yr,"bad-app-name","Illegal App name: '{$appName}"),dn(yr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),dn(yr,"app-deleted","Firebase App named '{$appName}' already deleted"),dn(yr,"no-options","Need to provide options, when not being deployed to hosting via source."),dn(yr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),dn(yr,"invalid-log-argument","First argument to `onLog` must be null or a function."),dn(yr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),dn(yr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),dn(yr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),dn(yr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),yr),Mr=new Nn("app","Firebase",Lr),Fr=function(){function e(t,n,r){var i=this;cn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qn("app",(function(){return i}),"PUBLIC"))}return hn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}]),e}(),Vr="9.15.0";function jr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Ir,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Mr.create("bad-app-name",{appName:String(a)});if(n||(n=Tn()),!n)throw Mr.create("no-options");var o=Tr.get(a);if(o){if(Ln(n,o.options)&&Ln(i,o.config))return o;throw Mr.create("duplicate-app",{appName:a})}var u,s=new Qn(a),c=rn(Cr.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Fr(n,i,s);return Tr.set(a,f),f}function Br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir,t=Tr.get(e);if(!t&&e===Ir)return jr();if(!t)throw Mr.create("no-app",{appName:e});return t}function Ur(){return Array.from(Tr.values())}function zr(e){return qr.apply(this,arguments)}function qr(){return qr=u(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Tr.has(n)){e.next=6;break}return Tr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),qr.apply(this,arguments)}function Kr(e,t,n){var r,i=null!==(r=_r[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Er.warn(u.join(" "))}Nr(new qn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Gr(e,t){if(null!==e&&"function"!==typeof e)throw Mr.create("invalid-log-argument");!function(e,t){var n,r=rn($n);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Yn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Hn[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Wr(e){var t;t=e,$n.forEach((function(e){e.setLogLevel(t)}))}var Hr="firebase-heartbeat-store",Qr=null;function $r(){return Qr||(Qr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=dr(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(dr(u.result),e.oldVersion,e.newVersion,dr(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Hr)}}).catch((function(e){throw Mr.create("idb-open",{originalErrorMessage:e.message})}))),Qr}function Yr(e){return Xr.apply(this,arguments)}function Xr(){return Xr=u(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$r();case 3:return n=e.sent,e.abrupt("return",n.transaction(Hr).objectStore(Hr).get(ei(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Dn?Er.warn(e.t0.message):(r=Mr.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Er.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Xr.apply(this,arguments)}function Jr(e,t){return Zr.apply(this,arguments)}function Zr(){return Zr=u(a().mark((function e(t,n){var r,i,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$r();case 3:return r=e.sent,i=r.transaction(Hr,"readwrite"),o=i.objectStore(Hr),e.next=8,o.put(n,ei(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Dn?Er.warn(e.t0.message):(u=Mr.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Er.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Zr.apply(this,arguments)}function ei(e){return"".concat(e.name,"!").concat(e.options.appId)}var ti=function(){function e(t){var n=this;cn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ai(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return hn(e,[{key:"triggerHeartbeat",value:function(){var e=u(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ni(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=u(a().mark((function e(){var t,n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ni(),n=ri(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,o=mn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ni(){return(new Date).toISOString().substring(0,10)}function ri(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=rn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),oi(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),oi(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ii,ai=function(){function e(t){cn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return hn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Sn().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=u(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Yr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=u(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Jr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=u(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Jr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Yt(r.heartbeats),Yt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function oi(e){return mn(JSON.stringify({version:2,heartbeats:e})).length}ii="",Nr(new qn("platform-logger",(function(e){return new wr(e)}),"PRIVATE")),Nr(new qn("heartbeat",(function(e){return new ti(e)}),"PRIVATE")),Kr(xr,Sr,ii),Kr(xr,Sr,"esm2017"),Kr("fire-js","");var ui,si="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ci={},li=li||{},fi=si||self;function hi(){}function di(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function pi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var vi="closure_uid_"+(1e9*Math.random()>>>0),yi=0;function mi(e,t,n){return e.call.apply(e.bind,arguments)}function gi(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ki(e,t,n){return(ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mi:gi).apply(null,arguments)}function bi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function wi(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function xi(){this.s=this.s,this.o=this.o}xi.prototype.s=!1,xi.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,vi)&&e[vi]||(e[vi]=++yi))},xi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Si=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ei(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ii(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(di(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function _i(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_i.prototype.h=function(){this.defaultPrevented=!0};var Ti=function(){if(!fi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{fi.addEventListener("test",hi,t),fi.removeEventListener("test",hi,t)}catch(n){}return e}();function Ci(e){return/^[\s\xa0]*$/.test(e)}var Ai=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Di(e,t){return e<t?-1:e>t?1:0}function Ni(){var e=fi.navigator;return e&&(e=e.userAgent)?e:""}function Oi(e){return-1!=Ni().indexOf(e)}function Pi(e){return Pi[" "](e),e}Pi[" "]=hi;var Ri,Li=Oi("Opera"),Mi=Oi("Trident")||Oi("MSIE"),Fi=Oi("Edge"),Vi=Fi||Mi,ji=Oi("Gecko")&&!(-1!=Ni().toLowerCase().indexOf("webkit")&&!Oi("Edge"))&&!(Oi("Trident")||Oi("MSIE"))&&!Oi("Edge"),Bi=-1!=Ni().toLowerCase().indexOf("webkit")&&!Oi("Edge");function Ui(){var e=fi.document;return e?e.documentMode:void 0}e:{var zi="",qi=function(){var e=Ni();return ji?/rv:([^\);]+)(\)|;)/.exec(e):Fi?/Edge\/([\d\.]+)/.exec(e):Mi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Bi?/WebKit\/(\S+)/.exec(e):Li?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(qi&&(zi=qi?qi[1]:""),Mi){var Ki=Ui();if(null!=Ki&&Ki>parseFloat(zi)){Ri=String(Ki);break e}}Ri=zi}var Gi,Wi={};function Hi(){return function(e){var t=Wi;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ai(String(Ri)).split("."),n=Ai("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Di(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Di(0==a[2].length,0==o[2].length)||Di(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(fi.document&&Mi){var Qi=Ui();Gi=Qi||(parseInt(Ri,10)||void 0)}else Gi=void 0;var $i=Gi;function Yi(e,t){if(_i.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ji){e:{try{Pi(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Xi[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Yi.X.h.call(this)}}wi(Yi,_i);var Xi={2:"touch",3:"pen",4:"mouse"};Yi.prototype.h=function(){Yi.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ji="closure_listenable_"+(1e6*Math.random()|0),Zi=0;function ea(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Zi,this.ba=this.ea=!1}function ta(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function na(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ra(e){var t={};for(var n in e)t[n]=e[n];return t}var ia="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aa(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ia.length;a++)n=ia[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function oa(e){this.src=e,this.g={},this.h=0}function ua(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Si(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ta(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function sa(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}oa.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=sa(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new ea(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var ca="closure_lm_"+(1e6*Math.random()|0),la={};function fa(e,t,n,r,i){if(r&&r.once)return da(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)fa(e,t[a],n,r,i);return null}return n=ba(n),e&&e[Ji]?e.N(t,n,pi(r)?!!r.capture:!!r,i):ha(e,t,n,!1,r,i)}function ha(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=pi(i)?!!i.capture:!!i,u=ga(e);if(u||(e[ca]=u=new oa(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ma;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ti||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ya(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function da(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)da(e,t[a],n,r,i);return null}return n=ba(n),e&&e[Ji]?e.O(t,n,pi(r)?!!r.capture:!!r,i):ha(e,t,n,!0,r,i)}function pa(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)pa(e,t[a],n,r,i);else r=pi(r)?!!r.capture:!!r,n=ba(n),e&&e[Ji]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=sa(a=e.g[t],n,r,i))&&(ta(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ga(e))&&(t=e.g[t.toString()],e=-1,t&&(e=sa(t,n,r,i)),(n=-1<e?t[e]:null)&&va(n))}function va(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Ji])ua(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ya(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ga(t))?(ua(n,e),0==n.h&&(n.src=null,t[ca]=null)):ta(e)}}}function ya(e){return e in la?la[e]:la[e]="on"+e}function ma(e,t){if(e.ba)e=!0;else{t=new Yi(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&va(e),e=n.call(r,t)}return e}function ga(e){return(e=e[ca])instanceof oa?e:null}var ka="__closure_events_fn_"+(1e9*Math.random()>>>0);function ba(e){return"function"===typeof e?e:(e[ka]||(e[ka]=function(t){return e.handleEvent(t)}),e[ka])}function wa(){xi.call(this),this.i=new oa(this),this.P=this,this.I=null}function xa(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new _i(t,e);else if(t instanceof _i)t.target=t.target||e;else{var i=t;aa(t=new _i(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Sa(o,r,!0,t)&&i}if(i=Sa(o=t.g=e,r,!0,t)&&i,i=Sa(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Sa(o=t.g=n[a],r,!1,t)&&i}function Sa(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&ua(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}wi(wa,xi),wa.prototype[Ji]=!0,wa.prototype.removeEventListener=function(e,t,n,r){pa(this,e,t,n,r)},wa.prototype.M=function(){if(wa.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ta(n[r]);delete t.g[e],t.h--}}this.I=null},wa.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},wa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ea=fi.JSON.stringify;function Ia(){var e=Pa,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _a,Ta=function(){function e(){cn(this,e),this.h=this.g=null}return hn(e,[{key:"add",value:function(e,t){var n=Ca.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ca=new(function(){function e(t,n){cn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return hn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Aa}),(function(e){return e.reset()})),Aa=function(){function e(){cn(this,e),this.next=this.g=this.h=null}return hn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Da(e){fi.setTimeout((function(){throw e}),0)}function Na(e,t){_a||function(){var e=fi.Promise.resolve(void 0);_a=function(){e.then(Ra)}}(),Oa||(_a(),Oa=!0),Pa.add(e,t)}var Oa=!1,Pa=new Ta;function Ra(){for(var e;e=Ia();){try{e.h.call(e.g)}catch(n){Da(n)}var t=Ca;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Oa=!1}function La(e,t){wa.call(this),this.h=e||1,this.g=t||fi,this.j=ki(this.lb,this),this.l=Date.now()}function Ma(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Fa(e,t,n){if("function"===typeof e)n&&(e=ki(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ki(e.handleEvent,e)}return 2147483647<Number(t)?-1:fi.setTimeout(e,t||0)}function Va(e){e.g=Fa((function(){e.g=null,e.i&&(e.i=!1,Va(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}wi(La,wa),(ui=La.prototype).ca=!1,ui.R=null,ui.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),xa(this,"tick"),this.ca&&(Ma(this),this.start()))}},ui.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ui.M=function(){La.X.M.call(this),Ma(this),delete this.g};var ja=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return hn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Va(this)}},{key:"M",value:function(){nn(en(n.prototype),"M",this).call(this),this.g&&(fi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(xi);function Ba(e){xi.call(this),this.h=e,this.g={}}wi(Ba,xi);var Ua=[];function za(e,t,n,r){Array.isArray(n)||(n&&(Ua[0]=n.toString()),n=Ua);for(var i=0;i<n.length;i++){var a=fa(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function qa(e){na(e.g,(function(e,t){this.g.hasOwnProperty(t)&&va(e)}),e),e.g={}}function Ka(){this.g=!0}function Ga(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ea(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ba.prototype.M=function(){Ba.X.M.call(this),qa(this)},Ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ka.prototype.Aa=function(){this.g=!1},Ka.prototype.info=function(){};var Wa={},Ha=null;function Qa(){return Ha=Ha||new wa}function $a(e){_i.call(this,Wa.Pa,e)}function Ya(e){var t=Qa();xa(t,new $a(t))}function Xa(e,t){_i.call(this,Wa.STAT_EVENT,e),this.stat=t}function Ja(e){var t=Qa();xa(t,new Xa(t,e))}function Za(e,t){_i.call(this,Wa.Qa,e),this.size=t}function eo(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return fi.setTimeout((function(){e()}),t)}Wa.Pa="serverreachability",wi($a,_i),Wa.STAT_EVENT="statevent",wi(Xa,_i),Wa.Qa="timingevent",wi(Za,_i);var to={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},no={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ro(){}function io(e){return e.h||(e.h=e.i())}function ao(){}ro.prototype.h=null;var oo,uo={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function so(){_i.call(this,"d")}function co(){_i.call(this,"c")}function lo(){}function fo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Ba(this),this.O=po,e=Vi?125:void 0,this.T=new La(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ho}function ho(){this.i=null,this.g="",this.h=!1}wi(so,_i),wi(co,_i),wi(lo,ro),lo.prototype.g=function(){return new XMLHttpRequest},lo.prototype.i=function(){return{}},oo=new lo;var po=45e3,vo={},yo={};function mo(e,t,n){e.K=1,e.v=Mo(No(t)),e.s=n,e.P=!0,go(e,null)}function go(e,t){e.F=Date.now(),xo(e),e.A=No(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),$o(n.i,"t",r),e.C=0,n=e.l.H,e.h=new ho,e.g=Yu(e.l,n?t:null,!e.s),0<e.N&&(e.L=new ja(ki(e.La,e,e.g),e.N)),za(e.S,e.g,"readystatechange",e.ib),t=e.H?ra(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Ya(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function ko(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function bo(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=wo(e,n))==yo){4==t&&(e.o=4,Ja(14),i=!1),Ga(e.j,e.m,null,"[Incomplete Response]");break}if(r==vo){e.o=4,Ja(15),Ga(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ga(e.j,e.m,r,null),To(e,r)}ko(e)&&r!=yo&&r!=vo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ja(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),zu(t),t.K=!0,Ja(11))):(Ga(e.j,e.m,n,"[Invalid Chunked Response]"),_o(e),Io(e))}function wo(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?yo:(n=Number(t.substring(n,r)),isNaN(n)?vo:(r+=1)+n>t.length?yo:(t=t.substr(r,n),e.C=r+n,t))}function xo(e){e.V=Date.now()+e.O,So(e,e.O)}function So(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eo(ki(e.gb,e),t)}function Eo(e){e.B&&(fi.clearTimeout(e.B),e.B=null)}function Io(e){0==e.l.G||e.I||Gu(e.l,e)}function _o(e){Eo(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ma(e.T),qa(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function To(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ru(n.h,e)))if(!e.J&&ru(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ku(n),Ru(n)}Uu(n),Ja(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=eo(ki(n.cb,n),6e3));if(1>=nu(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Hu(n,11)}else if((e.J||n.g==e)&&Ku(n),!Ci(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(iu(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Lo(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=$u(r,r.H?r.ka:null,r.V),d.J){au(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Eo(p),xo(p)),r.g=d}else Bu(r);0<n.i.length&&Mu(n)}else"stop"!=a[0]&&"close"!=a[0]||Hu(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Hu(n,7):Pu(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Ya()}catch(a){}}function Co(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(di(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(di(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(di(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(ui=fo.prototype).setTimeout=function(e){this.O=e},ui.ib=function(e){e=e.target;var t=this.L;t&&3==Tu(e)?t.l():this.La(e)},ui.La=function(e){try{if(e==this.g)e:{var t=Tu(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Vi||this.g&&(this.h.h||this.g.fa()||Cu(this.g)))){this.I||4!=t||7==n||Ya(),Eo(this);var r=this.g.aa();this.Y=r;t:if(ko(this)){var i=Cu(this.g);e="";var a=i.length,o=4==Tu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){_o(this),Io(this);var u="";break t}this.h.i=new fi.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ci(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Ja(12),_o(this),Io(this);break e}Ga(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,To(this,r)}this.P?(bo(this,t,u),Vi&&this.i&&3==t&&(za(this.S,this.T,"tick",this.hb),this.T.start())):(Ga(this.j,this.m,u,null),To(this,u)),4==t&&_o(this),this.i&&!this.I&&(4==t?Gu(this.l,this):(this.i=!1,xo(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Ja(12)):(this.o=0,Ja(13)),_o(this),Io(this)}}}catch(t){}},ui.hb=function(){if(this.g){var e=Tu(this.g),t=this.g.fa();this.C<t.length&&(Eo(this),bo(this,e,t),this.i&&4!=e&&xo(this))}},ui.cancel=function(){this.I=!0,_o(this)},ui.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ya(),Ja(17)),_o(this),this.o=2,Io(this)):So(this,this.V-e)};var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Do(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Do){this.h=void 0!==t?t:e.h,Oo(this,e.j),this.s=e.s,this.g=e.g,Po(this,e.m),this.l=e.l,t=e.i;var n=new Go;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ro(this,n),this.o=e.o}else e&&(n=String(e).match(Ao))?(this.h=!!t,Oo(this,n[1]||"",!0),this.s=Fo(n[2]||""),this.g=Fo(n[3]||"",!0),Po(this,n[4]),this.l=Fo(n[5]||"",!0),Ro(this,n[6]||"",!0),this.o=Fo(n[7]||"")):(this.h=!!t,this.i=new Go(null,this.h))}function No(e){return new Do(e)}function Oo(e,t,n){e.j=n?Fo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Po(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ro(e,t,n){t instanceof Go?(e.i=t,function(e,t){t&&!e.j&&(Wo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ho(this,t),$o(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Vo(t,qo)),e.i=new Go(t,e.h))}function Lo(e,t,n){e.i.set(t,n)}function Mo(e){return Lo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Fo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vo(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,jo),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function jo(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Do.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Vo(t,Bo,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Vo(t,Bo,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vo(n,"/"==n.charAt(0)?zo:Uo,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Vo(n,Ko)),e.join("")};var Bo=/[#\/\?@]/g,Uo=/[#\?:]/g,zo=/[#\?]/g,qo=/[#\?@]/g,Ko=/#/g;function Go(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Wo(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ho(e,t){Wo(e),t=Yo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Qo(e,t){return Wo(e),t=Yo(e,t),e.g.has(t)}function $o(e,t,n){Ho(e,t),0<n.length&&(e.i=null,e.g.set(Yo(e,t),Ei(n)),e.h+=n.length)}function Yo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ui=Go.prototype).add=function(e,t){Wo(this),this.i=null,e=Yo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ui.forEach=function(e,t){Wo(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ui.oa=function(){Wo(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ui.W=function(e){Wo(this);var t=[];if("string"===typeof e)Qo(this,e)&&(t=t.concat(this.g.get(Yo(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},ui.set=function(e,t){return Wo(this),this.i=null,Qo(this,e=Yo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ui.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},ui.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Xo=hn((function e(t,n){cn(this,e),this.h=t,this.g=n}));function Jo(e){this.l=e||eu,fi.PerformanceNavigationTiming?e=0<(e=fi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(fi.g&&fi.g.Ga&&fi.g.Ga()&&fi.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Zo,eu=10;function tu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function nu(e){return e.h?1:e.g?e.g.size:0}function ru(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function iu(e,t){e.g?e.g.add(t):e.h=t}function au(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ou(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=rn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ei(e.i)}function uu(){}function su(){this.g=new uu}function cu(e,t,n){var r=n||"";try{Co(e,(function(e,n){var i=e;pi(e)&&(i=Ea(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function lu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function fu(e){this.l=e.ac||null,this.j=e.jb||!1}function hu(e,t){wa.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=du,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jo.prototype.cancel=function(){if(this.i=ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=rn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},uu.prototype.stringify=function(e){return fi.JSON.stringify(e,void 0)},uu.prototype.parse=function(e){return fi.JSON.parse(e,void 0)},wi(fu,ro),fu.prototype.g=function(){return new hu(this.l,this.j)},fu.prototype.i=(Zo={},function(){return Zo}),wi(hu,wa);var du=0;function pu(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function vu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,yu(e)}function yu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ui=hu.prototype).open=function(e,t){if(this.readyState!=du)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,yu(this)},ui.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||fi).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},ui.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vu(this)),this.readyState=du},ui.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,yu(this)),this.g&&(this.readyState=3,yu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof fi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pu(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},ui.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?vu(this):yu(this),3==this.readyState&&pu(this)}},ui.Va=function(e){this.g&&(this.response=this.responseText=e,vu(this))},ui.Ua=function(e){this.g&&(this.response=e,vu(this))},ui.ga=function(){this.g&&vu(this)},ui.setRequestHeader=function(e,t){this.v.append(e,t)},ui.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ui.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(hu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var mu=fi.JSON.parse;function gu(e){wa.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ku,this.K=this.L=!1}wi(gu,wa);var ku="",bu=/^https?$/i,wu=["POST","PUT"];function xu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Su(e),Iu(e)}function Su(e){e.D||(e.D=!0,xa(e,"complete"),xa(e,"error"))}function Eu(e){if(e.h&&"undefined"!=typeof li&&(!e.C[1]||4!=Tu(e)||2!=e.aa()))if(e.v&&4==Tu(e))Fa(e.Ha,0,e);else if(xa(e,"readystatechange"),4==Tu(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ao)[1]||null;if(!a&&fi.self&&fi.self.location){var o=fi.self.location.protocol;a=o.substr(0,o.length-1)}i=!bu.test(a?a.toLowerCase():"")}t=i}if(t)xa(e,"complete"),xa(e,"success");else{e.m=6;try{var u=2<Tu(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Su(e)}}finally{Iu(e)}}}function Iu(e,t){if(e.g){_u(e);var n=e.g,r=e.C[0]?hi:null;e.g=null,e.C=null,t||xa(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function _u(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(fi.clearTimeout(e.A),e.A=null)}function Tu(e){return e.g?e.g.readyState:0}function Cu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ku:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(T){return null}}function Au(e){var t="";return na(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Du(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Au(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Lo(e,t,n))}function Nu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ou(e){this.Ca=0,this.i=[],this.j=new Ka,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Nu("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Nu("baseRetryDelayMs",5e3,e),this.bb=Nu("retryDelaySeedMs",1e4,e),this.$a=Nu("forwardChannelMaxRetries",2,e),this.ta=Nu("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Jo(e&&e.concurrentRequestLimit),this.Fa=new su,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Pu(e){if(Lu(e),3==e.G){var t=e.U++,n=No(e.F);Lo(n,"SID",e.I),Lo(n,"RID",t),Lo(n,"TYPE","terminate"),Vu(e,n),(t=new fo(e,e.j,t,void 0)).K=2,t.v=Mo(No(n)),n=!1,fi.navigator&&fi.navigator.sendBeacon&&(n=fi.navigator.sendBeacon(t.v.toString(),"")),!n&&fi.Image&&((new Image).src=t.v,n=!0),n||(t.g=Yu(t.l,null),t.g.da(t.v)),t.F=Date.now(),xo(t)}Qu(e)}function Ru(e){e.g&&(zu(e),e.g.cancel(),e.g=null)}function Lu(e){Ru(e),e.u&&(fi.clearTimeout(e.u),e.u=null),Ku(e),e.h.cancel(),e.m&&("number"===typeof e.m&&fi.clearTimeout(e.m),e.m=null)}function Mu(e){tu(e.h)||e.m||(e.m=!0,Na(e.Ja,e),e.C=0)}function Fu(e,t){var n;n=t?t.m:e.U++;var r=No(e.F);Lo(r,"SID",e.I),Lo(r,"RID",n),Lo(r,"AID",e.T),Vu(e,r),e.o&&e.s&&Du(r,e.o,e.s),n=new fo(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=ju(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),iu(e.h,n),mo(n,r,t)}function Vu(e,t){e.ia&&na(e.ia,(function(e,n){Lo(t,n,e)})),e.l&&Co({},(function(e,n){Lo(t,n,e)}))}function ju(e,t,n){n=Math.min(e.i.length,n);var r=e.l?ki(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{cu(l,o,"req"+c+"_")}catch(K){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Bu(e){e.g||e.u||(e.Z=1,Na(e.Ia,e),e.A=0)}function Uu(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=eo(ki(e.Ia,e),Wu(e,e.A)),e.A++,!0)}function zu(e){null!=e.B&&(fi.clearTimeout(e.B),e.B=null)}function qu(e){e.g=new fo(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=No(e.sa);Lo(t,"RID","rpc"),Lo(t,"SID",e.I),Lo(t,"CI",e.L?"0":"1"),Lo(t,"AID",e.T),Lo(t,"TYPE","xmlhttp"),Vu(e,t),e.o&&e.s&&Du(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Mo(No(t)),n.s=null,n.P=!0,go(n,e)}function Ku(e){null!=e.v&&(fi.clearTimeout(e.v),e.v=null)}function Gu(e,t){var n=null;if(e.g==t){Ku(e),zu(e),e.g=null;var r=2}else{if(!ru(e.h,t))return;n=t.D,au(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;xa(r=Qa(),new Za(r,n)),Mu(e)}else Bu(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(nu(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=eo(ki(e.Ja,e,t),Wu(e,e.C)),e.C++,!0))}(e,t)||2==r&&Uu(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Hu(e,5);break;case 4:Hu(e,10);break;case 3:Hu(e,6);break;default:Hu(e,2)}}function Wu(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Hu(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=ki(e.kb,e);n||(n=new Do("//www.google.com/images/cleardot.gif"),fi.location&&"http"==fi.location.protocol||Oo(n,"https"),Mo(n)),function(e,t){var n=new Ka;if(fi.Image){var r=new Image;r.onload=bi(lu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=bi(lu,n,r,"TestLoadImage: error",!1,t),r.onabort=bi(lu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=bi(lu,n,r,"TestLoadImage: timeout",!1,t),fi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ja(2);e.G=0,e.l&&e.l.va(t),Qu(e),Lu(e)}function Qu(e){if(e.G=0,e.la=[],e.l){var t=ou(e.h);0==t.length&&0==e.i.length||(Ii(e.la,t),Ii(e.la,e.i),e.h.i.length=0,Ei(e.i),e.i.length=0),e.l.ua()}}function $u(e,t,n){var r=n instanceof Do?No(n):new Do(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Po(r,r.m);else{var i=fi.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Do(null,void 0);r&&Oo(a,r),t&&(a.g=t),i&&Po(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Lo(r,n,t),Lo(r,"VER",e.ma),Vu(e,r),r}function Yu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new gu(new fu({jb:!0})):new gu(e.ra)).Ka(e.H),t}function Xu(){}function Ju(){if(Mi&&!(10<=Number($i)))throw Error("Environmental error: no available transport.")}function Zu(e,t){wa.call(this),this.g=new Ou(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Ci(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ci(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ns(this)}function es(e){so.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ts(){co.call(this),this.status=1}function ns(e){this.g=e}(ui=gu.prototype).Ka=function(e){this.L=e},ui.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():oo.g(),this.C=this.u?io(this.u):io(oo),this.g.onreadystatechange=ki(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void xu(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=rn(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=fi.FormData&&e instanceof fi.FormData,!(0<=Si(wu,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=rn(n);try{for(c.s();!(s=c.n()).done;){var f=l(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_u(this),0<this.B&&((this.K=function(e){return Mi&&Hi()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ki(this.qa,this)):this.A=Fa(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){xu(this,u)}},ui.qa=function(){"undefined"!=typeof li&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xa(this,"timeout"),this.abort(8))},ui.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,xa(this,"complete"),xa(this,"abort"),Iu(this))},ui.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Iu(this,!0)),gu.X.M.call(this)},ui.Ha=function(){this.s||(this.F||this.v||this.l?Eu(this):this.fb())},ui.fb=function(){Eu(this)},ui.aa=function(){try{return 2<Tu(this)?this.g.status:-1}catch(Zo){return-1}},ui.fa=function(){try{return this.g?this.g.responseText:""}catch(Zo){return""}},ui.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mu(t)}},ui.Ea=function(){return this.m},ui.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ui=Ou.prototype).ma=8,ui.G=1,ui.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new fo(this,this.j,e,void 0),n=this.s;if(this.S&&(n?aa(n=ra(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ju(this,t,r),Lo(i=No(this.F),"RID",e),Lo(i,"CVER",22),this.D&&Lo(i,"X-HTTP-Session-Id",this.D),Vu(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Au(n)))+"&"+r:this.o&&Du(i,this.o,n)),iu(this.h,t),this.Ya&&Lo(i,"TYPE","init"),this.O?(Lo(i,"$req",r),Lo(i,"SID","null"),t.Z=!0,mo(t,i,null)):mo(t,i,r),this.G=2}}else 3==this.G&&(e?Fu(this,e):0==this.i.length||tu(this.h)||Fu(this))},ui.Ia=function(){if(this.u=null,qu(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=eo(ki(this.eb,this),e)}},ui.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ja(10),Ru(this),qu(this))},ui.cb=function(){null!=this.v&&(this.v=null,Ru(this),Uu(this),Ja(19))},ui.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Ja(2)):(this.j.info("Failed to ping google.com"),Ja(1))},(ui=Xu.prototype).xa=function(){},ui.wa=function(){},ui.va=function(){},ui.ua=function(){},ui.Ra=function(){},Ju.prototype.g=function(e,t){return new Zu(e,t)},wi(Zu,wa),Zu.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Ja(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=$u(e,null,e.V),Mu(e)},Zu.prototype.close=function(){Pu(this.g)},Zu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ea(e),e=n);t.i.push(new Xo(t.ab++,e)),3==t.G&&Mu(t)},Zu.prototype.M=function(){this.g.l=null,delete this.j,Pu(this.g),delete this.g,Zu.X.M.call(this)},wi(es,so),wi(ts,co),wi(ns,Xu),ns.prototype.xa=function(){xa(this.g,"a")},ns.prototype.wa=function(e){xa(this.g,new es(e))},ns.prototype.va=function(e){xa(this.g,new ts)},ns.prototype.ua=function(){xa(this.g,"b")},Ju.prototype.createWebChannel=Ju.prototype.g,Zu.prototype.send=Zu.prototype.u,Zu.prototype.open=Zu.prototype.m,Zu.prototype.close=Zu.prototype.close,to.NO_ERROR=0,to.TIMEOUT=8,to.HTTP_ERROR=6,no.COMPLETE="complete",ao.EventType=uo,uo.OPEN="a",uo.CLOSE="b",uo.ERROR="c",uo.MESSAGE="d",wa.prototype.listen=wa.prototype.N,gu.prototype.listenOnce=gu.prototype.O,gu.prototype.getLastError=gu.prototype.Oa,gu.prototype.getLastErrorCode=gu.prototype.Ea,gu.prototype.getStatus=gu.prototype.aa,gu.prototype.getResponseJson=gu.prototype.Sa,gu.prototype.getResponseText=gu.prototype.fa,gu.prototype.send=gu.prototype.da,gu.prototype.setWithCredentials=gu.prototype.Ka;var rs=ci.createWebChannelTransport=function(){return new Ju},is=ci.getStatEventTarget=function(){return Qa()},as=ci.ErrorCode=to,os=ci.EventType=no,us=ci.Event=Wa,ss=ci.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},cs=ci.FetchXmlHttpFactory=fu,ls=ci.WebChannel=ao,fs=ci.XhrIo=gu,hs="@firebase/firestore",ds=function(){function e(t){cn(this,e),this.uid=t}return hn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ds.UNAUTHENTICATED=new ds(null),ds.GOOGLE_CREDENTIALS=new ds("google-credentials-uid"),ds.FIRST_PARTY=new ds("first-party-uid"),ds.MOCK_USER=new ds("mock-user");var ps="9.15.0",vs=new er("@firebase/firestore");function ys(){return vs.logLevel}function ms(e){if(vs.logLevel<=Hn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bs);vs.debug.apply(vs,["Firestore (".concat(ps,"): ").concat(e)].concat(Yt(i)))}}function gs(e){if(vs.logLevel<=Hn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bs);vs.error.apply(vs,["Firestore (".concat(ps,"): ").concat(e)].concat(Yt(i)))}}function ks(e){if(vs.logLevel<=Hn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bs);vs.warn.apply(vs,["Firestore (".concat(ps,"): ").concat(e)].concat(Yt(i)))}}function bs(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ws(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ps,") INTERNAL ASSERTION FAILED: ")+e;throw gs(t),new Error(t)}function xs(e,t){e||ws()}function Ss(e,t){return e}var Es={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Is=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return hn(n)}(Dn),_s=hn((function e(){var t=this;cn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ts=hn((function e(t,n){cn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Cs=function(){function e(){cn(this,e)}return hn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ds.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),As=function(){function e(t){cn(this,e),this.token=t,this.changeListener=null}return hn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ds=function(){function e(t){cn(this,e),this.t=t,this.currentUser=ds.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return hn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},o=new _s;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new _s,e.enqueueRetryable((function(){return i(n.currentUser)}))};var s=function(){var t=o;e.enqueueRetryable(u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},c=function(e){ms("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),s()};this.t.onInit((function(e){return c(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?c(e):(ms("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _s)}}),0),s()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ms("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(xs("string"==typeof n.accessToken),new Ts(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return xs(null===e||"string"==typeof e),new ds(e)}}]),e}(),Ns=function(){function e(t,n,r,i){cn(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=ds.FIRST_PARTY,this.p=new Map}return hn(e,[{key:"I",value:function(){return this.g?this.g():(xs(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Os=function(){function e(t,n,r,i){cn(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return hn(e,[{key:"getToken",value:function(){return Promise.resolve(new Ns(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ds.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ps=hn((function e(t){cn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Rs=function(){function e(t){cn(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return hn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ms("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,ms("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ms("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):ms("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(xs("string"==typeof t.token),e.A=t.token,new Ps(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ls(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ms=function(){function e(){cn(this,e)}return hn(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ls(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Fs(e,t){return e<t?-1:e>t?1:0}function Vs(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function js(e){return e+"\0"}var Bs=function(){function e(t,n){if(cn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Is(Es.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Is(Es.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Is(Es.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Is(Es.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return hn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Fs(this.nanoseconds,e.nanoseconds):Fs(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Us=function(){function e(t){cn(this,e),this.timestamp=t}return hn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Bs(0,0))}},{key:"max",value:function(){return new e(new Bs(253402300799,999999999))}}]),e}(),zs=function(){function e(t,n,r){cn(this,e),void 0===n?n=0:n>t.length&&ws(),void 0===r?r=t.length-n:r>t.length-n&&ws(),this.segments=t,this.offset=n,this.len=r}return hn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),qs=function(e){an(n,e);var t=sn(n);function n(){return cn(this,n),t.apply(this,arguments)}return hn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Is(Es.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Yt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zs),Ks=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gs=function(e){an(n,e);var t=sn(n);function n(){return cn(this,n),t.apply(this,arguments)}return hn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ks.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Is(Es.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Is(Es.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Is(Es.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Is(Es.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zs),Ws=function(){function e(t){cn(this,e),this.path=t}return hn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===qs.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(qs.fromString(t))}},{key:"fromName",value:function(t){return new e(qs.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(qs.emptyPath())}},{key:"comparator",value:function(e,t){return qs.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new qs(t.slice()))}}]),e}(),Hs=hn((function e(t,n,r,i){cn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Qs(e){return e.fields.find((function(e){return 2===e.kind}))}function $s(e){return e.fields.filter((function(e){return 2!==e.kind}))}Hs.UNKNOWN_ID=-1;var Ys=hn((function e(t,n){cn(this,e),this.fieldPath=t,this.kind=n}));var Xs=function(){function e(t,n){cn(this,e),this.sequenceNumber=t,this.offset=n}return hn(e,null,[{key:"empty",value:function(){return new e(0,ec.min())}}]),e}();function Js(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Us.fromTimestamp(1e9===r?new Bs(n+1,0):new Bs(n,r));return new ec(i,Ws.empty(),t)}function Zs(e){return new ec(e.readTime,e.key,-1)}var ec=function(){function e(t,n,r){cn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return hn(e,null,[{key:"min",value:function(){return new e(Us.min(),Ws.empty(),-1)}},{key:"max",value:function(){return new e(Us.max(),Ws.empty(),-1)}}]),e}();function tc(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ws.comparator(e.documentKey,t.documentKey))?n:Fs(e.largestBatchId,t.largestBatchId)}var nc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rc=function(){function e(){cn(this,e),this.onCommittedListeners=[]}return hn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ic(e){return ac.apply(this,arguments)}function ac(){return ac=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Es.FAILED_PRECONDITION&&t.message===nc){e.next=2;break}throw t;case 2:ms("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ac.apply(this,arguments)}var oc=function(){function e(t){var n=this;cn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return hn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ws(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=rn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),uc=function(){function e(t,n){var r=this;cn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new _s,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new lc(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=vc(e.target.error);r.P.reject(new lc(t,n))}}return hn(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(ms("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new hc(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new lc(n,t)}}}]),e}(),sc=function(){function e(t,n,r){cn(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(bn())&&gs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return hn(e,[{key:"F",value:function(){var e=u(a().mark((function e(t){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ms("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new lc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Is(Es.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Is(Es.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new lc(t,n))},i.onupgradeneeded=function(e){ms("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){ms("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=u(a().mark((function e(t,n,r,i){var o,u,s,c,l=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o="readonly"===n,u=0,s=a().mark((function e(){var n,s,c,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++u,e.prev=1,e.next=4,l.F(t);case 4:return l.db=e.sent,n=uc.open(l.db,t,o?"readonly":"readwrite",r),s=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),oc.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.v;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),c=e.t1,f="FirebaseError"!==c.name&&u<3,ms("SimpleDb","Transaction failed with error:",c.message,"Retrying:",f),l.close(),f){e.next=18;break}return e.abrupt("return",{v:Promise.reject(c)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(c=e.t0)){e.next=7;break}return e.abrupt("return",c.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ms("SimpleDb","Removing database:",e),dc(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!xn())return!1;if(e.N())return!0;var t=bn(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/theSeeker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),cc=function(){function e(t){cn(this,e),this.q=t,this.U=!1,this.K=null}return hn(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return dc(this.q.delete())}}]),e}(),lc=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this,Es.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return hn(n)}(Is);function fc(e){return"IndexedDbTransactionError"===e.name}var hc=function(){function e(t){cn(this,e),this.store=t}return hn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ms("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ms("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),dc(n)}},{key:"add",value:function(e){return ms("SimpleDb","ADD",this.store.name,e,e),dc(this.store.add(e))}},{key:"get",value:function(e){var t=this;return dc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ms("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ms("SimpleDb","DELETE",this.store.name,e),dc(this.store.delete(e))}},{key:"count",value:function(){return ms("SimpleDb","COUNT",this.store.name),dc(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new oc((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new oc((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){ms("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new oc((function(n,r){t.onerror=function(e){var t=vc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new oc((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new cc(i),o=t(i.primaryKey,i.value,a);if(o instanceof oc){var u=o.catch((function(e){return a.done(),oc.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return oc.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function dc(e){return new oc((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=vc(e.target.error);n(t)}}))}var pc=!1;function vc(e){var t=sc.D(bn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Is("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return pc||(pc=!0,setTimeout((function(){throw r}),0)),r}}return e}var yc=function(){function e(t,n){cn(this,e),this.asyncQueue=t,this.et=n,this.task=null}return hn(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;ms("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=ms,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!fc(e.t4)){e.next=17;break}ms("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,ic(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),mc=function(){function e(t,n){cn(this,e),this.localStore=t,this.persistence=n}return hn(e,[{key:"st",value:function(){var e=u(a().mark((function e(){var t,n=this,r=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return oc.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return ms("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return ms("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Zs(t);tc(r,n)>0&&(n=r)})),new ec(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),gc=function(){function e(t,n){var r=this;cn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return hn(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();gc.at=-1;var kc=hn((function e(t,n,r,i,a,o,u,s){cn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),bc=function(){function e(t,n){cn(this,e),this.projectId=t,this.database=n||"(default)"}return hn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function wc(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ec(e){return null==e}function Ic(e){return 0===e&&1/e==-1/0}function _c(e){return"number"==typeof e&&Number.isInteger(e)&&!Ic(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Tc=function(e){function t(e){cn(this,t),this.binaryString=e}return hn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Fs(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Tc.EMPTY_BYTE_STRING=new Tc("");var Cc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ac(e){if(xs(!!e),"string"==typeof e){var t=0,n=Cc.exec(e);if(xs(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Dc(e.seconds),nanos:Dc(e.nanos)}}function Dc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Nc(e){return"string"==typeof e?Tc.fromBase64String(e):Tc.fromUint8Array(e)}function Oc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pc(e){var t=e.mapValue.fields.__previous_value__;return Oc(t)?Pc(t):t}function Rc(e){var t=Ac(e.mapValue.fields.__local_write_time__.timestampValue);return new Bs(t.seconds,t.nanos)}var Lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Mc={nullValue:"NULL_VALUE"};function Fc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Oc(e)?4:Xc(e)?9007199254740991:10:ws()}function Vc(e,t){if(e===t)return!0;var n=Fc(e);if(n!==Fc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rc(e).isEqual(Rc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ac(e.timestampValue),r=Ac(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Nc(e.bytesValue).isEqual(Nc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Dc(e.geoPointValue.latitude)===Dc(t.geoPointValue.latitude)&&Dc(e.geoPointValue.longitude)===Dc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Dc(e.integerValue)===Dc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Dc(e.doubleValue),r=Dc(t.doubleValue);return n===r?Ic(n)===Ic(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Vs(e.arrayValue.values||[],t.arrayValue.values||[],Vc);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wc(n)!==wc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vc(n[i],r[i])))return!1;return!0}(e,t);default:return ws()}}function jc(e,t){return void 0!==(e.values||[]).find((function(e){return Vc(e,t)}))}function Bc(e,t){if(e===t)return 0;var n=Fc(e),r=Fc(t);if(n!==r)return Fs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fs(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Dc(e.integerValue||e.doubleValue),r=Dc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Uc(e.timestampValue,t.timestampValue);case 4:return Uc(Rc(e),Rc(t));case 5:return Fs(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Nc(e),r=Nc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Fs(n[i],r[i]);if(0!==a)return a}return Fs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Fs(Dc(e.latitude),Dc(t.latitude));return 0!==n?n:Fs(Dc(e.longitude),Dc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Bc(n[i],r[i]);if(a)return a}return Fs(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Lc.mapValue&&t===Lc.mapValue)return 0;if(e===Lc.mapValue)return 1;if(t===Lc.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Fs(r[o],a[o]);if(0!==u)return u;var s=Bc(n[r[o]],i[a[o]]);if(0!==s)return s}return Fs(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ws()}}function Uc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Fs(e,t);var n=Ac(e),r=Ac(t),i=Fs(n.seconds,r.seconds);return 0!==i?i:Fs(n.nanos,r.nanos)}function zc(e){return qc(e)}function qc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ac(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Nc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ws.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=rn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=qc(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=rn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(qc(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ws();var t,n}function Kc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gc(e){return!!e&&"integerValue"in e}function Wc(e){return!!e&&"arrayValue"in e}function Hc(e){return!!e&&"nullValue"in e}function Qc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $c(e){return!!e&&"mapValue"in e}function Yc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return xc(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Yc(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Yc(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Xc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Jc(e){return"nullValue"in e?Mc:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Kc(bc.empty(),Ws.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ws()}function Zc(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Kc(bc.empty(),Ws.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Lc:ws()}function el(e,t){var n=Bc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function tl(e,t){var n=Bc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var nl=hn((function e(t,n){cn(this,e),this.position=t,this.inclusive=n}));function rl(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ws.comparator(Ws.fromName(o.referenceValue),n.key):Bc(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function il(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Vc(e.position[n],t.position[n]))return!1;return!0}var al=hn((function e(){cn(this,e)})),ol=function(e){an(n,e);var t=sn(n);function n(e,r,i){var a;return cn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return hn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Bc(t,this.value)):null!==t&&Fc(this.value)===Fc(t)&&this.matchesComparison(Bc(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ws()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new yl(e,t,r):"array-contains"===t?new bl(e,r):"in"===t?new wl(e,r):"not-in"===t?new xl(e,r):"array-contains-any"===t?new Sl(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new ml(e,n):new gl(e,n)}}]),n}(al),ul=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return hn(n,[{key:"matches",value:function(e){return sl(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=rn(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(al);function sl(e){return"and"===e.op}function cl(e){return"or"===e.op}function ll(e){return fl(e)&&sl(e)}function fl(e){var t,n=rn(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof ul)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function hl(e){if(e instanceof ol)return e.field.canonicalString()+e.op.toString()+zc(e.value);var t=e.filters.map((function(e){return hl(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function dl(e,t){return e instanceof ol?function(e,t){return t instanceof ol&&e.op===t.op&&e.field.isEqual(t.field)&&Vc(e.value,t.value)}(e,t):e instanceof ul?function(e,t){return t instanceof ul&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&dl(n,t.filters[r])}),!0)}(e,t):void ws()}function pl(e,t){var n=e.filters.concat(t);return ul.create(n,e.op)}function vl(e){return e instanceof ol?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(zc(e.value))}(e):e instanceof ul?function(e){return e.op.toString()+" {"+e.getFilters().map(vl).join(" ,")+"}"}(e):"Filter"}var yl=function(e){an(n,e);var t=sn(n);function n(e,r,i){var a;return cn(this,n),(a=t.call(this,e,r,i)).key=Ws.fromName(i.referenceValue),a}return hn(n,[{key:"matches",value:function(e){var t=Ws.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(ol),ml=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this,e,"in",r)).keys=kl("in",r),i}return hn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ol),gl=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this,e,"not-in",r)).keys=kl("not-in",r),i}return hn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ol);function kl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ws.fromName(e.referenceValue)}))}var bl=function(e){an(n,e);var t=sn(n);function n(e,r){return cn(this,n),t.call(this,e,"array-contains",r)}return hn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Wc(t)&&jc(t.arrayValue,this.value)}}]),n}(ol),wl=function(e){an(n,e);var t=sn(n);function n(e,r){return cn(this,n),t.call(this,e,"in",r)}return hn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&jc(this.value.arrayValue,t)}}]),n}(ol),xl=function(e){an(n,e);var t=sn(n);function n(e,r){return cn(this,n),t.call(this,e,"not-in",r)}return hn(n,[{key:"matches",value:function(e){if(jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!jc(this.value.arrayValue,t)}}]),n}(ol),Sl=function(e){an(n,e);var t=sn(n);function n(e,r){return cn(this,n),t.call(this,e,"array-contains-any",r)}return hn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Wc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return jc(t.value.arrayValue,e)}))}}]),n}(ol),El=hn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";cn(this,e),this.field=t,this.dir=n}));function Il(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var _l=function(){function e(t,n){cn(this,e),this.comparator=t,this.root=n||Cl.EMPTY}return hn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Cl.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Cl.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Tl(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Tl(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Tl(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Tl(this.root,e,this.comparator,!0)}}]),e}(),Tl=function(){function e(t,n,r,i){cn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return hn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Cl=function(){function e(t,n,r,i,a){cn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return hn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ws();if(this.right.isRed())throw ws();var e=this.left.check();if(e!==this.right.check())throw ws();return e+(this.isRed()?0:1)}}]),e}();Cl.EMPTY=null,Cl.RED=!0,Cl.BLACK=!1,Cl.EMPTY=new(function(){function e(){cn(this,e),this.size=0}return hn(e,[{key:"key",get:function(){throw ws()}},{key:"value",get:function(){throw ws()}},{key:"color",get:function(){throw ws()}},{key:"left",get:function(){throw ws()}},{key:"right",get:function(){throw ws()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Cl(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Al=function(){function e(t){cn(this,e),this.comparator=t,this.data=new _l(this.comparator)}return hn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Dl(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Dl(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Dl=function(){function e(t){cn(this,e),this.iter=t}return hn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Nl(e){return e.hasNext()?e.getNext():void 0}var Ol=function(){function e(t){cn(this,e),this.fields=t,t.sort(Gs.comparator)}return hn(e,[{key:"unionWith",value:function(t){var n,r=new Al(Gs.comparator),i=rn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=rn(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=rn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Vs(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Pl=function(){function e(t){cn(this,e),this.value=t}return hn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!$c(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(t)}},{key:"setAll",value:function(e){var t=this,n=Gs.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Yc(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());$c(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Vc(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];$c(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){xc(t,(function(t,n){return e[t]=n}));var r,i=rn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Yc(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Rl(e){var t=[];return xc(e.fields,(function(e,n){var r=new Gs([e]);if($c(n)){var i=Rl(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=rn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Ol(t)}var Ll=function(){function e(t,n,r,i,a,o,u){cn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return hn(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Us.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Pl.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Pl.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Us.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Us.min(),Us.min(),Us.min(),Pl.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Us.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Us.min(),Us.min(),Pl.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Us.min(),Us.min(),Pl.empty(),2)}}]),e}(),Ml=hn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;cn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function Fl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Ml(e,t,n,r,i,a,o)}function Vl(e){var t=Ss(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return hl(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ec(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return zc(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return zc(e)})).join(",")),t.ft=n}return t.ft}function jl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Il(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!dl(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!il(e.startAt,t.startAt)&&il(e.endAt,t.endAt)}function Bl(e){return Ws.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ul(e,t){return e.filters.filter((function(e){return e instanceof ol&&e.field.isEqual(t)}))}function zl(e,t,n){var r,i=Mc,a=!0,o=rn(Ul(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Mc,c=!0;switch(u.op){case"<":case"<=":s=Jc(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Mc}el({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];el({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ql(e,t,n){var r,i=Lc,a=!0,o=rn(Ul(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Lc,c=!0;switch(u.op){case">=":case">":s=Zc(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Lc}tl({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];tl({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Kl=hn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;cn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function Gl(e,t,n,r,i,a,o,u){return new Kl(e,t,n,r,i,a,o,u)}function Wl(e){return new Kl(e)}function Hl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ql(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function $l(e){var t,n=rn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Yl(e){return null!==e.collectionGroup}function Xl(e){var t=Ss(e);if(null===t.dt){t.dt=[];var n=$l(t),r=Ql(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new El(n)),t.dt.push(new El(Gs.keyField(),"asc"));else{var i,a=!1,o=rn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new El(Gs.keyField(),s))}}}return t.dt}function Jl(e){var t=Ss(e);if(!t._t)if("F"===t.limitType)t._t=Fl(t.path,t.collectionGroup,Xl(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=rn(Xl(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new El(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new nl(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new nl(t.startAt.position,t.startAt.inclusive):null;t._t=Fl(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function Zl(e,t){t.getFirstInequalityField(),$l(e);var n=e.filters.concat([t]);return new Kl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ef(e,t,n){return new Kl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tf(e,t){return jl(Jl(e),Jl(t))&&e.limitType===t.limitType}function nf(e){return"".concat(Vl(Jl(e)),"|lt:").concat(e.limitType)}function rf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return vl(e)})).join(", "),"]")),Ec(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return zc(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return zc(e)})).join(",")),"Target(".concat(t,")")}(Jl(e)),"; limitType=").concat(e.limitType,")")}function af(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ws.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=rn(Xl(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=rn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=rl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xl(e),t))&&!(e.endAt&&!function(e,t,n){var r=rl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xl(e),t))}(e,t)}function of(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function uf(e){return function(t,n){var r,i=!1,a=rn(Xl(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=sf(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function sf(e,t,n){var r=e.field.isKeyField()?Ws.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bc(r,i):ws()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ws()}}function cf(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(t)?"-0":t}}function lf(e){return{integerValue:""+e}}function ff(e,t){return _c(t)?lf(t):cf(e,t)}var hf=hn((function e(){cn(this,e),this._=void 0}));function df(e,t,n){return e instanceof yf?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof mf?gf(e,t):e instanceof kf?bf(e,t):function(e,t){var n=vf(e,t),r=xf(n)+xf(e.gt);return Gc(n)&&Gc(e.gt)?lf(r):cf(e.yt,r)}(e,t)}function pf(e,t,n){return e instanceof mf?gf(e,t):e instanceof kf?bf(e,t):n}function vf(e,t){return e instanceof wf?Gc(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var yf=function(e){an(n,e);var t=sn(n);function n(){return cn(this,n),t.apply(this,arguments)}return hn(n)}(hf),mf=function(e){an(n,e);var t=sn(n);function n(e){var r;return cn(this,n),(r=t.call(this)).elements=e,r}return hn(n)}(hf);function gf(e,t){var n,r=Sf(t),i=rn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Vc(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var kf=function(e){an(n,e);var t=sn(n);function n(e){var r;return cn(this,n),(r=t.call(this)).elements=e,r}return hn(n)}(hf);function bf(e,t){var n,r=Sf(t),i=rn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Vc(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var wf=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return hn(n)}(hf);function xf(e){return Dc(e.integerValue||e.doubleValue)}function Sf(e){return Wc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ef=hn((function e(t,n){cn(this,e),this.field=t,this.transform=n}));var If=hn((function e(t,n){cn(this,e),this.version=t,this.transformResults=n})),_f=function(){function e(t,n){cn(this,e),this.updateTime=t,this.exists=n}return hn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Tf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Cf=hn((function e(){cn(this,e)}));function Af(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Uf(e.key,_f.none()):new Rf(e.key,e.data,_f.none());var n,r=e.data,i=Pl.empty(),a=new Al(Gs.comparator),o=rn(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Lf(e.key,i,new Ol(a.toArray()),_f.none())}function Df(e,t,n){e instanceof Rf?function(e,t,n){var r=e.value.clone(),i=Ff(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lf?function(e,t,n){if(Tf(e.precondition,t)){var r=Ff(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Mf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Nf(e,t,n,r){return e instanceof Rf?function(e,t,n,r){if(!Tf(e.precondition,t))return n;var i=e.value.clone(),a=Vf(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Lf?function(e,t,n,r){if(!Tf(e.precondition,t))return n;var i=Vf(e.fieldTransforms,r,t),a=t.data;return a.setAll(Mf(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Tf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Of(e,t){var n,r=null,i=rn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=vf(a.transform,o||null);null!=u&&(null===r&&(r=Pl.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Pf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Vs(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof mf&&t instanceof mf||e instanceof kf&&t instanceof kf?Vs(e.elements,t.elements,Vc):e instanceof wf&&t instanceof wf?Vc(e.gt,t.gt):e instanceof yf&&t instanceof yf}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Rf=function(e){an(n,e);var t=sn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return cn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return hn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Cf),Lf=function(e){an(n,e);var t=sn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return cn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return hn(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Cf);function Mf(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ff(e,t,n){var r=new Map;xs(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,pf(o,u,n[i]))}return r}function Vf(e,t,n){var r,i=new Map,a=rn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,df(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var jf,Bf,Uf=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return hn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Cf),zf=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return hn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Cf),qf=hn((function e(t){cn(this,e),this.count=t}));function Kf(e){switch(e){default:return ws();case Es.CANCELLED:case Es.UNKNOWN:case Es.DEADLINE_EXCEEDED:case Es.RESOURCE_EXHAUSTED:case Es.INTERNAL:case Es.UNAVAILABLE:case Es.UNAUTHENTICATED:return!1;case Es.INVALID_ARGUMENT:case Es.NOT_FOUND:case Es.ALREADY_EXISTS:case Es.PERMISSION_DENIED:case Es.FAILED_PRECONDITION:case Es.ABORTED:case Es.OUT_OF_RANGE:case Es.UNIMPLEMENTED:case Es.DATA_LOSS:return!0}}function Gf(e){if(void 0===e)return gs("GRPC error has no .code"),Es.UNKNOWN;switch(e){case jf.OK:return Es.OK;case jf.CANCELLED:return Es.CANCELLED;case jf.UNKNOWN:return Es.UNKNOWN;case jf.DEADLINE_EXCEEDED:return Es.DEADLINE_EXCEEDED;case jf.RESOURCE_EXHAUSTED:return Es.RESOURCE_EXHAUSTED;case jf.INTERNAL:return Es.INTERNAL;case jf.UNAVAILABLE:return Es.UNAVAILABLE;case jf.UNAUTHENTICATED:return Es.UNAUTHENTICATED;case jf.INVALID_ARGUMENT:return Es.INVALID_ARGUMENT;case jf.NOT_FOUND:return Es.NOT_FOUND;case jf.ALREADY_EXISTS:return Es.ALREADY_EXISTS;case jf.PERMISSION_DENIED:return Es.PERMISSION_DENIED;case jf.FAILED_PRECONDITION:return Es.FAILED_PRECONDITION;case jf.ABORTED:return Es.ABORTED;case jf.OUT_OF_RANGE:return Es.OUT_OF_RANGE;case jf.UNIMPLEMENTED:return Es.UNIMPLEMENTED;case jf.DATA_LOSS:return Es.DATA_LOSS;default:return ws()}}(Bf=jf||(jf={}))[Bf.OK=0]="OK",Bf[Bf.CANCELLED=1]="CANCELLED",Bf[Bf.UNKNOWN=2]="UNKNOWN",Bf[Bf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bf[Bf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bf[Bf.NOT_FOUND=5]="NOT_FOUND",Bf[Bf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bf[Bf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bf[Bf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bf[Bf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bf[Bf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bf[Bf.ABORTED=10]="ABORTED",Bf[Bf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bf[Bf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bf[Bf.INTERNAL=13]="INTERNAL",Bf[Bf.UNAVAILABLE=14]="UNAVAILABLE",Bf[Bf.DATA_LOSS=15]="DATA_LOSS";var Wf=function(){function e(t,n){cn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return hn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=rn(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){xc(this.inner,(function(t,n){var r,i=rn(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Sc(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Hf=new _l(Ws.comparator);function Qf(){return Hf}var $f=new _l(Ws.comparator);function Yf(){for(var e=$f,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Xf(e){var t=$f;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Jf(){return eh()}function Zf(){return eh()}function eh(){return new Wf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var th=new _l(Ws.comparator),nh=new Al(Ws.comparator);function rh(){for(var e=nh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ih=new Al(Fs);function ah(){return ih}var oh=function(){function e(t,n,r,i,a){cn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return hn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,uh.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Us.min(),i,ah(),Qf(),rh())}}]),e}(),uh=function(){function e(t,n,r,i,a){cn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return hn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,rh(),rh(),rh())}}]),e}(),sh=hn((function e(t,n,r,i){cn(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),ch=hn((function e(t,n){cn(this,e),this.targetId=t,this.Et=n})),lh=hn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tc.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;cn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),fh=function(){function e(){cn(this,e),this.At=0,this.Rt=ph(),this.bt=Tc.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return hn(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=rh(),t=rh(),n=rh();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ws()}})),new uh(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=ph()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),hh=function(){function e(t){cn(this,e),this.$t=t,this.Bt=new Map,this.Lt=Qf(),this.qt=dh(),this.Ut=new Al(Fs)}return hn(e,[{key:"Kt",value:function(e){var t,n=rn(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=rn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:ws()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(Bl(i))if(0===n){var a=new Ws(i.path);this.Qt(t,a,Ll.newNoDocument(a,Us.min()))}else xs(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Bl(a.target)){var o=new Ws(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Ll.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=rh();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new oh(e,n,this.Ut,this.Lt,r);return this.Lt=Qf(),this.qt=dh(),this.Ut=new Al(Fs),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new fh,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Al(Fs),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||ms("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new fh),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function dh(){return new _l(Ws.comparator)}function ph(){return new _l(Ws.comparator)}var vh={asc:"ASCENDING",desc:"DESCENDING"},yh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mh={and:"AND",or:"OR"},gh=hn((function e(t,n){cn(this,e),this.databaseId=t,this.wt=n}));function kh(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function bh(e,t){return e.wt?t.toBase64():t.toUint8Array()}function wh(e,t){return kh(e,t.toTimestamp())}function xh(e){return xs(!!e),Us.fromTimestamp(function(e){var t=Ac(e);return new Bs(t.seconds,t.nanos)}(e))}function Sh(e,t){return function(e){return new qs(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Eh(e){var t=qs.fromString(e);return xs(Hh(t)),t}function Ih(e,t){return Sh(e.databaseId,t.path)}function _h(e,t){var n=Eh(t);if(n.get(1)!==e.databaseId.projectId)throw new Is(Es.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Is(Es.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ws(Dh(n))}function Th(e,t){return Sh(e.databaseId,t)}function Ch(e){var t=Eh(e);return 4===t.length?qs.emptyPath():Dh(t)}function Ah(e){return new qs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Dh(e){return xs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Nh(e,t,n){return{name:Ih(e,t),fields:n.value.mapValue.fields}}function Oh(e,t,n){var r=_h(e,t.name),i=xh(t.updateTime),a=t.createTime?xh(t.createTime):Us.min(),o=new Pl({mapValue:{fields:t.fields}}),u=Ll.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Ph(e,t){return"found"in t?function(e,t){xs(!!t.found),t.found.name,t.found.updateTime;var n=_h(e,t.found.name),r=xh(t.found.updateTime),i=t.found.createTime?xh(t.found.createTime):Us.min(),a=new Pl({mapValue:{fields:t.found.fields}});return Ll.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){xs(!!t.missing),xs(!!t.readTime);var n=_h(e,t.missing),r=xh(t.readTime);return Ll.newNoDocument(n,r)}(e,t):ws()}function Rh(e,t){var n;if(t instanceof Rf)n={update:Nh(e,t.key,t.value)};else if(t instanceof Uf)n={delete:Ih(e,t.key)};else if(t instanceof Lf)n={update:Nh(e,t.key,t.data),updateMask:Wh(t.fieldMask)};else{if(!(t instanceof zf))return ws();n={verify:Ih(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof yf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof mf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof kf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wf)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw ws()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ws()}(e,t.precondition)),n}function Lh(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?_f.updateTime(xh(e.updateTime)):void 0!==e.exists?_f.exists(e.exists):_f.none()}(t.currentDocument):_f.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)xs("REQUEST_TIME"===t.setToServerValue),n=new yf;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new mf(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new kf(i)}else"increment"in t?n=new wf(e,t.increment):ws();var a=Gs.fromServerFormat(t.fieldPath);return new Ef(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=_h(e,t.update.name),a=new Pl({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ol(t.map((function(e){return Gs.fromServerFormat(e)})))}(t.updateMask);return new Lf(i,a,o,n,r)}return new Rf(i,a,n,r)}if(t.delete){var u=_h(e,t.delete);return new Uf(u,n)}if(t.verify){var s=_h(e,t.verify);return new zf(s,n)}return ws()}function Mh(e,t){return{documents:[Th(e,t.path)]}}function Fh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Th(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Th(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Gh(ul.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:qh(e.field),direction:Bh(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.wt||Ec(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Vh(e){var t=Ch(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xs(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=jh(e);return t instanceof ul&&ll(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new El(Kh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ec(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new nl(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new nl(n,t)}(n.endAt)),Gl(t,i,u,o,s,"F",c,l)}function jh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Kh(e.unaryFilter.field);return ol.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Kh(e.unaryFilter.field);return ol.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Kh(e.unaryFilter.field);return ol.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Kh(e.unaryFilter.field);return ol.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ws()}}(e):void 0!==e.fieldFilter?function(e){return ol.create(Kh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ws()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ul.create(e.compositeFilter.filters.map((function(e){return jh(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ws()}}(e.compositeFilter.op))}(e):ws()}function Bh(e){return vh[e]}function Uh(e){return yh[e]}function zh(e){return mh[e]}function qh(e){return{fieldPath:e.canonicalString()}}function Kh(e){return Gs.fromServerFormat(e.fieldPath)}function Gh(e){return e instanceof ol?function(e){if("=="===e.op){if(Qc(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NAN"}};if(Hc(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Qc(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NOT_NAN"}};if(Hc(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qh(e.field),op:Uh(e.op),value:e.value}}}(e):e instanceof ul?function(e){var t=e.getFilters().map((function(e){return Gh(e)}));return 1===t.length?t[0]:{compositeFilter:{op:zh(e.op),filters:t}}}(e):ws()}function Wh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Hh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Qh(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Yh(t)),t=$h(e.get(n),t);return Yh(t)}function $h(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Yh(e){return e+"\x01\x01"}function Xh(e){var t=e.length;if(xs(t>=2),2===t)return xs("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),qs.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ws(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ws()}a=o+2}return new qs(r)}var Jh=["userId","batchId"];function Zh(e,t){return[e,Qh(t)]}function ed(e,t,n){return[e,Qh(t),n]}var td={},nd=["prefixPath","collectionGroup","readTime","documentId"],rd=["prefixPath","collectionGroup","documentId"],id=["collectionGroup","readTime","prefixPath","documentId"],ad=["canonicalId","targetId"],od=["targetId","path"],ud=["path","targetId"],sd=["collectionId","parent"],cd=["indexId","uid"],ld=["uid","sequenceNumber"],fd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hd=["indexId","uid","orderedDocumentKey"],dd=["userId","collectionPath","documentId"],pd=["userId","collectionPath","largestBatchId"],vd=["userId","collectionGroup","largestBatchId"],yd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),md=[].concat(Yt(yd),["documentOverlays"]),gd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kd=gd,bd=[].concat(kd,["indexConfiguration","indexState","indexEntries"]),wd=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return hn(n)}(rc);function xd(e,t){var n=Ss(e);return sc.M(n.se,t)}var Sd=function(){function e(t,n,r,i){cn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return hn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Df(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=rn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Nf(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=rn(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Nf(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Zf();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Af(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Us.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),rh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(function(e,t){return Pf(e,t)}))&&Vs(this.baseMutations,e.baseMutations,(function(e,t){return Pf(e,t)}))}}]),e}(),Ed=function(){function e(t,n,r,i){cn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return hn(e,null,[{key:"from",value:function(t,n,r){xs(t.mutations.length===r.length);for(var i=th,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Id=function(){function e(t,n){cn(this,e),this.largestBatchId=t,this.mutation=n}return hn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),_d=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Us.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Us.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Tc.EMPTY_BYTE_STRING;cn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return hn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Td=hn((function e(t){cn(this,e),this.ie=t}));function Cd(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ad(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ih(e,t.key),fields:t.data.value.mapValue.fields,updateTime:kh(e,t.version.toTimestamp()),createTime:kh(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Dd(t.version)};else{if(!t.isUnknownDocument())return ws();r.unknownDocument={path:n.path.toArray(),version:Dd(t.version)}}return r}function Ad(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Dd(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Nd(e){var t=new Bs(e.seconds,e.nanoseconds);return Us.fromTimestamp(t)}function Od(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Lh(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Lh(e.ie,t)})),u=Bs.fromMillis(t.localWriteTimeMs);return new Sd(t.batchId,u,n,o)}function Pd(e){var t,n,r=Nd(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Nd(e.lastLimboFreeSnapshotVersion):Us.min();return void 0!==e.query.documents?(xs(1===(n=e.query).documents.length),t=Jl(Wl(Ch(n.documents[0])))):t=function(e){return Jl(Vh(e))}(e.query),new _d(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Tc.fromBase64String(e.resumeToken))}function Rd(e,t){var n,r=Dd(t.snapshotVersion),i=Dd(t.lastLimboFreeSnapshotVersion);n=Bl(t.target)?Mh(e.ie,t.target):Fh(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Vl(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ld(e){var t=Vh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ef(t,t.limit,"L"):t}function Md(e,t){return new Id(t.largestBatchId,Lh(e.ie,t.overlayMutation))}function Fd(e,t){var n=t.path.lastSegment();return[e,Qh(t.path.popLast()),n]}function Vd(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Dd(r.readTime),documentKey:Qh(r.documentKey.path),largestBatchId:r.largestBatchId}}var jd=function(){function e(){cn(this,e)}return hn(e,[{key:"getBundleMetadata",value:function(e,t){return Bd(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Nd(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Bd(e).put({bundleId:(n=t).id,createTime:Dd(xh(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ud(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ld(t.bundledQuery),readTime:Nd(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Ud(e).put(function(e){return{name:e.name,readTime:Dd(xh(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Bd(e){return xd(e,"bundles")}function Ud(e){return xd(e,"namedQueries")}var zd=function(){function e(t,n){cn(this,e),this.yt=t,this.userId=n}return hn(e,[{key:"getOverlay",value:function(e,t){var n=this;return qd(e).get(Fd(this.userId,t)).next((function(e){return e?Md(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Jf();return oc.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Id(t,a);i.push(r.oe(e,o))})),oc.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Qh(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(qd(e).Y("collectionPathOverlayIndex",i))})),oc.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Jf(),a=Qh(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return qd(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=rn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Md(r.yt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Jf(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qd(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Md(a.yt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return qd(e).put(function(e,t,n){var r=l(Fd(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Rh(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function qd(e){return xd(e,"documentOverlays")}var Kd=function(){function e(){cn(this,e)}return hn(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Dc(e.integerValue));else if("doubleValue"in e){var n=Dc(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),Ic(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Nc(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?Xc(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):ws()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=rn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),Ws.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function Gd(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Wd(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Gd(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Kd.Ie=new Kd;var Hd=function(){function e(){cn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return hn(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=rn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=rn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=Wd(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=Wd(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Qd=function(){function e(t){cn(this,e),this.$e=t}return hn(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),$d=function(){function e(t){cn(this,e),this.$e=t}return hn(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),Yd=function(){function e(){cn(this,e),this.$e=new Hd,this.Be=new Qd(this.$e),this.Le=new $d(this.$e)}return hn(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),Xd=function(){function e(t,n,r,i){cn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return hn(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Jd(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Zd(e.arrayValue,t.arrayValue))?n:0!==(n=Zd(e.directionalValue,t.directionalValue))?n:Ws.comparator(e.documentKey,t.documentKey)}function Zd(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var ep=function(){function e(t){cn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=rn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return hn(e,[{key:"je",value:function(e){xs(e.collectionGroup===this.collectionId);var t=Qs(e);if(void 0!==t&&!this.We(t))return!1;for(var n=$s(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=rn(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function tp(e){var t,n;if(xs(e instanceof ol||e instanceof ul),e instanceof ol){if(e instanceof wl){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return ol.create(e.field,"==",t)})))||[];return ul.create(r,"or")}return e}var i=e.filters.map((function(e){return tp(e)}));return ul.create(i,e.op)}function np(e){if(0===e.getFilters().length)return[];var t=op(tp(e));return xs(ap(t)),rp(t)||ip(t)?[t]:t.getFilters()}function rp(e){return e instanceof ol}function ip(e){return e instanceof ul&&ll(e)}function ap(e){return rp(e)||ip(e)||function(e){if(e instanceof ul&&cl(e)){var t,n=rn(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!rp(r)&&!ip(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function op(e){if(xs(e instanceof ol||e instanceof ul),e instanceof ol)return e;if(1===e.filters.length)return op(e.filters[0]);var t=e.filters.map((function(e){return op(e)})),n=ul.create(t,e.op);return ap(n=cp(n))?n:(xs(n instanceof ul),xs(sl(n)),xs(n.filters.length>1),n.filters.reduce((function(e,t){return up(e,t)})))}function up(e,t){var n;return xs(e instanceof ol||e instanceof ul),xs(t instanceof ol||t instanceof ul),n=e instanceof ol?t instanceof ol?function(e,t){return ul.create([e,t],"and")}(e,t):sp(e,t):t instanceof ol?sp(t,e):function(e,t){if(xs(e.filters.length>0&&t.filters.length>0),sl(e)&&sl(t))return pl(e,t.getFilters());var n=cl(e)?e:t,r=cl(e)?t:e,i=n.filters.map((function(e){return up(e,r)}));return ul.create(i,"or")}(e,t),cp(n)}function sp(e,t){if(sl(t))return pl(t,e.getFilters());var n=t.filters.map((function(t){return up(e,t)}));return ul.create(n,"or")}function cp(e){if(xs(e instanceof ol||e instanceof ul),e instanceof ol)return e;var t=e.getFilters();if(1===t.length)return cp(t[0]);if(fl(e))return e;var n=t.map((function(e){return cp(e)})),r=[];return n.forEach((function(t){t instanceof ol?r.push(t):t instanceof ul&&(t.op===e.op?r.push.apply(r,Yt(t.filters)):r.push(t))})),1===r.length?r[0]:ul.create(r,e.op)}var lp=function(){function e(){cn(this,e),this.Je=new fp}return hn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),oc.resolve()}},{key:"getCollectionParents",value:function(e,t){return oc.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return oc.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return oc.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return oc.resolve(null)}},{key:"getIndexType",value:function(e,t){return oc.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return oc.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return oc.resolve(null)}},{key:"getMinOffset",value:function(e,t){return oc.resolve(ec.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return oc.resolve(ec.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return oc.resolve()}},{key:"updateIndexEntries",value:function(e,t){return oc.resolve()}}]),e}(),fp=function(){function e(){cn(this,e),this.index={}}return hn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Al(qs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Al(qs.comparator)).toArray()}}]),e}(),hp=new Uint8Array(0),dp=function(){function e(t,n){cn(this,e),this.user=t,this.databaseId=n,this.Ye=new fp,this.Xe=new Wf((function(e){return Vl(e)}),(function(e,t){return jl(e,t)})),this.uid=t.uid||""}return hn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:Qh(i)};return pp(e).put(a)}return oc.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[js(t),""],!1,!0);return pp(e).W(r).next((function(e){var r,i=rn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Xh(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=yp(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=mp(e);return a.next((function(e){o.put(Vd(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=yp(e),r=mp(e),i=vp(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=vp(e),i=!0,a=new Map;return oc.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=rh(),o=[];return oc.forEach(a,(function(i,a){var u;ms("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Vl(t)));var s=function(e,t){var n=Qs(t);if(void 0===n)return null;var r,i=rn(Ul(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=rn($s(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=rn(Ul(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=rn($s(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?zl(e,o.fieldPath,e.startAt):ql(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new nl(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=rn($s(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ql(e,o.fieldPath,e.endAt):zl(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new nl(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return oc.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Ws.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return oc.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:np(ul.create(e.filters,"and")).map((function(t){return Fl(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.rn(t[h/c]):hp,f=u.on(e,s,n[h%c],r),d=u.un(e,s,i[h%c],a),p=o.map((function(t){return u.on(e,s,t,!0)}));l.push.apply(l,Yt(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"on",value:function(e,t,n,r){var i=new Xd(e,Ws.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new Xd(e,Ws.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new ep(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=rn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return oc.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Al(Gs.comparator),r=!1,i=rn(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=rn(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=rn(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new Yd,i=rn($s(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);Kd.Ie.ue(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new Yd;return Kd.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new Yd;return Kd.Ie.ue(Kc(this.databaseId,t),n.qe(function(e){var t=$s(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Yd);var i,a=0,o=rn($s(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=rn(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.hn(t,s.fieldPath)&&Wc(c))r=this.ln(r,s,c);else{var h=f.qe(s.kind);Kd.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=Yt(e),a=[],o=rn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=rn(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Yd;f.seed(l.Fe()),Kd.Ie.ue(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof ol&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=yp(e),i=mp(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return oc.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Xs(t.sequenceNumber,new ec(Nd(t.readTime),new Ws(Xh(t.documentKey)),t.largestBatchId)):Xs.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Ys(Gs.fromServerFormat(n),r)}));return new Hs(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Fs(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=yp(e),a=mp(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return oc.forEach(t,(function(t){return a.put(Vd(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return oc.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?oc.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),oc.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?oc.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return vp(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return vp(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=vp(e),i=new Al(Jd);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new Xd(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new Al(Jd),r=this.cn(t,e);if(null==r)return n;var i=Qs(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Wc(a)){var o,u=rn(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Xd(t.indexId,e.key,this.rn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Xd(t.indexId,e.key,hp,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;ms("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Nl(a),s=Nl(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Nl(o)):l?(i(u),u=Nl(a)):(u=Nl(a),s=Nl(o))}}(r,i,Jd,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),oc.waitFor(o)}},{key:"dn",value:function(e){var t=1;return mp(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Jd(e,t)})).filter((function(e,t,n){return!t||0!==Jd(e,n[t-1])}));var r=[];r.push(e);var i,a=rn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Jd(o,e),s=Jd(o,t);if(0===u)r[0]=e.Ue();else if(u>0&&s<0)r.push(o),r.push(o.Ue());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,hp,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,hp,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return Jd(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(gp)}},{key:"getMinOffset",value:function(e,t){var n=this;return oc.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||ws()}))})).next(gp)}}]),e}();function pp(e){return xd(e,"collectionParents")}function vp(e){return xd(e,"indexEntries")}function yp(e){return xd(e,"indexConfiguration")}function mp(e){return xd(e,"indexState")}function gp(e){xs(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;tc(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ec(t.readTime,t.documentKey,n)}var kp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bp=function(){function e(t,n,r){cn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return hn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function wp(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){xs(1===u)})));var c,l=[],f=rn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=ed(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return oc.waitFor(a).next((function(){return l}))}function xp(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ws();t=e.noDocument}return JSON.stringify(t).length}bp.DEFAULT_COLLECTION_PERCENTILE=10,bp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bp.DEFAULT=new bp(41943040,bp.DEFAULT_COLLECTION_PERCENTILE,bp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bp.DISABLED=new bp(-1,0,0);var Sp=function(){function e(t,n,r,i){cn(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return hn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ip(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=_p(e),o=Ip(e);return o.add({}).next((function(u){xs("number"==typeof u);var s,c=new Sd(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Rh(e.ie,t)})),i=n.mutations.map((function(t){return Rh(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new Al((function(e,t){return Fs(e.canonicalString(),t.canonicalString())})),d=rn(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=ed(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,td))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),oc.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Ip(e).get(t).next((function(e){return e?(xs(e.userId===n.userId),Od(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?oc.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Ip(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(xs(t.batchId>=r),a=Od(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ip(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ip(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Od(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Zh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return _p(e).Z({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],h=Xh(c);if(s===n.userId&&t.path.isEqual(h))return Ip(e).get(f).next((function(e){if(!e)throw ws();xs(e.userId===n.userId),a.push(Od(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Al(Fs),i=[];return t.forEach((function(t){var a=Zh(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=_p(e).Z({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=Xh(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),oc.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Zh(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Al(Fs);return _p(e).Z({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],h=Xh(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ip(e).get(t).next((function(e){if(null===e)throw ws();xs(e.userId===n.userId),r.push(Od(n.yt,e))})))})),oc.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return wp(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),oc.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return oc.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return _p(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Xh(e[1]);i.push(a)}else r.done()})).next((function(){xs(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Ep(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Tp(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return xs(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Ep(e,t,n){var r=Zh(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return _p(e).Z({range:a,X:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Ip(e){return xd(e,"mutations")}function _p(e){return xd(e,"documentMutations")}function Tp(e){return xd(e,"mutationQueues")}var Cp=function(){function e(t){cn(this,e),this.bn=t}return hn(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Ap=function(){function e(t,n){cn(this,e),this.referenceDelegate=t,this.yt=n}return hn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Cp(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Us.fromTimestamp(new Bs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Dp(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return xs(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Dp(e).Z((function(o,u){var s=Pd(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return oc.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Dp(e).Z((function(e,n){var r=Pd(n);t(r)}))}},{key:"Vn",value:function(e){return Np(e).get("targetGlobalKey").next((function(e){return xs(null!==e),e}))}},{key:"Sn",value:function(e,t){return Np(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Dp(e).put(Rd(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Vl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Dp(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Pd(n);jl(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Op(e);return t.forEach((function(t){var o=Qh(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),oc.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Op(e);return oc.forEach(t,(function(t){var a=Qh(t.path);return oc.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Op(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Op(e),i=rh();return r.Z({range:n,X:!0},(function(e,t,n){var r=Xh(e[1]),a=new Ws(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Qh(t.path),r=IDBKeyRange.bound([n],[js(n)],!1,!0),i=0;return Op(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return Dp(e).get(t).next((function(e){return e?Pd(e):null}))}}]),e}();function Dp(e){return xd(e,"targets")}function Np(e){return xd(e,"targetGlobal")}function Op(e){return xd(e,"targetDocuments")}function Pp(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=Fs(r,o);return 0===s?Fs(i,u):s}var Rp=function(){function e(t){cn(this,e),this.xn=t,this.buffer=new Al(Pp),this.Nn=0}return hn(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Pp(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Lp=function(){function e(t,n,r){cn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return hn(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;ms("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!fc(e.t0)){e.next=12;break}ms("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,ic(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Mp=function(){function e(t,n){cn(this,e),this.$n=t,this.params=n}return hn(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return oc.resolve(gc.at);var r=new Rp(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ms("LruGarbageCollector","Garbage collection skipped; disabled"),oc.resolve(kp)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ms("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),kp):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ms("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),ys()<=Hn.DEBUG&&ms("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),oc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Fp=function(){function e(t,n){cn(this,e),this.db=t,this.garbageCollector=function(e,t){return new Mp(e,t)}(this,n)}return hn(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Vp(e,n)}},{key:"removeReference",value:function(e,t,n){return Vp(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Vp(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Tp(e).tt((function(r){return Ep(e,r,t).next((function(e){return e&&(n=!0),oc.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Us.min()),Op(e).delete([0,Qh(o.path)])}))}));i.push(s)}})).next((function(){return oc.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Vp(e,t)}},{key:"Kn",value:function(e,t){var n,r=Op(e),i=gc.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==gc.at&&t(new Ws(Xh(n)),i),i=s,n=u):i=gc.at})).next((function(){i!==gc.at&&t(new Ws(Xh(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Vp(e,t){return Op(e).put(function(e,t){return{targetId:0,path:Qh(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var jp=function(){function e(){cn(this,e),this.changes=new Wf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return hn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ll.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?oc.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Bp=function(){function e(t){cn(this,e),this.yt=t}return hn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Kp(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Kp(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Ad(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Ll.newInvalidDocument(t);return Kp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Gp(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Ll.newInvalidDocument(t)};return Kp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Gp(t))},(function(e,i){r={document:n.jn(t,i),size:xp(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Qf();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Qf(),i=new _l(Ws.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,xp(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return oc.resolve();var r=new Al(Hp);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Gp(r.first()),Gp(r.last())),a=r.getIterator(),o=a.getNext();return Kp(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ws.fromSegments([].concat(Yt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Hp(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Gp(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Ad(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kp(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Qf(),i=rn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Ws.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Qf(),o=Wp(t,n),u=Wp(t,ec.max());return Kp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Ws.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new zp(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return qp(e).get("remoteDocumentGlobalKey").next((function(e){return xs(!!e),e}))}},{key:"Qn",value:function(e,t){return qp(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Oh(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ws.fromSegments(t.noDocument.path),i=Nd(t.noDocument.readTime);n=Ll.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ws();var a=Ws.fromSegments(t.unknownDocument.path),o=Nd(t.unknownDocument.version);n=Ll.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Bs(e[0],e[1]);return Us.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(Us.min()))return n}return Ll.newInvalidDocument(e)}}]),e}();function Up(e){return new Bp(e)}var zp=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Wf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return hn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Al((function(e,t){return Fs(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Cd(t.Yn.yt,o);i=i.add(a.path.popLast());var c=xp(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Cd(t.Yn.yt,o.convertToNoDocument(Us.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),oc.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(jp);function qp(e){return xd(e,"remoteDocumentGlobal")}function Kp(e){return xd(e,"remoteDocumentsV14")}function Gp(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Wp(e,t){var n=t.documentKey.path.toArray();return[e,Ad(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Hp(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Fs(n[a],r[a]))return i;return(i=Fs(n.length,r.length))||((i=Fs(n[n.length-2],r[r.length-2]))||Fs(n[n.length-1],r[r.length-1]))}var Qp=hn((function e(t,n){cn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),$p=function(){function e(t,n,r,i){cn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return hn(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Nf(r.mutation,e,Ol.empty(),Bs.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,rh()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rh(),i=Jf();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Yf();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Jf();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,rh())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Qf(),a=eh(),o=eh();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Lf)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Nf(o.mutation,t,o.mutation.getFieldMask(),Bs.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Qp(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=eh(),i=new _l((function(e,t){return e-t})),a=rh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=rn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Ol.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||rh()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Zf();c.forEach((function(e){if(!a.has(e)){var n=Af(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return oc.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ws.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):oc.resolve(Jf()),u=-1,s=a;return o.next((function(t){return oc.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?oc.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,rh())})).next((function(e){return{batchId:u,changes:Xf(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ws(t)).next((function(e){var t=Yf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Yf();return this.indexManager.getCollectionParents(e,i).next((function(o){return oc.forEach(o,(function(o){var u=function(e,t){return new Kl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Ll.newInvalidDocument(n)))}));var n=Yf();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Nf(a.mutation,i,Ol.empty(),Bs.now()),af(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),Yp=function(){function e(t){cn(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return hn(e,[{key:"getBundleMetadata",value:function(e,t){return oc.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:xh(n.createTime)}),oc.resolve()}},{key:"getNamedQuery",value:function(e,t){return oc.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Ld(e.bundledQuery),readTime:xh(e.readTime)}}(t)),oc.resolve()}}]),e}(),Xp=function(){function e(){cn(this,e),this.overlays=new _l(Ws.comparator),this.es=new Map}return hn(e,[{key:"getOverlay",value:function(e,t){return oc.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Jf();return oc.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),oc.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),oc.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Jf(),i=t.length+1,a=new Ws(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return oc.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new _l((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Jf(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Jf(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return oc.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Id(t,n));var a=this.es.get(t);void 0===a&&(a=rh(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Jp=function(){function e(){cn(this,e),this.ns=new Al(Zp.ss),this.rs=new Al(Zp.os)}return hn(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Zp(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Zp(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Ws(new qs([])),r=new Zp(n,e),i=new Zp(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Ws(new qs([])),n=new Zp(t,e),r=new Zp(t,e+1),i=rh();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Zp(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Zp=function(){function e(t,n){cn(this,e),this.key=t,this._s=n}return hn(e,null,[{key:"ss",value:function(e,t){return Ws.comparator(e.key,t.key)||Fs(e._s,t._s)}},{key:"os",value:function(e,t){return Fs(e._s,t._s)||Ws.comparator(e.key,t.key)}}]),e}(),ev=function(){function e(t,n){cn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Al(Zp.ss)}return hn(e,[{key:"checkEmpty",value:function(e){return oc.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Sd(i,t,n,r);this.mutationQueue.push(a);var o,u=rn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new Zp(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return oc.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return oc.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return oc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return oc.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return oc.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Zp(t,0),i=new Zp(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),oc.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Al(Fs);return t.forEach((function(e){var t=new Zp(e,0),i=new Zp(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),oc.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ws.isDocumentKey(i)||(i=i.child(""));var a=new Zp(new Ws(i),0),o=new Al(Fs);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),oc.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;xs(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return oc.forEach(t.mutations,(function(i){var a=new Zp(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Zp(t,0),r=this.gs.firstAfterOrEqual(n);return oc.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,oc.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),tv=function(){function e(t){cn(this,e),this.Es=t,this.docs=new _l(Ws.comparator),this.size=0}return hn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return oc.resolve(n?n.document.mutableCopy():Ll.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Qf();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ll.newInvalidDocument(e))})),oc.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Qf(),i=new Ws(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||tc(Zs(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return oc.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ws()}},{key:"As",value:function(e,t){return oc.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new nv(this)}},{key:"getSize",value:function(e){return oc.resolve(this.size)}}]),e}(),nv=function(e){an(n,e);var t=sn(n);function n(e){var r;return cn(this,n),(r=t.call(this)).Yn=e,r}return hn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),oc.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(jp),rv=function(){function e(t){cn(this,e),this.persistence=t,this.Rs=new Wf((function(e){return Vl(e)}),jl),this.lastRemoteSnapshotVersion=Us.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Jp,this.targetCount=0,this.vs=Cp.Pn()}return hn(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),oc.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return oc.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return oc.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),oc.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),oc.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Cp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,oc.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),oc.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,oc.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),oc.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return oc.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return oc.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),oc.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),oc.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),oc.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return oc.resolve(n)}},{key:"containsKey",value:function(e,t){return oc.resolve(this.Ps.containsKey(t))}}]),e}(),iv=function(){function e(t,n){var r=this;cn(this,e),this.Vs={},this.overlays={},this.Ss=new gc(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new rv(this),this.indexManager=new lp,this.remoteDocumentCache=new tv((function(e){return r.referenceDelegate.xs(e)})),this.yt=new Td(n),this.Ns=new Yp(this.yt)}return hn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Xp,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new ev(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;ms("MemoryPersistence","Starting transaction:",e);var i=new av(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return oc.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),av=function(e){an(n,e);var t=sn(n);function n(e){var r;return cn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return hn(n)}(rc),ov=function(){function e(t){cn(this,e),this.persistence=t,this.Fs=new Jp,this.$s=null}return hn(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw ws()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),oc.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),oc.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),oc.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oc.forEach(this.Ls,(function(r){var i=Ws.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,Us.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return oc.or([function(){return oc.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),uv=function(){function e(t){cn(this,e),this.yt=t}return hn(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new uc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jh,{unique:!0}),e.createObjectStore("documentMutations")}(e),sv(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=oc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),sv(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Us.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jh,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return oc.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:dd});t.createIndex("collectionPathOverlayIndex",pd,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",vd,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:nd});t.createIndex("documentKeyIndex",rd),t.createIndex("collectionGroupIndex",id)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:cd}).createIndex("sequenceNumberIndex",ld,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:fd}).createIndex("documentKeyIndex",hd,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=xp(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return oc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return oc.forEach(r,(function(r){xs(r.userId===n.userId);var i=Od(t.yt,r);return wp(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new qs(n),o=function(e){return[0,Qh(e)]}(a);r.push(t.get(o).next((function(n){return n?oc.resolve():function(n){return t.put({targetId:0,path:Qh(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return oc.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:sd});var n=t.store("collectionParents"),r=new fp,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Qh(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new qs(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],Xh(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Pd(r),a=Rd(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Ws(qs.fromString(i.document.name).popFirst(5)):i.noDocument?Ws.fromSegments(i.noDocument.path):i.unknownDocument?Ws.fromSegments(i.unknownDocument.path):ws()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return oc.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=Up(this.yt),a=new iv(ov.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:rh();Od(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),oc.forEach(r,(function(e,r){var o=new ds(r),u=zd.re(n.yt,o),s=a.getIndexManager(o),c=Sp.re(o,n.yt,s,a.referenceDelegate);return new $p(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new wd(t,gc.at),e).next()}))}))}}]),e}();function sv(e){e.createObjectStore("targetDocuments",{keyPath:od}).createIndex("documentTargetsIndex",ud,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ad,{unique:!0}),e.createObjectStore("targetGlobal")}var cv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lv=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(cn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Is(Es.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fp(this,i),this.ii=n+"main",this.yt=new Td(s),this.ri=new sc(this.ii,this.Xs,new uv(this.yt)),this.Cs=new Ap(this.referenceDelegate,this.yt),this.remoteDocumentCache=Up(this.yt),this.Ns=new jd,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&gs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return hn(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Is(Es.FAILED_PRECONDITION,cv);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new gc(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=u(a().mark((function n(r){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=u(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return hv(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(fc(t))return ms("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ms("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return fv(e).get("owner").next((function(e){return oc.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return hv(e).delete(this.clientId)}},{key:"yi",value:function(){var e=u(a().mark((function e(){var t,n,r,i,o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=xd(e,"clientMetadata");return t.W().next((function(e){var n=o.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return oc.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=rn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(a){n.e(a)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?oc.resolve(!0):fv(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Is(Es.FAILED_PRECONDITION,cv);return!1}}return!(!t.networkEnabled||!t.inForeground)||hv(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ms("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=u(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new wd(e,gc.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return hv(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Sp.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new dp(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return zd.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;ms("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?bd:14===i?kd:13===i?gd:12===i?md:11===i?yd:void ws();return this.ri.runTransaction(e,o,u,(function(i){return a=new wd(i,r.Ss?r.Ss.next():gc.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw gs("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Is(Es.FAILED_PRECONDITION,nc);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return fv(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Is(Es.FAILED_PRECONDITION,cv)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fv(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=fv(e);return n.get("owner").next((function(e){return t.mi(e)?(ms("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):oc.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(gs("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),wn()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return ms("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return gs("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(wi){gs("Failed to set zombie client id.",wi)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(wi){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return sc.C()}}]),e}();function fv(e){return xd(e,"owner")}function hv(e){return xd(e,"clientMetadata")}function dv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var pv=function(){function e(t,n,r,i){cn(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return hn(e,null,[{key:"Ci",value:function(t,n){var r,i=rh(),a=rh(),o=rn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),vv=function(){function e(){cn(this,e),this.xi=!1}return hn(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Hl(t))return oc.resolve(null);var r=Jl(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=ef(t,null,"F"),r=Jl(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=rh.apply(void 0,Yt(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,ef(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Hl(t)||r.isEqual(Us.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(ys()<=Hn.DEBUG&&ms("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rf(t)),i.Bi(e,o,t,Js(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Al(uf(e));return t.forEach((function(t,r){af(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return ys()<=Hn.DEBUG&&ms("QueryEngine","Using full collection scan to execute query:",rf(t)),this.Ni.getDocumentsMatchingQuery(e,t,ec.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),yv=function(){function e(t,n,r,i){cn(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new _l(Fs),this.Ui=new Wf((function(e){return Vl(e)}),jl),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return hn(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $p(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function mv(e,t,n,r){return new yv(e,t,n,r)}function gv(e,t){return kv.apply(this,arguments)}function kv(){return kv=u(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ss(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=rh(),s=rn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=rn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=rn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=rn(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),kv.apply(this,arguments)}function bv(e,t){var n=Ss(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=oc.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);xs(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=rh(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function wv(e){var t=Ss(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function xv(e,t){var n=Ss(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Tc.EMPTY_BYTE_STRING,Us.min()).withLastLimboFreeSnapshotVersion(Us.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Qf(),s=rh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Sv(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Us.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return oc.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.qi=i,e}))}function Sv(e,t,n){var r=rh(),i=rh();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Qf();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Us.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ms("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Ev(e,t){var n=Ss(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Iv(e,t){var n=Ss(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,oc.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new _d(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function _v(e,t,n){return Tv.apply(this,arguments)}function Tv(){return Tv=u(a().mark((function e(t,n,r){var i,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ss(t),o=i.qi.get(n),u=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",u,(function(e){return i.persistence.referenceDelegate.removeTarget(e,o)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),fc(e.t1)){e.next=12;break}throw e.t1;case 12:ms("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(o.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Tv.apply(this,arguments)}function Cv(e,t,n){var r=Ss(e),i=Us.min(),a=rh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ss(e),i=r.Ui.get(n);return void 0!==i?oc.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,Jl(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Us.min(),n?a:rh())})).next((function(e){return Nv(r,of(t),e),{documents:e,Hi:a}}))}))}function Av(e,t){var n=Ss(e),r=Ss(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function Dv(e,t){var n=Ss(e),r=n.Ki.get(t)||Us.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Js(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Nv(n,t,e),e}))}function Nv(e,t,n){var r=e.Ki.get(t)||Us.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Ov(e,t,n,r){return Pv.apply(this,arguments)}function Pv(){return Pv=u(a().mark((function e(t,n,r,i){var o,u,s,c,l,f,h,d,p,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Ss(t),u=rh(),s=Qf(),c=rn(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Ji(f.metadata.name),f.document&&(u=u.add(h)),(d=n.Yi(f)).setReadTime(n.Xi(f.metadata.readTime)),s=s.insert(h,d)}catch(a){c.e(a)}finally{c.f()}return p=o.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Iv(o,function(e){return Jl(Wl(qs.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",o.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Sv(e,p,s).next((function(t){return p.apply(e),t})).next((function(t){return o.Cs.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return o.Cs.addMatchingKeys(e,u,v.targetId)})).next((function(){return o.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Rv(e,t){return Lv.apply(this,arguments)}function Lv(){return Lv=u(a().mark((function e(t,n){var r,i,o,u=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:rh(),e.next=3,Iv(t,Jl(Ld(n.bundledQuery)));case 3:return i=e.sent,o=Ss(t),e.abrupt("return",o.persistence.runTransaction("Save named query","readwrite",(function(e){var t=xh(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return o.Ns.saveNamedQuery(e,n);var a=i.withResumeToken(Tc.EMPTY_BYTE_STRING,t);return o.qi=o.qi.insert(a.targetId,a),o.Cs.updateTargetData(e,a).next((function(){return o.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return o.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return o.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Lv.apply(this,arguments)}function Mv(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Fv(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Vv(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var jv=function(){function e(t,n,r,i){cn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return hn(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Is(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(gs("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Bv=function(){function e(t,n,r){cn(this,e),this.targetId=t,this.state=n,this.error=r}return hn(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Is(i.error.code,i.error.message))),a?new e(t,i.state,r):(gs("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Uv=function(){function e(t,n){cn(this,e),this.clientId=t,this.activeTargetIds=n}return hn(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ah(),o=0;i&&o<r.activeTargetIds.length;++o)i=_c(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(gs("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),zv=function(){function e(t,n){cn(this,e),this.clientId=t,this.onlineState=n}return hn(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(gs("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),qv=function(){function e(){cn(this,e),this.activeTargetIds=ah()}return hn(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Kv=function(){function e(t,n,r,i,a){cn(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new _l(Fs),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Mv(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new qv),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return hn(e,[{key:"start",value:function(){var e=u(a().mark((function e(){var t,n,r,i,o,u,s,c,l,f,h,d=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=rn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(o=this.getItem(Mv(this.persistenceKey,i)))&&(u=Uv.Zi(i,o))&&(this.ur=this.ur.insert(u.clientId,u));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(s=this.storage.getItem(this.wr))&&(c=this.yr(s))&&this.pr(c),l=rn(this.cr);try{for(l.s();!(f=l.n()).done;)h=f.value,this.rr(h)}catch(a){l.e(a)}finally{l.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Vv(this.persistenceKey,e));if(n){var r=Bv.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Vv(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ms("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ms("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ms("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ms("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void gs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(u(a().mark((function e(){var r,i,o,u,s,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(o=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(o));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(u=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(u));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(s));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}c=function(e){var t=gc.at;if(null!=e)try{var n=JSON.parse(e);xs("number"==typeof n),t=n}catch(e){gs("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),c!==gc.at&&t.sequenceNumberHandler(c),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return l=t.Or(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new jv(this.currentUser,e,t,n),i=Fv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=Fv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=Vv(this.persistenceKey,e),i=new Bv(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return Uv.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return jv.Zi(new ds(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Bv.Zi(r,t)}},{key:"yr",value:function(e){return zv.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:ms("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=ah();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Gv=function(){function e(){cn(this,e),this.Lr=new qv,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return hn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new qv,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Wv=function(){function e(){cn(this,e)}return hn(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Hv=function(){function e(){var t=this;cn(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return hn(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){ms("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=rn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){ms("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=rn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Qv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},$v=function(){function e(t){cn(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return hn(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Yv=function(e){an(n,e);var t=sn(n);function n(e){var r;return cn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return hn(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new fs;o.setWithCredentials(!0),o.listenOnce(os.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case as.NO_ERROR:var t=o.getResponseJson();ms("Connection","XHR received:",JSON.stringify(t)),i(t);break;case as.TIMEOUT:ms("Connection",'RPC "'+e+'" timed out'),a(new Is(Es.DEADLINE_EXCEEDED,"Request time out"));break;case as.HTTP_ERROR:var n=o.getStatus();if(ms("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Es).indexOf(t)>=0?t:Es.UNKNOWN}(u.status);a(new Is(s,u.message))}else a(new Is(Es.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Is(Es.UNAVAILABLE,"Connection failed."));break;default:ws()}}finally{ms("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=rs(),a=is(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new cs({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");ms("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new $v({Hr:function(e){l?ms("Connection","Not sending because WebChannel is closed:",e):(c||(ms("Connection","Opening WebChannel transport."),s.open(),c=!0),ms("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,ls.EventType.OPEN,(function(){l||ms("Connection","WebChannel transport opened.")})),h(s,ls.EventType.CLOSE,(function(){l||(l=!0,ms("Connection","WebChannel transport closed"),f.io())})),h(s,ls.EventType.ERROR,(function(e){l||(l=!0,ks("Connection","WebChannel transport errored:",e),f.io(new Is(Es.UNAVAILABLE,"The operation could not be completed")))})),h(s,ls.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];xs(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ms("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=jf[e];if(void 0!==t)return Gf(t)}(a),u=i.message;void 0===o&&(o=Es.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Is(o,u)),s.close()}else ms("Connection","WebChannel received:",n),f.ro(n)}})),h(a,us.STAT_EVENT,(function(e){e.stat===ss.PROXY?ms("Connection","Detected buffering proxy"):e.stat===ss.NOPROXY&&ms("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){cn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return hn(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);ms("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return ms("RestConnection","Received: ",e),e}),(function(t){throw ks("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ps,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Qv[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function Xv(){return"undefined"!=typeof window?window:null}function Jv(){return"undefined"!=typeof document?document:null}function Zv(e){return new gh(e,!0)}var ey=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;cn(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return hn(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&ms("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),ty=function(){function e(t,n,r,i,a,o,u,s){cn(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ey(t,n)}return hn(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=u(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Es.RESOURCE_EXHAUSTED?(gs(n.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Es.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Is(Es.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(u(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return ms("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(ms("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),ny=function(e){an(n,e);var t=sn(n);function n(e,r,i,a,o,u){var s;return cn(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s}return hn(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ws()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(xs(void 0===t||"string"==typeof t),Tc.fromBase64String(t||"")):(xs(void 0===t||t instanceof Uint8Array),Tc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Es.UNKNOWN:Gf(e.code);return new Is(t,e.message||"")}(o);n=new lh(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=_h(e,s.document.name),l=xh(s.document.updateTime),f=s.document.createTime?xh(s.document.createTime):Us.min(),h=new Pl({mapValue:{fields:s.document.fields}}),d=Ll.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new sh(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=_h(e,y.document),g=y.readTime?xh(y.readTime):Us.min(),k=Ll.newNoDocument(m,g),b=y.removedTargetIds||[];n=new sh([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=_h(e,w.document),S=w.removedTargetIds||[];n=new sh([],S,x,null)}else{if(!("filter"in t))return ws();t.filter;var E=t.filter;E.targetId;var I=E.count||0,_=new qf(I),T=E.targetId;n=new ch(T,_)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return Us.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Us.min():t.readTime?xh(t.readTime):Us.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Ah(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=Bl(r)?{documents:Mh(e,r)}:{query:Fh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=bh(e,t.resumeToken):t.snapshotVersion.compareTo(Us.min())>0&&(n.readTime=kh(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ws()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Ah(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(ty),ry=function(e){an(n,e);var t=sn(n);function n(e,r,i,a,o,u){var s;return cn(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s.Jo=!1,s}return hn(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,nn(en(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(xs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(xs(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?xh(e.updateTime):xh(t);return n.isEqual(Us.min())&&(n=xh(t)),new If(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=xh(e.commitTime);return this.listener.Zo(n,t)}return xs(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Ah(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Rh(t.yt,e)}))};this.Bo(n)}}]),n}(ty),iy=function(e){an(n,e);var t=sn(n);function n(e,r,i,a){var o;return cn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return hn(n,[{key:"su",value:function(){if(this.nu)throw new Is(Es.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Es.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Is(Es.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Es.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Is(Es.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return hn((function e(){cn(this,e)}))}());var ay=function(){function e(t,n){cn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return hn(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(gs(t),this.ou=!1):ms("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),oy=hn((function e(t,n,r,i,o){var s=this;cn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur((function(e){r.enqueueAndForget(u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=my(s),!e.t0){e.next=5;break}return ms("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=u(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ss(t))._u.add(4),e.next=4,cy(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,uy(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new ay(r,i)}));function uy(e){return sy.apply(this,arguments)}function sy(){return sy=u(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!my(t)){e.next=18;break}n=rn(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),sy.apply(this,arguments)}function cy(e){return ly.apply(this,arguments)}function ly(){return ly=u(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=rn(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),ly.apply(this,arguments)}function fy(e,t){var n=Ss(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),yy(n)?vy(n):Wy(n).ko()&&dy(n,t))}function hy(e,t){var n=Ss(e),r=Wy(n);n.du.delete(t),r.ko()&&py(n,t),0===n.du.size&&(r.ko()?r.Fo():my(n)&&n.gu.set("Unknown"))}function dy(e,t){e.yu.Ot(t.targetId),Wy(e).zo(t)}function py(e,t){e.yu.Ot(t),Wy(e).Ho(t)}function vy(e){e.yu=new hh({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),Wy(e).start(),e.gu.uu()}function yy(e){return my(e)&&!Wy(e).No()&&e.du.size>0}function my(e){return 0===Ss(e)._u.size}function gy(e){e.yu=void 0}function ky(e){return by.apply(this,arguments)}function by(){return by=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){dy(t,e)}));case 1:case"end":return e.stop()}}),e)}))),by.apply(this,arguments)}function wy(e,t){return xy.apply(this,arguments)}function xy(){return xy=u(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gy(t),yy(t)?(t.gu.hu(n),vy(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),xy.apply(this,arguments)}function Sy(e,t,n){return Ey.apply(this,arguments)}function Ey(){return Ey=u(a().mark((function e(t,n,r){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof lh&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=u(a().mark((function e(t,n){var r,i,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=rn(n.targetIds),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=14;break}if(u=o.value,e.t0=t.du.has(u),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(u,r);case 10:t.du.delete(u),t.yu.removeTarget(u);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ms("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Iy(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof sh?t.yu.Kt(n):n instanceof ch?t.yu.Jt(n):t.yu.jt(n),r.isEqual(Us.min())){e.next=29;break}return e.prev=14,e.next=17,wv(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Tc.EMPTY_BYTE_STRING,n.snapshotVersion)),py(e,t);var r=new _d(n.target,t,1,n.sequenceNumber);dy(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ms("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Iy(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Ey.apply(this,arguments)}function Iy(e,t,n){return _y.apply(this,arguments)}function _y(){return _y=u(a().mark((function e(t,n,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fc(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,cy(t);case 5:t.gu.set("Offline"),r||(r=function(){return wv(t.localStore)}),t.asyncQueue.enqueueRetryable(u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ms("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,uy(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),_y.apply(this,arguments)}function Ty(e,t){return t().catch((function(n){return Iy(e,n,t)}))}function Cy(e){return Ay.apply(this,arguments)}function Ay(){return Ay=u(a().mark((function e(t){var n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ss(t),r=Hy(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!Dy(n)){e.next=19;break}return e.prev=3,e.next=6,Ev(n.localStore,i);case 6:if(null!==(o=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=o.batchId,Ny(n,o),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Iy(n,e.t0);case 17:e.next=2;break;case 19:Oy(n)&&Py(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Ay.apply(this,arguments)}function Dy(e){return my(e)&&e.fu.length<10}function Ny(e,t){e.fu.push(t);var n=Hy(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Oy(e){return my(e)&&!Hy(e).No()&&e.fu.length>0}function Py(e){Hy(e).start()}function Ry(e){return Ly.apply(this,arguments)}function Ly(){return Ly=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Hy(t).eu();case 1:case"end":return e.stop()}}),e)}))),Ly.apply(this,arguments)}function My(e){return Fy.apply(this,arguments)}function Fy(){return Fy=u(a().mark((function e(t){var n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Hy(t),r=rn(t.fu);try{for(r.s();!(i=r.n()).done;)o=i.value,n.Xo(o.mutations)}catch(a){r.e(a)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Fy.apply(this,arguments)}function Vy(e,t,n){return jy.apply(this,arguments)}function jy(){return jy=u(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),o=Ed.from(i,n,r),e.next=3,Ty(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}));case 3:return e.next=5,Cy(t);case 5:case"end":return e.stop()}}),e)}))),jy.apply(this,arguments)}function By(e,t){return Uy.apply(this,arguments)}function Uy(){return Uy=u(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Hy(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=u(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Kf(i=n.code)||i===Es.ABORTED){e.next=7;break}return r=t.fu.shift(),Hy(t).Mo(),e.next=5,Ty(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Cy(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Oy(t)&&Py(t);case 5:case"end":return e.stop()}}),e)}))),Uy.apply(this,arguments)}function zy(e,t){return qy.apply(this,arguments)}function qy(){return qy=u(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ss(t)).asyncQueue.verifyOperationInProgress(),ms("RemoteStore","RemoteStore received new credentials"),i=my(r),r._u.add(3),e.next=6,cy(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,uy(r);case 12:case"end":return e.stop()}}),e)}))),qy.apply(this,arguments)}function Ky(e,t){return Gy.apply(this,arguments)}function Gy(){return Gy=u(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ss(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,uy(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,cy(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Gy.apply(this,arguments)}function Wy(e){return e.pu||(e.pu=function(e,t,n){var r=Ss(e);return r.su(),new ny(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:ky.bind(null,e),Zr:wy.bind(null,e),Wo:Sy.bind(null,e)}),e.wu.push(function(){var t=u(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),yy(e)?vy(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:gy(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function Hy(e){return e.Iu||(e.Iu=function(e,t,n){var r=Ss(e);return r.su(),new ry(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:Ry.bind(null,e),Zr:By.bind(null,e),tu:My.bind(null,e),Zo:Vy.bind(null,e)}),e.wu.push(function(){var t=u(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,Cy(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(ms("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var Qy=function(){function e(t,n,r,i,a){cn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return hn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Is(Es.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function $y(e,t){if(gs("AsyncQueue","".concat(t,": ").concat(e)),fc(e))return new Is(Es.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Yy=function(){function e(t){cn(this,e),this.comparator=t?function(e,n){return t(e,n)||Ws.comparator(e.key,n.key)}:function(e,t){return Ws.comparator(e.key,t.key)},this.keyedMap=Yf(),this.sortedSet=new _l(this.comparator)}return hn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Xy=function(){function e(){cn(this,e),this.Tu=new _l(Ws.comparator)}return hn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ws():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Jy=function(){function e(t,n,r,i,a,o,u,s,c){cn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return hn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Yy.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Zy=hn((function e(){cn(this,e),this.Au=void 0,this.listeners=[]})),em=hn((function e(){cn(this,e),this.queries=new Wf((function(e){return nf(e)}),tf),this.onlineState="Unknown",this.Ru=new Set}));function tm(e,t){return nm.apply(this,arguments)}function nm(){return nm=u(a().mark((function e(t,n){var r,i,o,u,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ss(t),i=n.query,o=!1,(u=r.queries.get(i))||(o=!0,u=new Zy),!o){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:u.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=$y(e.t0,"Initialization of query '".concat(rf(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,u),u.listeners.push(n),n.bu(r.onlineState),u.Au&&n.Pu(u.Au)&&um(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),nm.apply(this,arguments)}function rm(e,t){return im.apply(this,arguments)}function im(){return im=u(a().mark((function e(t,n){var r,i,o,u,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ss(t),i=n.query,o=!1,(u=r.queries.get(i))&&(s=u.listeners.indexOf(n))>=0&&(u.listeners.splice(s,1),o=0===u.listeners.length),!o){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),im.apply(this,arguments)}function am(e,t){var n,r=Ss(e),i=!1,a=rn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=rn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&um(r)}function om(e,t,n){var r=Ss(e),i=r.queries.get(t);if(i){var a,o=rn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function um(e){e.Ru.forEach((function(e){e.next()}))}var sm=function(){function e(t,n,r){cn(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return hn(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=rn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Jy(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=Jy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),cm=function(){function e(t,n){cn(this,e),this.ku=t,this.byteLength=n}return hn(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),lm=function(){function e(t){cn(this,e),this.yt=t}return hn(e,[{key:"Ji",value:function(e){return _h(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Oh(this.yt,e.document,!1):Ll.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return xh(e)}}]),e}(),fm=function(){function e(t,n,r){cn(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hm(t)}return hn(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=qs.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new lm(this.yt),i=rn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=rn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||rh()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=u(a().mark((function e(){var t,n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ov(this.localStore,new lm(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=rn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return o=i.value,e.next=11,Rv(this.localStore,o,n.get(o.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function hm(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var dm=hn((function e(t){cn(this,e),this.key=t})),pm=hn((function e(t){cn(this,e),this.key=t})),vm=function(){function e(t,n){cn(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=rh(),this.mutatedKeys=rh(),this.Gu=uf(t),this.Qu=new Yy(this.Gu)}return hn(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Xy,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=af(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ws()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new Jy(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Xy,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=rh(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new pm(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new dm(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=rh();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return Jy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),ym=hn((function e(t,n,r){cn(this,e),this.query=t,this.targetId=n,this.view=r})),mm=hn((function e(t){cn(this,e),this.key=t,this.nc=!1})),gm=function(){function e(t,n,r,i,a,o){cn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Wf((function(e){return nf(e)}),tf),this.rc=new Map,this.oc=new Set,this.uc=new _l(Ws.comparator),this.cc=new Map,this.ac=new Jp,this.hc={},this.lc=new Map,this.fc=Cp.vn(),this.onlineState="Unknown",this.dc=void 0}return hn(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function km(e,t){return bm.apply(this,arguments)}function bm(){return bm=u(a().mark((function e(t,n){var r,i,o,u,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hg(t),!(u=r.ic.get(n))){e.next=6;break}i=u.targetId,r.sharedClientState.addLocalQueryTarget(i),o=u.view.ec(),e.next=15;break;case 6:return e.next=8,Iv(r.localStore,Jl(n));case 8:return s=e.sent,r.isPrimaryClient&&fy(r.remoteStore,s),c=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,wm(r,n,i,"current"===c,s.resumeToken);case 14:o=e.sent;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}function wm(e,t,n,r,i){return xm.apply(this,arguments)}function xm(){return xm=u(a().mark((function e(t,n,r,i,o){var s,c,l,f,h,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=u(a().mark((function e(t,n,r,i){var o,u,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.view.Wu(r),e.t0=o.$i,!e.t0){e.next=6;break}return e.next=5,Cv(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,o)}));case 5:o=e.sent;case 6:return u=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(o,t.isPrimaryClient,u),e.abrupt("return",(zm(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Cv(t.localStore,n,!0);case 3:return s=e.sent,c=new vm(n,s.Hi),l=c.Wu(s.documents),f=uh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,o),h=c.applyChanges(l,t.isPrimaryClient,f),zm(t,r,h.Xu),d=new ym(n,r,c),e.abrupt("return",(t.ic.set(n,d),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)}))),xm.apply(this,arguments)}function Sm(e,t){return Em.apply(this,arguments)}function Em(){return Em=u(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ss(t),i=r.ic.get(n),!((o=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,o.filter((function(e){return!tf(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,_v(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),hy(r.remoteStore,i.targetId),Bm(r,i.targetId)})).catch(ic);case 9:e.next=14;break;case 11:return Bm(r,i.targetId),e.next=14,_v(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Em.apply(this,arguments)}function Im(e,t,n){return _m.apply(this,arguments)}function _m(){return _m=u(a().mark((function e(t,n,r){var i,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dg(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Ss(e),a=Bs.now(),o=t.reduce((function(e,t){return e.add(t.key)}),rh());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Qf(),s=rh();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=rn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Of(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Lf(c.key,l,Rl(l.value.mapValue),_f.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Xf(n)}}))}(i.localStore,n);case 4:return o=e.sent,i.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new _l(Fs)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,o.batchId,r),e.next=9,Gm(i,o.changes);case 9:return e.next=11,Cy(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),u=$y(e.t0,"Failed to persist write"),r.reject(u);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),_m.apply(this,arguments)}function Tm(e,t){return Cm.apply(this,arguments)}function Cm(){return Cm=u(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ss(t),e.prev=1,e.next=4,xv(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(xs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?xs(n.nc):e.removedDocuments.size>0&&(xs(n.nc),n.nc=!1))})),e.next=8,Gm(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ic(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Cm.apply(this,arguments)}function Am(e,t,n){var r=Ss(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ss(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=rn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&um(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Dm(e,t,n){return Nm.apply(this,arguments)}function Nm(){return Nm=u(a().mark((function e(t,n,r){var i,o,u,s,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ss(t)).sharedClientState.updateQueryState(n,"rejected",r),o=i.cc.get(n),!(u=o&&o.key)){e.next=14;break}return s=(s=new _l(Ws.comparator)).insert(u,Ll.newNoDocument(u,Us.min())),c=rh().add(u),l=new oh(Us.min(),new Map,new Al(Fs),s,c),e.next=9,Tm(i,l);case 9:i.uc=i.uc.remove(u),i.cc.delete(n),Km(i),e.next=16;break;case 14:return e.next=16,_v(i.localStore,n,!1).then((function(){return Bm(i,n,r)})).catch(ic);case 16:case"end":return e.stop()}}),e)}))),Nm.apply(this,arguments)}function Om(e,t){return Pm.apply(this,arguments)}function Pm(){return Pm=u(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ss(t),i=n.batch.batchId,e.prev=1,e.next=4,bv(r.localStore,n);case 4:return o=e.sent,jm(r,i,null),Vm(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Gm(r,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ic(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Pm.apply(this,arguments)}function Rm(e,t,n){return Lm.apply(this,arguments)}function Lm(){return Lm=u(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ss(t),e.prev=1,e.next=4,function(e,t){var n=Ss(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return xs(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return o=e.sent,jm(i,n,r),Vm(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Gm(i,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ic(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Lm.apply(this,arguments)}function Mm(e,t){return Fm.apply(this,arguments)}function Fm(){return Fm=u(a().mark((function e(t,n){var r,i,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return my((r=Ss(t)).remoteStore)||ms("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ss(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(o=r.lc.get(i)||[]).push(n),r.lc.set(i,o),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),u=$y(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(u);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Fm.apply(this,arguments)}function Vm(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function jm(e,t,n){var r=Ss(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Bm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=rn(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||Um(e,t)}))}function Um(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(hy(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),Km(e))}function zm(e,t,n){var r,i=rn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof dm?(e.ac.addReference(a.key,t),qm(e,a)):a instanceof pm?(ms("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||Um(e,a.key)):ws()}}catch(o){i.e(o)}finally{i.f()}}function qm(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(ms("SyncEngine","New document in limbo: "+n),e.oc.add(r),Km(e))}function Km(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Ws(qs.fromString(t)),r=e.fc.next();e.cc.set(r,new mm(n)),e.uc=e.uc.insert(n,r),fy(e.remoteStore,new _d(Jl(Wl(n.path)),r,2,gc.at))}}function Gm(e,t,n){return Wm.apply(this,arguments)}function Wm(){return Wm=u(a().mark((function e(t,n,r){var i,o,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ss(t),o=[],s=[],c=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){c.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){o.push(e);var n=pv.Ci(t.targetId,e);s.push(n)}})))})),e.next=6,Promise.all(c);case 6:return i.sc.Wo(o),e.next=9,function(){var e=u(a().mark((function e(t,n){var r,i,o,u,s,c,l,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ss(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return oc.forEach(n,(function(t){return oc.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return oc.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),fc(e.t0)){e.next=10;break}throw e.t0;case 10:ms("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=rn(n);try{for(i.s();!(o=i.n()).done;)u=o.value,s=u.targetId,u.fromCache||(c=r.qi.get(s),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),r.qi=r.qi.insert(s,f))}catch(a){i.e(a)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,s);case 9:case"end":return e.stop()}}),e)}))),Wm.apply(this,arguments)}function Hm(e,t){return Qm.apply(this,arguments)}function Qm(){return Qm=u(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ss(t)).currentUser.isEqual(n)){e.next=11;break}return ms("SyncEngine","User change. New user:",n.toKey()),e.next=5,gv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Is(Es.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Gm(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),Qm.apply(this,arguments)}function $m(e,t){var n=Ss(e),r=n.cc.get(t);if(r&&r.nc)return rh().add(r.key);var i=rh(),a=n.rc.get(t);if(!a)return i;var o,u=rn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function Ym(e,t){return Xm.apply(this,arguments)}function Xm(){return Xm=u(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ss(t),e.next=3,Cv(r.localStore,n.query,!0);case 3:return i=e.sent,o=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&zm(r,n.targetId,o.Xu),o));case 6:case"end":return e.stop()}}),e)}))),Xm.apply(this,arguments)}function Jm(e,t){return Zm.apply(this,arguments)}function Zm(){return Zm=u(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ss(t),e.abrupt("return",Dv(r.localStore,n).then((function(e){return Gm(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}function eg(e,t,n,r){return tg.apply(this,arguments)}function tg(){return tg=u(a().mark((function e(t,n,r,i){var o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Ss(t),e.next=3,function(e,t){var n=Ss(e),r=Ss(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):oc.resolve(null)}))}))}(o.localStore,n);case 3:if(null===(u=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Cy(o.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(jm(o,n,i||null),Vm(o,n),function(e,t){Ss(Ss(e).mutationQueue).An(t)}(o.localStore,n)):ws();case 11:return e.next=13,Gm(o,u);case 13:e.next=16;break;case 15:ms("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),tg.apply(this,arguments)}function ng(e,t){return rg.apply(this,arguments)}function rg(){return rg=u(a().mark((function e(t,n){var r,i,o,u,s,c,l,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hg(r=Ss(t)),dg(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,ig(r,i.toArray());case 5:return o=e.sent,r.dc=!0,e.next=9,Ky(r.remoteStore,!0);case 9:u=rn(o);try{for(u.s();!(s=u.n()).done;)c=s.value,fy(r.remoteStore,c)}catch(a){u.e(a)}finally{u.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return l=[],f=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return Bm(r,t),_v(r.localStore,t,!0)})),hy(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,ig(r,l);case 21:return function(e){var t=Ss(e);t.cc.forEach((function(e,n){hy(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new _l(Ws.comparator)}(r),r.dc=!1,e.next=25,Ky(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),rg.apply(this,arguments)}function ig(e,t,n){return ag.apply(this,arguments)}function ag(){return ag=u(a().mark((function e(t,n,r){var i,o,u,s,c,l,f,h,d,p,v,y,m,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Ss(t),o=[],u=[],s=rn(n),e.prev=2,s.s();case 4:if((c=s.n()).done){e.next=45;break}if(l=c.value,f=void 0,!(h=i.rc.get(l))||0===h.length){e.next=34;break}return e.next=11,Iv(i.localStore,Jl(h[0]));case 11:f=e.sent,d=rn(h),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,y=i.ic.get(v),e.next=20,Ym(i,y);case 20:(m=e.sent).snapshot&&u.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Av(i.localStore,l);case 36:return g=e.sent,e.next=39,Iv(i.localStore,g);case 39:return f=e.sent,e.next=42,wm(i,og(g),l,!1,f.resumeToken);case 42:o.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(u),o));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),ag.apply(this,arguments)}function og(e){return Gl(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ug(e){var t=Ss(e);return Ss(Ss(t.localStore).persistence).vi()}function sg(e,t,n,r){return cg.apply(this,arguments)}function cg(){return cg=u(a().mark((function e(t,n,r,i){var o,u,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=Ss(t)).dc){e.next=3;break}return e.abrupt("return",void ms("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((u=o.rc.get(n))&&u.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Dv(o.localStore,of(u[0]));case 10:return s=e.sent,c=oh.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Tc.EMPTY_BYTE_STRING),e.next=14,Gm(o,s,c);case 14:return e.abrupt("break",20);case 15:return e.next=17,_v(o.localStore,n,!0);case 17:return Bm(o,n,i),e.abrupt("break",20);case 19:ws();case 20:case"end":return e.stop()}}),e)}))),cg.apply(this,arguments)}function lg(e,t,n){return fg.apply(this,arguments)}function fg(){return fg=u(a().mark((function e(t,n,r){var i,o,u,s,c,l,f,h,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=hg(t)).dc){e.next=45;break}o=rn(n),e.prev=3,o.s();case 5:if((u=o.n()).done){e.next=21;break}if(s=u.value,!i.rc.has(s)){e.next=10;break}return ms("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Av(i.localStore,s);case 12:return c=e.sent,e.next=15,Iv(i.localStore,c);case 15:return l=e.sent,e.next=18,wm(i,og(c),l.targetId,!1,l.resumeToken);case 18:fy(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),o.e(e.t0);case 26:return e.prev=26,o.f(),e.finish(26);case 29:f=rn(r),e.prev=30,d=a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,_v(i.localStore,t,!1).then((function(){hy(i.remoteStore,t),Bm(i,t)})).catch(ic);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((h=f.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),fg.apply(this,arguments)}function hg(e){var t=Ss(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Tm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$m.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Dm.bind(null,t),t.sc.Wo=am.bind(null,t.eventManager),t.sc.wc=om.bind(null,t.eventManager),t}function dg(e){var t=Ss(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Om.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Rm.bind(null,t),t}function pg(e,t,n){var r=Ss(e);(function(){var e=u(a().mark((function e(t,n,r){var i,o,u,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ss(e),r=xh(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(hm(i)),o=new fm(i,t.localStore,n.yt),e.next=15,n.mc();case 15:u=e.sent;case 16:if(!u){e.next=26;break}return e.next=19,o.Fu(u);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.mc();case 23:u=e.sent;case 24:e.next=16;break;case 26:return e.next=28,o.complete();case 28:return c=e.sent,e.next=31,Gm(t,c.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Ss(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(c.progress),e.abrupt("return",Promise.resolve(c.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(ks("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var vg=function(){function e(){cn(this,e),this.synchronizeTabs=!1}return hn(e,[{key:"initialize",value:function(){var e=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=Zv(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return mv(this.persistence,new vv,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new iv(ov.Bs,this.yt)}},{key:"gc",value:function(e){return new Gv}},{key:"terminate",value:function(){var e=u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),yg=function(e){an(n,e);var t=sn(n);function n(e,r,i){var a;return cn(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return hn(n,[{key:"initialize",value:function(){var e=u(a().mark((function e(t){var r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nn(en(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,dg(this.Ac.syncEngine);case 6:return e.next=8,Cy(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return mv(this.persistence,new vv,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Lp(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new mc(t,this.persistence);return new yc(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=dv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?bp.withCacheSize(this.cacheSizeBytes):bp.DEFAULT;return new lv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Xv(),Jv(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new Gv}}]),n}(vg),mg=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return hn(n,[{key:"initialize",value:function(){var e=u(a().mark((function e(t){var r,i=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nn(en(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof Kv,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:eg.bind(null,r),$r:sg.bind(null,r),Br:lg.bind(null,r),vi:ug.bind(null,r),Mr:Jm.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ng(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=Xv();if(!Kv.C(t))throw new Is(Es.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=dv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Kv(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(yg),gg=function(){function e(){cn(this,e)}return hn(e,[{key:"initialize",value:function(){var e=u(a().mark((function e(t,n){var r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Am(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Hm.bind(null,this.syncEngine),e.next=12,Ky(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new em}},{key:"createDatastore",value:function(e){var t,n=Zv(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Yv(t));return function(e,t,n,r){return new iy(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Am(o.syncEngine,e,0)},a=Hv.C()?new Hv:new Wv,new oy(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new gm(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=u(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ss(t),ms("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,cy(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function kg(e,t,n){if(!n)throw new Is(Es.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function bg(e,t,n,r){if(!0===t&&!0===r)throw new Is(Es.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function wg(e){if(!Ws.isDocumentKey(e))throw new Is(Es.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function xg(e){if(Ws.isDocumentKey(e))throw new Is(Es.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Sg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ws()}function Eg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Is(Es.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Sg(e);throw new Is(Es.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Ig(e,t){if(t<=0)throw new Is(Es.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var _g=new Map,Tg=function(){function e(t){var n;if(cn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Is(Es.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Is(Es.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,bg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return hn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Cg=function(){function e(t,n,r,i){cn(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tg({}),this._settingsFrozen=!1}return hn(e,[{key:"app",get:function(){if(!this._app)throw new Is(Es.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Is(Es.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Cs;switch(e.type){case"gapi":var t=e.client;return new Os(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Is(Es.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=_g.get(e);t&&(ms("ComponentProvider","Removing Datastore"),_g.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Ag(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Eg(e,Cg))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&ks("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=ds.MOCK_USER;else{o=An(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Is(Es.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ds(s)}e._authCredentials=new As(new Ts(o,u))}}var Dg=function(){function e(t,n,r){cn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return hn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Og(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Ng=function(){function e(t,n,r){cn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return hn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Og=function(e){an(n,e);var t=sn(n);function n(e,r,i){var a;return cn(this,n),(a=t.call(this,e,r,Wl(i)))._path=i,a.type="collection",a}return hn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Dg(this.firestore,null,new Ws(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Ng);function Pg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=zn(e),kg("collection","path",t),e instanceof Cg){var a=qs.fromString.apply(qs,[t].concat(r));return xg(a),new Og(e,null,a)}if(!(e instanceof Dg||e instanceof Og))throw new Is(Es.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(qs.fromString.apply(qs,[t].concat(r)));return xg(o),new Og(e.firestore,null,o)}function Rg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=zn(e),1===arguments.length&&(t=Ms.R()),kg("doc","path",t),e instanceof Cg){var a=qs.fromString.apply(qs,[t].concat(r));return wg(a),new Dg(e,null,new Ws(a))}if(!(e instanceof Dg||e instanceof Og))throw new Is(Es.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(qs.fromString.apply(qs,[t].concat(r)));return wg(o),new Dg(e.firestore,e instanceof Og?e.converter:null,new Ws(o))}function Lg(e,t){return e=zn(e),t=zn(t),(e instanceof Dg||e instanceof Og)&&(t instanceof Dg||t instanceof Og)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Mg(e,t){return e=zn(e),t=zn(t),e instanceof Ng&&t instanceof Ng&&e.firestore===t.firestore&&tf(e._query,t._query)&&e.converter===t.converter}function Fg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return u(a().mark((function r(){var i;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Vg=function(){function e(t){cn(this,e),this.observer=t,this.muted=!1}return hn(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),jg=function(){function e(t,n){var r=this;cn(this,e),this.Pc=t,this.yt=n,this.metadata=new _s,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return hn(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=u(a().mark((function e(){var t,n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new cm(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=u(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=u(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=u(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Bg=function(){function e(t){cn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return hn(e,[{key:"lookup",value:function(){var e=u(a().mark((function e(t){var n,r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Is(Es.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=u(a().mark((function e(t,n){var r,i,o,u,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ss(t),i=Ah(r.yt)+"/documents",o={documents:n.map((function(e){return Ih(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,o,n.length);case 5:return u=e.sent,s=new Map,u.forEach((function(e){var t=Ph(r.yt,e);s.set(t.key.toString(),t)})),c=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());xs(!!t),c.push(t)})),c));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Uf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=u(a().mark((function e(){var t,n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ws.fromPath(t);n.mutations.push(new zf(r,n.precondition(r)))})),e.next=7,function(){var e=u(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ss(t),i=Ah(r.yt)+"/documents",o={writes:n.map((function(e){return Rh(r.yt,e)}))},e.next=3,r.ao("Commit",i,o);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ws();t=Us.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Is(Es.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Us.min())?_f.exists(!1):_f.updateTime(t):_f.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Us.min()))throw new Is(Es.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _f.updateTime(t)}return _f.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Ug=function(){function e(t,n,r,i,a){cn(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new ey(this.asyncQueue,"transaction_retry")}return hn(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(u(a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Bg(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Ec(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Kf(t)}return!1}}]),e}(),zg=function(){function e(t,n,r,i){var o=this;cn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ds.UNAUTHENTICATED,this.clientId=Ms.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ms("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ms("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return hn(e,[{key:"getConfiguration",value:function(){var e=u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Is(Es.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(u(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=$y(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function qg(e,t){return Kg.apply(this,arguments)}function Kg(){return Kg=u(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ms("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,gv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}function Gg(e,t){return Wg.apply(this,arguments)}function Wg(){return Wg=u(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Hg(t);case 3:return r=e.sent,ms("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return zy(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return zy(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Wg.apply(this,arguments)}function Hg(e){return Qg.apply(this,arguments)}function Qg(){return Qg=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return ms("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,qg(t,new vg);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Qg.apply(this,arguments)}function $g(e){return Yg.apply(this,arguments)}function Yg(){return Yg=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return ms("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Gg(t,new gg);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Yg.apply(this,arguments)}function Xg(e){return Hg(e).then((function(e){return e.persistence}))}function Jg(e){return Hg(e).then((function(e){return e.localStore}))}function Zg(e){return $g(e).then((function(e){return e.remoteStore}))}function ek(e){return $g(e).then((function(e){return e.syncEngine}))}function tk(e){return $g(e).then((function(e){return e.datastore}))}function nk(e){return rk.apply(this,arguments)}function rk(){return rk=u(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$g(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=km.bind(null,n.syncEngine),r.onUnlisten=Sm.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),rk.apply(this,arguments)}function ik(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _s;return e.asyncQueue.enqueueAndForget(u(a().mark((function i(){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Vg({next:function(a){t.enqueueAndForget((function(){return rm(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Is(Es.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Is(Es.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new sm(Wl(n.path),a,{includeMetadataChanges:!0,Nu:!0});return tm(e,o)},i.next=3,nk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function ak(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _s;return e.asyncQueue.enqueueAndForget(u(a().mark((function i(){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Vg({next:function(n){t.enqueueAndForget((function(){return rm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Is(Es.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new sm(n,a,{includeMetadataChanges:!0,Nu:!0});return tm(e,o)},i.next=3,nk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var ok=function(){function e(){var t=this;cn(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new ey(this,"async_queue_retry"),this.Wc=function(){var e=Jv();e&&ms("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=Jv();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return hn(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=Jv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new _s;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=u(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),fc(e.t0)){e.next=12;break}throw e.t0;case 12:ms("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw gs("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=Qy.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&ws()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=u(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=rn(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=rn(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function uk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=rn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var sk=function(){function e(){cn(this,e),this._progressObserver={},this._taskCompletionResolver=new _s,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return hn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ck=function(e){an(n,e);var t=sn(n);function n(e,r,i,a){var o;return cn(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new ok,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return hn(n,[{key:"_terminate",value:function(){return this._firestoreClient||fk(this),this._firestoreClient.terminate()}}]),n}(Cg);function lk(e){return e._firestoreClient||fk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fk(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new kc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new zg(e._authCredentials,e._appCheckCredentials,e._queue,r)}function hk(e,t,n){var r=new _s;return e.asyncQueue.enqueue(u(a().mark((function i(){var o;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,qg(e,n);case 3:return i.next=5,Gg(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Es.FAILED_PRECONDITION||e.code===Es.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(o=i.t0)){i.next=13;break}throw o;case 13:ks("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function dk(e){return function(e){return e.asyncQueue.enqueue(u(a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xg(e);case 2:return n=t.sent,t.next=5,Zg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Ss(e);return t._u.delete(0),uy(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(lk(e=Eg(e,ck)))}function pk(e){return function(e){return e.asyncQueue.enqueue(u(a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xg(e);case 2:return n=t.sent,t.next=5,Zg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=u(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ss(t))._u.add(0),e.next=4,cy(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(lk(e=Eg(e,ck)))}function vk(e,t){var n=lk(e=Eg(e,ck)),r=new sk;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new jg(e,t)}(function(e,t){if(e instanceof Uint8Array)return Fg(e,t);if(e instanceof ArrayBuffer)return Fg(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Zv(t));e.asyncQueue.enqueueAndForget(u(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=pg,t.next=3,ek(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function yk(e,t){return function(e,t){return e.asyncQueue.enqueue(u(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ss(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,Jg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(lk(e=Eg(e,ck)),t).then((function(t){return t?new Ng(e,null,t.query):null}))}function mk(e){if(e._initialized||e._terminated)throw new Is(Es.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var gk=function(){function e(t){cn(this,e),this._byteString=t}return hn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Tc.fromBase64String(t))}catch(t){throw new Is(Es.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Tc.fromUint8Array(t))}}]),e}(),kk=function(){function e(){cn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Is(Es.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gs(n)}return hn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var bk=hn((function e(t){cn(this,e),this._methodName=t})),wk=function(){function e(t,n){if(cn(this,e),!isFinite(t)||t<-90||t>90)throw new Is(Es.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Is(Es.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return hn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Fs(this._lat,e._lat)||Fs(this._long,e._long)}}]),e}(),xk=/^__.*__$/,Sk=function(){function e(t,n,r){cn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return hn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Lf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rf(e,this.data,t,this.fieldTransforms)}}]),e}(),Ek=function(){function e(t,n,r){cn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return hn(e,[{key:"toMutation",value:function(e,t){return new Lf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Ik(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ws()}}var _k=function(){function e(t,n,r,i,a,o){cn(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return hn(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return Wk(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Ik(this.sa)&&xk.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),Tk=function(){function e(t,n,r){cn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||Zv(t)}return hn(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _k({sa:e,methodName:t,fa:n,path:Gs.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function Ck(e){var t=e._freezeSettings(),n=Zv(e._databaseId);return new Tk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ak(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);zk("Data must be an object, but it was:",o,r);var u,s,c=Bk(r,o);if(a.merge)u=new Ol(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=rn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=qk(t,d,n);if(!o.contains(p))throw new Is(Es.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Hk(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Ol(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Sk(new Pl(c),u,s)}var Dk=function(e){an(n,e);var t=sn(n);function n(){return cn(this,n),t.apply(this,arguments)}return hn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bk);function Nk(e,t,n){return new _k({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var Ok=function(e){an(n,e);var t=sn(n);function n(){return cn(this,n),t.apply(this,arguments)}return hn(n,[{key:"_toFieldTransform",value:function(e){return new Ef(e.path,new yf)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bk),Pk=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this,e))._a=r,i}return hn(n,[{key:"_toFieldTransform",value:function(e){var t=Nk(this,e,!0),n=this._a.map((function(e){return jk(e,t)})),r=new mf(n);return new Ef(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bk),Rk=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this,e))._a=r,i}return hn(n,[{key:"_toFieldTransform",value:function(e){var t=Nk(this,e,!0),n=this._a.map((function(e){return jk(e,t)})),r=new kf(n);return new Ef(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bk),Lk=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this,e)).wa=r,i}return hn(n,[{key:"_toFieldTransform",value:function(e){var t=new wf(e.yt,ff(e.yt,this.wa));return new Ef(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bk);function Mk(e,t,n,r){var i=e.da(1,t,n);zk("Data must be an object, but it was:",i,r);var a=[],o=Pl.empty();xc(r,(function(e,r){var u=Gk(t,e,n);r=zn(r);var s=i.ca(u);if(r instanceof Dk)a.push(u);else{var c=jk(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Ol(a);return new Ek(o,u,i.fieldTransforms)}function Fk(e,t,n,r,i,a){var o=e.da(1,t,n),u=[qk(t,r,n)],s=[i];if(a.length%2!=0)throw new Is(Es.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(qk(t,a[c])),s.push(a[c+1]);for(var l=[],f=Pl.empty(),h=u.length-1;h>=0;--h)if(!Hk(l,u[h])){var d=u[h],p=s[h];p=zn(p);var v=o.ca(d);if(p instanceof Dk)l.push(d);else{var y=jk(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Ol(l);return new Ek(f,m,o.fieldTransforms)}function Vk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return jk(n,e.da(r?4:3,t))}function jk(e,t){if(Uk(e=zn(e)))return zk("Unsupported field value:",t,e),Bk(e,t);if(e instanceof bk)return function(e,t){if(!Ik(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=rn(e);try{for(a.s();!(n=a.n()).done;){var o=jk(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=zn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ff(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Bs.fromDate(e);return{timestampValue:kh(t.yt,n)}}if(e instanceof Bs){var r=new Bs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:kh(t.yt,r)}}if(e instanceof wk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gk)return{bytesValue:bh(t.yt,e._byteString)};if(e instanceof Dg){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Sh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(Sg(e)))}(e,t)}function Bk(e,t){var n={};return Sc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xc(e,(function(e,r){var i=jk(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Uk(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Bs||e instanceof wk||e instanceof gk||e instanceof Dg||e instanceof bk)}function zk(e,t,n){if(!Uk(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Sg(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function qk(e,t,n){if((t=zn(t))instanceof kk)return t._internalPath;if("string"==typeof t)return Gk(e,t);throw Wk("Field path arguments must be of type string or ",e,!1,void 0,n)}var Kk=new RegExp("[~\\*/\\[\\]]");function Gk(e,t,n){if(t.search(Kk)>=0)throw Wk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Zt(kk,Yt(t.split(".")))._internalPath}catch(r){throw Wk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Wk(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Is(Es.INVALID_ARGUMENT,u+e+s)}function Hk(e,t){return e.some((function(e){return e.isEqual(t)}))}var Qk=function(){function e(t,n,r,i,a){cn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return hn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Dg(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new $k(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Yk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),$k=function(e){an(n,e);var t=sn(n);function n(){return cn(this,n),t.apply(this,arguments)}return hn(n,[{key:"data",value:function(){return nn(en(n.prototype),"data",this).call(this)}}]),n}(Qk);function Yk(e,t){return"string"==typeof t?Gk(e,t):t instanceof kk?t._internalPath:t._delegate._internalPath}function Xk(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Is(Es.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jk=hn((function e(){cn(this,e)})),Zk=function(e){an(n,e);var t=sn(n);function n(){return cn(this,n),t.apply(this,arguments)}return hn(n)}(Jk);function eb(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Jk&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof nb})).length,n=e.filter((function(e){return e instanceof tb})).length;if(t>1||t>0&&n>0)throw new Is(Es.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=rn(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;e=s._apply(e)}}catch(c){u.e(c)}finally{u.f()}return e}var tb=function(e){an(n,e);var t=sn(n);function n(e,r,i){var a;return cn(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return hn(n,[{key:"_apply",value:function(e){var t=this._parse(e);return pb(e._query,t),new Ng(e.firestore,e.converter,Zl(e._query,t))}},{key:"_parse",value:function(e){var t=Ck(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Is(Es.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){db(o,a);var s,c=[],l=rn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(hb(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=hb(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||db(o,a),u=Vk(n,"where",o,"in"===a||"not-in"===a);return ol.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Zk);var nb=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return hn(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:ul.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=rn(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;pb(r,a),r=Zl(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Ng(e.firestore,e.converter,Zl(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Jk);var rb=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return hn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Is(Es.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Is(Es.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new El(t,n);return function(e,t){if(null===Ql(e)){var n=$l(e);null!==n&&vb(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Ng(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Kl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Zk);var ib=function(e){an(n,e);var t=sn(n);function n(e,r,i){var a;return cn(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return hn(n,[{key:"_apply",value:function(e){return new Ng(e.firestore,e.converter,ef(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Zk);var ab=function(e){an(n,e);var t=sn(n);function n(e,r,i){var a;return cn(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return hn(n,[{key:"_apply",value:function(e){var t=fb(e,this.type,this._docOrFields,this._inclusive);return new Ng(e.firestore,e.converter,function(e,t){return new Kl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Zk);function ob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ab._create("startAt",t,!0)}function ub(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ab._create("startAfter",t,!1)}var sb=function(e){an(n,e);var t=sn(n);function n(e,r,i){var a;return cn(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return hn(n,[{key:"_apply",value:function(e){var t=fb(e,this.type,this._docOrFields,this._inclusive);return new Ng(e.firestore,e.converter,function(e,t){return new Kl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Zk);function cb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sb._create("endBefore",t,!1)}function lb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sb._create("endAt",t,!0)}function fb(e,t,n,r){if(n[0]=zn(n[0]),n[0]instanceof Qk)return function(e,t,n,r,i){if(!r)throw new Is(Es.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=rn(Xl(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Kc(t,r.key));else{var c=r.data.field(s.field);if(Oc(c))throw new Is(Es.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Is(Es.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new nl(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ck(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Is(Es.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Is(Es.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Yl(e)&&-1!==c.indexOf("/"))throw new Is(Es.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(qs.fromString(c));if(!Ws.isDocumentKey(l))throw new Is(Es.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ws(l);u.push(Kc(t,f))}else{var h=Vk(n,r,c);u.push(h)}}return new nl(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function hb(e,t,n){if("string"==typeof(n=zn(n))){if(""===n)throw new Is(Es.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yl(t)&&-1!==n.indexOf("/"))throw new Is(Es.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(qs.fromString(n));if(!Ws.isDocumentKey(r))throw new Is(Es.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Kc(e,new Ws(r))}if(n instanceof Dg)return Kc(e,n._key);throw new Is(Es.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Sg(n),"."))}function db(e,t){if(!Array.isArray(e)||0===e.length)throw new Is(Es.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Is(Es.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function pb(e,t){if(t.isInequality()){var n=$l(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Is(Es.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Ql(e);null!==i&&vb(e,r,i)}var a=function(e,t){var n,r=rn(e);try{for(r.s();!(n=r.n()).done;){var i,a=rn(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Is(Es.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Is(Es.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function vb(e,t,n){if(!n.isEqual(t))throw new Is(Es.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var yb=function(){function e(){cn(this,e)}return hn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Fc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ws()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return xc(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new wk(Dc(e.latitude),Dc(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Pc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Rc(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ac(e);return new Bs(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=qs.fromString(e);xs(Hh(n));var r=new bc(n.get(1),n.get(3)),i=new Ws(n.popFirst(5));return r.isEqual(t)||gs("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function mb(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var gb=function(e){an(n,e);var t=sn(n);function n(e){var r;return cn(this,n),(r=t.call(this)).firestore=e,r}return hn(n,[{key:"convertBytes",value:function(e){return new gk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dg(this.firestore,null,t)}}]),n}(yb),kb=function(){function e(t,n){cn(this,e),this.hasPendingWrites=t,this.fromCache=n}return hn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),bb=function(e){an(n,e);var t=sn(n);function n(e,r,i,a,o,u){var s;return cn(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return hn(n,[{key:"exists",value:function(){return nn(en(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new wb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Yk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Qk),wb=function(e){an(n,e);var t=sn(n);function n(){return cn(this,n),t.apply(this,arguments)}return hn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nn(en(n.prototype),"data",this).call(this,e)}}]),n}(bb),xb=function(){function e(t,n,r,i){cn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new kb(i.hasPendingWrites,i.fromCache),this.query=r}return hn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new wb(n._firestore,n._userDataWriter,r.key,r,new kb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Is(Es.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new wb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new wb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Sb(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Sb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ws()}}function Eb(e,t){return e instanceof bb&&t instanceof bb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof xb&&t instanceof xb&&e._firestore===t._firestore&&Mg(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var Ib=function(e){an(n,e);var t=sn(n);function n(e){var r;return cn(this,n),(r=t.call(this)).firestore=e,r}return hn(n,[{key:"convertBytes",value:function(e){return new gk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dg(this.firestore,null,t)}}]),n}(yb);function _b(e){e=Eg(e,Dg);var t=Eg(e.firestore,ck),n=lk(t),r=new Ib(t);return function(e,t){var n=new _s;return e.asyncQueue.enqueueAndForget(u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=u(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ss(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Is(Es.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o=$y(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(o);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Jg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new bb(t,r,e._key,n,new kb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Tb(e){e=Eg(e,Ng);var t=Eg(e.firestore,ck),n=lk(t),r=new Ib(t);return Xk(e._query),ak(n,e._query).then((function(n){return new xb(t,r,e,n)}))}function Cb(e){e=Eg(e,Ng);var t=Eg(e.firestore,ck),n=lk(t),r=new Ib(t);return function(e,t){var n=new _s;return e.asyncQueue.enqueueAndForget(u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=u(a().mark((function e(t,n,r){var i,o,u,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cv(t,n,!0);case 3:i=e.sent,o=new vm(n,i.Hi),u=o.Wu(i.documents),s=o.applyChanges(u,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=$y(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(c);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Jg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new xb(t,r,e,n)}))}function Ab(e,t,n){e=Eg(e,Dg);var r=Eg(e.firestore,ck),i=mb(e.converter,t,n);return Pb(r,[Ak(Ck(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,_f.none())])}function Db(e,t,n){e=Eg(e,Dg);for(var r=Eg(e.firestore,ck),i=Ck(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Pb(r,[("string"==typeof(t=zn(t))||t instanceof kk?Fk(i,"updateDoc",e._key,t,n,o):Mk(i,"updateDoc",e._key,t)).toMutation(e._key,_f.exists(!0))])}function Nb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=zn(e);var c={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||uk(n[l])||(c=n[l],l++);var f,h,d,p={includeMetadataChanges:c.includeMetadataChanges};if(uk(n[l])){var v=n[l];n[l]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[l+1]=null===(o=v.error)||void 0===o?void 0:o.bind(v),n[l+2]=null===(s=v.complete)||void 0===s?void 0:s.bind(v)}if(e instanceof Dg)h=Eg(e.firestore,ck),d=Wl(e._key.path),f={next:function(t){n[l]&&n[l](Rb(h,e,t))},error:n[l+1],complete:n[l+2]};else{var y=Eg(e,Ng);h=Eg(y.firestore,ck),d=y._query;var m=new Ib(h);f={next:function(e){n[l]&&n[l](new xb(h,m,y,e))},error:n[l+1],complete:n[l+2]},Xk(e._query)}return function(e,t,n,r){var i=new Vg(r),o=new sm(t,i,n);return e.asyncQueue.enqueueAndForget(u(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tm,t.next=3,nk(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(u(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rm,t.next=3,nk(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(lk(h),d,p,f)}function Ob(e,t){return function(e,t){var n=new Vg(t);return e.asyncQueue.enqueueAndForget(u(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ss(e).Ru.add(t),t.next()},t.next=3,nk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(u(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ss(e).Ru.delete(t)},t.next=3,nk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(lk(e=Eg(e,ck)),uk(t)?t:{next:t})}function Pb(e,t){return function(e,t){var n=new _s;return e.asyncQueue.enqueueAndForget(u(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Im,r.next=3,ek(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(lk(e),t)}function Rb(e,t,n){var r=n.docs.get(t._key),i=new Ib(e);return new bb(e,i,t._key,r,new kb(n.hasPendingWrites,n.fromCache),t.converter)}var Lb={maxAttempts:5},Mb=function(){function e(t,n){cn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ck(t)}return hn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Fb(e,this._firestore),i=mb(r.converter,t,n),a=Ak(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,_f.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Fb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=zn(t))||t instanceof kk?Fk(this._dataReader,"WriteBatch.update",i._key,t,n,o):Mk(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,_f.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Fb(e,this._firestore);return this._mutations=this._mutations.concat(new Uf(t._key,_f.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Is(Es.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Fb(e,t){if((e=zn(e)).firestore!==t)throw new Is(Es.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Vb=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this,e,r))._firestore=e,i}return hn(n,[{key:"get",value:function(e){var t=this,r=Fb(e,this._firestore),i=new Ib(this._firestore);return nn(en(n.prototype),"get",this).call(this,e).then((function(e){return new bb(t._firestore,i,r._key,e._document,new kb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){cn(this,e),this._firestore=t,this._transaction=n,this._dataReader=Ck(t)}return hn(e,[{key:"get",value:function(e){var t=this,n=Fb(e,this._firestore),r=new gb(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ws();var i=e[0];if(i.isFoundDocument())return new Qk(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Qk(t._firestore,r,n._key,null,n.converter);throw ws()}))}},{key:"set",value:function(e,t,n){var r=Fb(e,this._firestore),i=mb(r.converter,t,n),a=Ak(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Fb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=zn(t))||t instanceof kk?Fk(this._dataReader,"Transaction.update",i._key,t,n,o):Mk(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Fb(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function jb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Pk("arrayUnion",t)}function Bb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Rk("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ps=e}(Vr),Nr(new qn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new ck(new Ds(e.getProvider("auth-internal")),new Rs(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Is(Es.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Kr(hs,"3.8.0",e),Kr(hs,"3.8.0","esm2017")}();Kr("firebase","9.15.0","app");var Ub,zb;var qb=new WeakMap,Kb=new WeakMap,Gb=new WeakMap,Wb=new WeakMap,Hb=new WeakMap;var Qb={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Kb.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Gb.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xb(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function $b(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(zb||(zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Jb(this),n),Xb(qb.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xb(e.apply(Jb(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Jb(this),t].concat(r));return Gb.set(a,t.sort?t.sort():[t]),Xb(a)}}function Yb(e){return"function"===typeof e?$b(e):(e instanceof IDBTransaction&&function(e){if(!Kb.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Kb.set(e,t)}}(e),t=e,(Ub||(Ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Qb):e);var t}function Xb(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Xb(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&qb.set(t,e)})).catch((function(){})),Hb.set(t,e),t}(e);if(Wb.has(e))return Wb.get(e);var t=Yb(e);return t!==e&&(Wb.set(e,t),Hb.set(t,e)),t}var Jb=function(e){return Hb.get(e)};var Zb,ew=["get","getKey","getAll","getAllKeys","count"],tw=["put","add","delete","clear"],nw=new Map;function rw(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(nw.get(t))return nw.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=tw.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ew.includes(n))){var o=function(){var e=u(a().mark((function e(t){var o,u,s,c,l,f,h=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u=this.transaction(t,i?"readwrite":"readonly"),s=u.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(o=s)[n].apply(o,l),i&&u.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return nw.set(t,o),o}}}!function(e){Qb=e(Qb)}((function(e){return nr(nr({},e),{},{get:function(t,n,r){return rw(t,n)||e.get(t,n,r)},has:function(t,n){return!!rw(t,n)||e.has(t,n)}})}));var iw="@firebase/installations",aw="0.6.0",ow=1e4,uw="w:".concat(aw),sw="FIS_v2",cw=36e5,lw=(dn(Zb={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),dn(Zb,"not-registered","Firebase Installation is not registered."),dn(Zb,"installation-not-found","Firebase Installation not found."),dn(Zb,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),dn(Zb,"app-offline","Could not process request. Application offline."),dn(Zb,"delete-pending-registration","Can't delete installation while there is a pending registration request."),Zb),fw=new Nn("installations","Installations",lw);function hw(e){return e instanceof Dn&&e.code.includes("request-failed")}function dw(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function pw(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function vw(e,t){return yw.apply(this,arguments)}function yw(){return(yw=u(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",fw.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mw(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gw(e,t){var n=t.refreshToken,r=mw(e);return r.append("Authorization",function(e){return"".concat(sw," ").concat(e)}(n)),r}function kw(e){return bw.apply(this,arguments)}function bw(){return bw=u(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),bw.apply(this,arguments)}function ww(e,t){return xw.apply(this,arguments)}function xw(){return(xw=u(a().mark((function e(t,n){var r,i,o,u,s,c,l,f,h,d,p,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,o=n.fid,u=dw(r),s=mw(r),!(c=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,c.getHeartbeatsHeader();case 8:(l=e.sent)&&s.append("x-firebase-client",l);case 10:return f={fid:o,authVersion:sw,appId:r.appId,sdkVersion:uw},h={method:"POST",headers:s,body:JSON.stringify(f)},e.next=14,kw((function(){return fetch(u,h)}));case 14:if(!(d=e.sent).ok){e.next=23;break}return e.next=18,d.json();case 18:return p=e.sent,v={fid:p.fid||o,registrationStatus:2,refreshToken:p.refreshToken,authToken:pw(p.authToken)},e.abrupt("return",v);case 23:return e.next=25,vw("Create Installation",d);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sw(e){return new Promise((function(t){setTimeout(t,e)}))}var Ew=/^[cdef][\w-]{21}$/;function Iw(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,Yt(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Ew.test(t)?t:""}catch(_g){return""}}function _w(e){return"".concat(e.appName,"!").concat(e.appId)}var Tw=new Map;function Cw(e,t){var n=_w(e);Aw(n,t),function(e,t){var n=Nw();n&&n.postMessage({key:e,fid:t});Ow()}(n,t)}function Aw(e,t){var n=Tw.get(e);if(n){var r,i=rn(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var Dw=null;function Nw(){return!Dw&&"BroadcastChannel"in self&&((Dw=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Aw(e.data.key,e.data.fid)}),Dw}function Ow(){0===Tw.size&&Dw&&(Dw.close(),Dw=null)}var Pw="firebase-installations-store",Rw=null;function Lw(){return Rw||(Rw=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Xb(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Xb(u.result),e.oldVersion,e.newVersion,Xb(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Pw)}})),Rw}function Mw(e,t){return Fw.apply(this,arguments)}function Fw(){return Fw=u(a().mark((function e(t,n){var r,i,o,u,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_w(t),e.next=3,Lw();case 3:return i=e.sent,o=i.transaction(Pw,"readwrite"),u=o.objectStore(Pw),e.next=8,u.get(r);case 8:return s=e.sent,e.next=11,u.put(n,r);case 11:return e.next=13,o.done;case 13:return s&&s.fid===n.fid||Cw(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),Fw.apply(this,arguments)}function Vw(e){return jw.apply(this,arguments)}function jw(){return jw=u(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_w(t),e.next=3,Lw();case 3:return r=e.sent,i=r.transaction(Pw,"readwrite"),e.next=7,i.objectStore(Pw).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),jw.apply(this,arguments)}function Bw(e,t){return Uw.apply(this,arguments)}function Uw(){return Uw=u(a().mark((function e(t,n){var r,i,o,u,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_w(t),e.next=3,Lw();case 3:return i=e.sent,o=i.transaction(Pw,"readwrite"),u=o.objectStore(Pw),e.next=8,u.get(r);case 8:if(s=e.sent,void 0!==(c=n(s))){e.next=15;break}return e.next=13,u.delete(r);case 13:e.next=17;break;case 15:return e.next=17,u.put(c,r);case 17:return e.next=19,o.done;case 19:return!c||s&&s.fid===c.fid||Cw(t,c.fid),e.abrupt("return",c);case 21:case"end":return e.stop()}}),e)}))),Uw.apply(this,arguments)}function zw(e){return qw.apply(this,arguments)}function qw(){return(qw=u(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bw(t.appConfig,(function(e){var r=Kw(e),i=Gw(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kw(e){return Yw(e||{fid:Iw(),registrationStatus:0})}function Gw(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(fw.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return Ww.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Hw(e)}:{installationEntry:t}}function Ww(){return(Ww=u(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ww(t,n);case 3:return r=e.sent,e.abrupt("return",Mw(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!hw(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,Vw(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Mw(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Hw(e){return Qw.apply(this,arguments)}function Qw(){return(Qw=u(a().mark((function e(t){var n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$w(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Sw(100);case 6:return e.next=8,$w(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,zw(t);case 14:if(r=e.sent,i=r.installationEntry,!(o=r.registrationPromise)){e.next=21;break}return e.abrupt("return",o);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $w(e){return Bw(e,(function(e){if(!e)throw fw.create("installation-not-found");return Yw(e)}))}function Yw(e){return 1===(t=e).registrationStatus&&t.registrationTime+ow<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Xw(e,t){return Jw.apply(this,arguments)}function Jw(){return(Jw=u(a().mark((function e(t,n){var r,i,o,u,s,c,l,f,h,d,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,o=Zw(r,n),u=gw(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(c=e.sent)&&u.append("x-firebase-client",c);case 9:return l={installation:{sdkVersion:uw,appId:r.appId}},f={method:"POST",headers:u,body:JSON.stringify(l)},e.next=13,kw((function(){return fetch(o,f)}));case 13:if(!(h=e.sent).ok){e.next=22;break}return e.next=17,h.json();case 17:return d=e.sent,p=pw(d),e.abrupt("return",p);case 22:return e.next=24,vw("Generate Auth Token",h);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zw(e,t){var n=t.fid;return"".concat(dw(e),"/").concat(n,"/authTokens:generate")}function ex(e){return tx.apply(this,arguments)}function tx(){return tx=u(a().mark((function e(t){var n,r,i,o,u=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],e.next=3,Bw(t.appConfig,(function(e){if(!ux(e))throw fw.create("not-registered");var i=e.authToken;if(!n&&sx(i))return e;if(1===i.requestStatus)return r=nx(t,n),e;if(!navigator.onLine)throw fw.create("app-offline");var a=cx(e);return r=ax(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return o=e.t0,e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}function nx(e,t){return rx.apply(this,arguments)}function rx(){return(rx=u(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ix(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Sw(100);case 6:return e.next=8,ix(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",ex(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ix(e){return Bw(e,(function(e){if(!ux(e))throw fw.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+ow<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function ax(e,t){return ox.apply(this,arguments)}function ox(){return(ox=u(a().mark((function e(t,n){var r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xw(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Mw(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!hw(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,Vw(t.appConfig);case 15:e.next=20;break;case 17:return o=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,Mw(t.appConfig,o);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ux(e){return void 0!==e&&2===e.registrationStatus}function sx(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+cw}(e)}function cx(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function lx(){return(lx=u(a().mark((function e(t){var n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,zw(n);case 3:return r=e.sent,i=r.installationEntry,(o=r.registrationPromise)?o.catch(console.error):ex(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fx(){return fx=u(a().mark((function e(t){var n,r,i,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],r=t,e.next=4,hx(r);case 4:return e.next=6,ex(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),fx.apply(this,arguments)}function hx(e){return dx.apply(this,arguments)}function dx(){return(dx=u(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zw(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function px(e){return fw.create("missing-app-config-values",{valueName:e})}var vx,yx="installations",mx=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw px("App Configuration");if(!e.name)throw px("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw px(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Or(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},gx=function(e){var t=Or(e.getProvider("app").getImmediate(),yx).getImmediate(),n={getId:function(){return function(e){return lx.apply(this,arguments)}(t)},getToken:function(e){return function(e){return fx.apply(this,arguments)}(t,e)}};return n};Nr(new qn(yx,mx,"PUBLIC")),Nr(new qn("installations-internal",gx,"PRIVATE")),Kr(iw,aw),Kr(iw,aw,"esm2017");var kx="analytics",bx="firebase_id",wx="origin",xx=6e4,Sx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ex="https://www.googletagmanager.com/gtag/js",Ix=new er("@firebase/analytics");function _x(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function Tx(e,t){var n=document.createElement("script");n.src="".concat(Ex,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function Cx(e,t,n,r,i,a){return Ax.apply(this,arguments)}function Ax(){return Ax=u(a().mark((function e(t,n,r,i,o,u){var s,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[o],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,_x(r);case 9:if(c=e.sent,!(l=c.find((function(e){return e.measurementId===o})))){e.next=14;break}return e.next=14,n[l.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Ix.error(e.t0);case 19:t("config",o,u);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),Ax.apply(this,arguments)}function Dx(e,t,n,r,i){return Nx.apply(this,arguments)}function Nx(){return Nx=u(a().mark((function e(t,n,r,i,o){var u,s,c,l,f,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u=[],!o||!o.send_to){e.next=27;break}return s=o.send_to,Array.isArray(s)||(s=[s]),e.next=7,_x(r);case 7:c=e.sent,l=rn(s),e.prev=9,h=a().mark((function e(){var t,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,r=c.find((function(e){return e.measurementId===t})),!(i=r&&n[r.appId])){e.next=7;break}u.push(i),e.next=9;break;case 7:return u=[],e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),l.s();case 12:if((f=l.n()).done){e.next=19;break}return e.delegateYield(h(),"t0",14);case 14:if("break"!==e.t0){e.next=17;break}return e.abrupt("break",19);case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(9),l.e(e.t1);case 24:return e.prev=24,l.f(),e.finish(24);case 27:return 0===u.length&&(u=Object.values(n)),e.next=30,Promise.all(u);case 30:t("event",i,o||{}),e.next=36;break;case 33:e.prev=33,e.t2=e.catch(0),Ix.error(e.t2);case 36:case"end":return e.stop()}}),e,null,[[0,33],[9,21,24,27]])}))),Nx.apply(this,arguments)}function Ox(e,t,n,r,i){var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){function i(){return(i=u(a().mark((function i(o,u,s){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==o){i.next=6;break}return i.next=4,Dx(e,t,n,u,s);case 4:i.next=12;break;case 6:if("config"!==o){i.next=11;break}return i.next=9,Cx(e,t,n,r,u,s);case 9:i.next=12;break;case 11:"consent"===o?e("consent","update",s):e("set",u);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),Ix.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}function Px(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(Ex)&&i.src.includes(e))return i}return null}var Rx=(dn(vx={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),dn(vx,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),dn(vx,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),dn(vx,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),dn(vx,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),dn(vx,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),dn(vx,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),dn(vx,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),dn(vx,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),dn(vx,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),vx),Lx=new Nn("analytics","Analytics",Rx),Mx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;cn(this,e),this.throttleMetadata=t,this.intervalMillis=n}return hn(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),Fx=new Mx;function Vx(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function jx(e){return Bx.apply(this,arguments)}function Bx(){return Bx=u(a().mark((function e(t){var n,r,i,o,u,s,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,o={method:"GET",headers:Vx(i)},u=Sx.replace("{app-id}",r),e.next=5,fetch(u,o);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return c="",e.prev=8,e.next=11,s.json();case 11:l=e.sent,(null===(n=l.error)||void 0===n?void 0:n.message)&&(c=l.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw Lx.create("config-fetch-failed",{httpStatus:s.status,responseMessage:c});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),Bx.apply(this,arguments)}function Ux(e){return zx.apply(this,arguments)}function zx(){return zx=u(a().mark((function e(t){var n,r,i,o,s,c,l,f,h=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:Fx,r=h.length>2?h[2]:void 0,i=t.options,o=i.appId,s=i.apiKey,c=i.measurementId,o){e.next=5;break}throw Lx.create("no-app-id");case 5:if(s){e.next=9;break}if(!c){e.next=8;break}return e.abrupt("return",{measurementId:c,appId:o});case 8:throw Lx.create("no-api-key");case 9:return l=n.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new $x,setTimeout(u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:xx),e.abrupt("return",qx({appId:o,apiKey:s,measurementId:c},l,f,n));case 13:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function qx(e,t,n){return Kx.apply(this,arguments)}function Kx(){return Kx=u(a().mark((function e(t,n,r){var i,o,u,s,c,l,f,h,d,p,v=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,o=n.backoffCount,u=v.length>3&&void 0!==v[3]?v[3]:Fx,c=t.appId,l=t.measurementId,e.prev=3,e.next=6,Gx(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!l){e.next=13;break}return Ix.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,jx(t);case 17:return f=e.sent,u.deleteThrottleMetadata(c),e.abrupt("return",f);case 22:if(e.prev=22,e.t1=e.catch(14),Wx(h=e.t1)){e.next=33;break}if(u.deleteThrottleMetadata(c),!l){e.next=32;break}return Ix.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===h||void 0===h?void 0:h.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 32:throw e.t1;case 33:return d=503===Number(null===(s=null===h||void 0===h?void 0:h.customData)||void 0===s?void 0:s.httpStatus)?Un(o,u.intervalMillis,30):Un(o,u.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:o+1},u.setThrottleMetadata(c,p),Ix.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",qx(t,p,r,u));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),Kx.apply(this,arguments)}function Gx(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(Lx.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function Wx(e){if(!(e instanceof Dn)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var Hx,Qx,$x=function(){function e(){cn(this,e),this.listeners=[]}return hn(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function Yx(){return(Yx=u(a().mark((function e(t,n,r,i,o){var u,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||!o.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:u=e.sent,s=Object.assign(Object.assign({},i),{send_to:u}),t("event",r,s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xx(e){Qx=e}function Jx(e){Hx=e}function Zx(){return eS.apply(this,arguments)}function eS(){return(eS=u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xn()){e.next=5;break}return Ix.warn(Lx.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Sn();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),Ix.warn(Lx.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function tS(){return tS=u(a().mark((function e(t,n,r,i,o,u,s){var c,f,h,d,p,v,y,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(f=Ux(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Ix.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Ix.error(e)})),n.push(f),h=Zx().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([f,h]);case 6:return d=e.sent,p=l(d,2),v=p[0],y=p[1],Px(u)||Tx(u,v.measurementId),Qx&&(o("consent","default",Qx),Xx(void 0)),o("js",new Date),(m=null!==(c=null===s||void 0===s?void 0:s.config)&&void 0!==c?c:{})[wx]="firebase",m.update=!0,null!=y&&(m[bx]=y),o("config",v.measurementId,m),Hx&&(o("set",Hx),Jx(void 0)),e.abrupt("return",v.measurementId);case 20:case"end":return e.stop()}}),e)}))),tS.apply(this,arguments)}var nS,rS,iS=function(){function e(t){cn(this,e),this.app=t}return hn(e,[{key:"_delete",value:function(){return delete aS[this.app.options.appId],Promise.resolve()}}]),e}(),aS={},oS=[],uS={},sS="dataLayer",cS="gtag",lS=!1;function fS(){var e=[];if(function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=Lx.create("invalid-analytics-context",{errorInfo:t});Ix.warn(n.message)}}function hS(e,t,n){fS();var r=e.options.appId;if(!r)throw Lx.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Lx.create("no-api-key");Ix.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=aS[r])throw Lx.create("already-exists",{id:r});if(!lS){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(sS);var i=Ox(aS,oS,uS,sS,cS),a=i.wrappedGtag,o=i.gtagCore;rS=a,nS=o,lS=!0}return aS[r]=function(e,t,n,r,i,a,o){return tS.apply(this,arguments)}(e,oS,uS,t,nS,sS,n),new iS(e)}function dS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Or(e,kx);if(n.isInitialized()){var r=n.getImmediate();if(Ln(t,n.getOptions()))return r;throw Lx.create("already-initialized")}var i=n.initialize({options:t});return i}function pS(e,t,n,r){e=zn(e),function(e,t,n,r,i){return Yx.apply(this,arguments)}(rS,aS[e.app.options.appId],t,n,r).catch((function(e){return Ix.error(e)}))}var vS="@firebase/analytics",yS="0.9.0";Nr(new qn(kx,(function(e,t){var n=t.options;return hS(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Nr(new qn("analytics-internal",(function(e){try{var t=e.getProvider(kx).getImmediate();return{logEvent:function(e,n,r){return pS(t,e,n,r)}}}catch(n){throw Lx.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),Kr(vS,yS),Kr(vS,yS,"esm2017");var mS,gS=jr({apiKey:"AIzaSyADuoNJ0pnYGeF-tmqnW01YDS3hV0bo2dk",authDomain:"whereswaldo-81ed8.firebaseapp.com",projectId:"whereswaldo-81ed8",storageBucket:"whereswaldo-81ed8.appspot.com",messagingSenderId:"750524906671",appId:"1:750524906671:web:a9b9c6f1791e2b436ae85a",measurementId:"G-BJVZ55HZBL"}),kS=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br(),t=Or(e=zn(e),kx);t.isInitialized()?t.getImmediate():dS(e)}(gS),function(e,t){var n="string"==typeof e?e:t||"(default)",r=Or("object"==typeof e?e:Br(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=_n("firestore");i&&Ag.apply(void 0,[r].concat(Yt(i)))}return r}(gS)),bS=kS,wS=function(){function e(t,n){var r=this;cn(this,e),this._delegate=t,this.firebase=n,Ar(t,new qn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return hn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),zr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ir;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ir;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ar(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Dr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),xS=(dn(mS={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),dn(mS,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),mS),SS=new Nn("app-compat","Firebase",xS);var ES=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=jr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Rn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Kr,setLogLevel:Wr,onLog:Gr,apps:null,SDK_VERSION:Vr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Nr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw SS.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&kn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Rn(n,e=e||Ir))throw SS.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(wS);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){kn(n,e)},createSubscribe:Fn,ErrorFactory:Nn,deepExtend:kn}),n}(),IS=new er("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){IS.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _S=self.firebase.SDK_VERSION;_S&&_S.indexOf("LITE")>=0&&IS.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var TS=ES;!function(e){Kr("@firebase/app-compat","0.2.0",e)}();TS.registerVersion("firebase","9.15.0","app-compat");function CS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Is("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function AS(){if("undefined"===typeof Uint8Array)throw new Is("unimplemented","Uint8Arrays are not available in this environment.")}function DS(){if("undefined"==typeof atob)throw new Is("unimplemented","Blobs are unavailable in Firestore in this environment.")}var NS=function(){function e(t){cn(this,e),this._delegate=t}return hn(e,[{key:"toBase64",value:function(){return DS(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return AS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return DS(),new e(gk.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return AS(),new e(gk.fromUint8Array(t))}}]),e}();function OS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=rn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var PS=function(){function e(){cn(this,e)}return hn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){mk(e=Eg(e,ck));var n=lk(e),r=e._freezeSettings(),i=new gg;return hk(n,i,new yg(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){mk(e=Eg(e,ck));var t=lk(e),n=e._freezeSettings(),r=new gg;return hk(t,r,new mg(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Is(Es.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new _s;return e._queue.enqueueAndForgetEvenWhileRestricted(u(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=u(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sc.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,sc.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(dv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),RS=function(){function e(t,n,r){var i=this;cn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof bc||(this._appCompat=t)}return hn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ks("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ag(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return dk(this._delegate)}},{key:"disableNetwork",value:function(){return pk(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&bg("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new _s;return e.asyncQueue.enqueueAndForget(u(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Mm,n.next=3,ek(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(lk(e=Eg(e,ck)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Ob(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Is("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new QS(this,Pg(this._delegate,e))}catch(t){throw BS(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new jS(this,Rg(this._delegate,e))}catch(t){throw BS(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new GS(this,function(e,t){if(e=Eg(e,Cg),kg("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Is(Es.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Ng(e,null,function(e){return new Kl(qs.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw BS(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=Eg(e,ck);var r=Object.assign(Object.assign({},Lb),n);return function(e){if(e.maxAttempts<1)throw new Is(Es.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new _s;return e.asyncQueue.enqueueAndForget(u(a().mark((function i(){var o;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tk(e);case 2:o=i.sent,new Ug(e.asyncQueue,o,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(lk(e),(function(n){return t(new Vb(e,n))}),r)}(this._delegate,(function(n){return e(new MS(t,n))}))}},{key:"batch",value:function(){var e=this;return lk(this._delegate),new FS(new Mb(this._delegate,(function(t){return Pb(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return vk(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return yk(this._delegate,e).then((function(e){return e?new GS(t,e):null}))}}]),e}(),LS=function(e){an(n,e);var t=sn(n);function n(e){var r;return cn(this,n),(r=t.call(this)).firestore=e,r}return hn(n,[{key:"convertBytes",value:function(e){return new NS(new gk(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return jS.forKey(t,this.firestore,null)}}]),n}(yb);var MS=function(){function e(t,n){cn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new LS(t)}return hn(e,[{key:"get",value:function(e){var t=this,n=$S(e);return this._delegate.get(n).then((function(e){return new qS(t._firestore,new bb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=$S(e);return n?(CS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=$S(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=$S(e);return this._delegate.delete(t),this}}]),e}(),FS=function(){function e(t){cn(this,e),this._delegate=t}return hn(e,[{key:"set",value:function(e,t,n){var r=$S(e);return n?(CS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=$S(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=$S(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),VS=function(){function e(t,n,r){cn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return hn(e,[{key:"fromFirestore",value:function(e,t){var n=new wb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new KS(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new LS(t),n),i.set(n,a)),a}}]),e}();VS.INSTANCES=new WeakMap;var jS=function(){function e(t,n){cn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new LS(t)}return hn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new QS(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new QS(this.firestore,Pg(this._delegate,e))}catch(t){throw BS(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=zn(e))instanceof Dg&&Lg(this._delegate,e)}},{key:"set",value:function(e,t){t=CS("DocumentReference.set",t);try{return t?Ab(this._delegate,e,t):Ab(this._delegate,e)}catch(n){throw BS(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Db(this._delegate,e):Db.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw BS(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Pb(Eg(e.firestore,ck),[new Uf(e._key,_f.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=US(n),a=zS(n,(function(t){return new qS(e.firestore,new bb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Nb(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?_b(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Eg(e,Dg);var t=Eg(e.firestore,ck);return ik(lk(t),e._key,{source:"server"}).then((function(n){return Rb(t,e,n)}))}(this._delegate):function(e){e=Eg(e,Dg);var t=Eg(e.firestore,ck);return ik(lk(t),e._key).then((function(n){return Rb(t,e,n)}))}(this._delegate),t.then((function(e){return new qS(n.firestore,new bb(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(VS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Is("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Dg(n._delegate,r,new Ws(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Dg(n._delegate,r,t))}}]),e}();function BS(e,t,n){return e.message=e.message.replace(t,n),e}function US(e){var t,n=rn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!OS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function zS(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=OS(e[0])?e[0]:OS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var qS=function(){function e(t,n){cn(this,e),this._firestore=t,this._delegate=n}return hn(e,[{key:"ref",get:function(){return new jS(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Eb(this._delegate,e._delegate)}}]),e}(),KS=function(e){an(n,e);var t=sn(n);function n(){return cn(this,n),t.apply(this,arguments)}return hn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ws()}(void 0!==t),t}}]),n}(qS),GS=function(){function e(t,n){cn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new LS(t)}return hn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,eb(this._delegate,function(e,t,n){var r=t,i=Yk("where",e);return tb._create(i,r,n)}(t,n,r)))}catch(i){throw BS(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,eb(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Yk("orderBy",e);return rb._create(r,n)}(t,n)))}catch(r){throw BS(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,eb(this._delegate,function(e){return Ig("limit",e),ib._create("limit",e,"F")}(t)))}catch(n){throw BS(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,eb(this._delegate,function(e){return Ig("limitToLast",e),ib._create("limitToLast",e,"L")}(t)))}catch(n){throw BS(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,eb(this._delegate,ob.apply(void 0,arguments)))}catch(t){throw BS(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,eb(this._delegate,ub.apply(void 0,arguments)))}catch(t){throw BS(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,eb(this._delegate,cb.apply(void 0,arguments)))}catch(t){throw BS(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,eb(this._delegate,lb.apply(void 0,arguments)))}catch(t){throw BS(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Mg(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Cb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Eg(e,Ng);var t=Eg(e.firestore,ck),n=lk(t),r=new Ib(t);return ak(n,e._query,{source:"server"}).then((function(n){return new xb(t,r,e,n)}))}(this._delegate):Tb(this._delegate),t.then((function(e){return new HS(n.firestore,new xb(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=US(n),a=zS(n,(function(t){return new HS(e.firestore,new xb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Nb(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(VS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),WS=function(){function e(t,n){cn(this,e),this._firestore=t,this._delegate=n}return hn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new KS(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),HS=function(){function e(t,n){cn(this,e),this._firestore=t,this._delegate=n}return hn(e,[{key:"query",get:function(){return new GS(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new KS(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new WS(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new KS(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Eb(this._delegate,e._delegate)}}]),e}(),QS=function(e){an(n,e);var t=sn(n);function n(e,r){var i;return cn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return hn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new jS(this.firestore,e):null}},{key:"doc",value:function(e){try{return new jS(this.firestore,void 0===e?Rg(this._delegate):Rg(this._delegate,e))}catch(t){throw BS(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Eg(e.firestore,ck),r=Rg(e),i=mb(e.converter,t);return Pb(n,[Ak(Ck(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,_f.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new jS(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Lg(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(VS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(GS);function $S(e){return Eg(e,Dg)}var YS,XS=function(){function e(){cn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Zt(kk,n)}return hn(e,[{key:"isEqual",value:function(e){return(e=zn(e))instanceof kk&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Gs.keyField().canonicalString())}}]),e}(),JS=function(){function e(t){cn(this,e),this._delegate=t}return hn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Ok("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Dk("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=jb.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Bb.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Lk("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),ZS={Firestore:RS,GeoPoint:wk,Timestamp:Bs,Blob:NS,Transaction:MS,WriteBatch:FS,DocumentReference:jS,DocumentSnapshot:qS,Query:GS,QueryDocumentSnapshot:KS,QuerySnapshot:HS,CollectionReference:QS,FieldPath:XS,FieldValue:JS,setLogLevel:function(e){!function(e){vs.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new qn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ZS)))})(YS=TS,(function(e,t){return new RS(e,t,new PS)})),YS.registerVersion("@firebase/firestore-compat","0.3.0");var eE,tE,nE,rE,iE,aE,oE,uE,sE,cE,lE,fE,hE,dE,pE,vE,yE,mE,gE,kE,bE,wE,xE,SE,EE,IE=function(){var e=u(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Rg(Pg(bS,"users")),e.next=4,Ab(r,{name:t,time:n,created:TS.firestore.FieldValue.serverTimestamp()});case 4:console.log("Document created with ID: ",r.id),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error adding document: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),_E=it.div(eE||(eE=f(["\n  position: fixed;\n  z-index: 500;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.9);\n"]))),TE=it.div(tE||(tE=f(["\n  position: fixed;\n  z-index: 500;\n  background-color: ",";\n  color: ",";\n  padding: 3rem;\n  border-radius: 6px;\n  top: 50vh;\n  left: 50vw;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: column;\n  place-items: center;\n  gap: 2rem;\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.light})),CE=it.div(nE||(nE=f(["\n  font-size: 3rem;\n  font-weight: bold;\n"]))),AE=it.input(rE||(rE=f(["\n  padding: 1rem;\n  border: none;\n  outline: none;\n  font-size: 2rem;\n  border-radius: 5px;\n"]))),DE=it.div(iE||(iE=f(["\n  display: flex;\n  gap: 2rem;\n"]))),NE=it.button(aE||(aE=f(["\n  padding: 1rem;\n  border-radius: 8px;\n  background-color: ",";\n  color: ",";\n  border: 2px solid ",";\n  margin-top: 2rem;\n  font-size: 2rem;\n\n  :hover{\n    background-color: ",";\n    color: ",";\n    border: 2px solid ",";\n  }\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.light}),(function(e){return e.theme.colors.light}),(function(e){return e.theme.colors.light}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),OE=function(e){var n=l((0,t.useState)(""),2),r=n[0],i=n[1],a=function(){var t=Yt(e.userDatabase),n={};n.name=r,n.time=e.time,t.push(n),e.setUserDatabase(t),e.setIsGameOver(!1),o(),IE(n.name,n.time)},o=function(){e.setLeaderboard(!0)};return(0,st.jsx)(_E,{children:(0,st.jsxs)(TE,{children:[(0,st.jsx)(CE,{children:"Congratulations! \ud83e\udd73"}),(0,st.jsxs)("div",{children:["You completed in ",e.time,"."]}),(0,st.jsx)(AE,{type:"text",name:"username",id:"username",placeholder:"Enter your name",onChange:function(e){return function(e){i(e.target.value)}(e)},onKeyDown:function(e){return"Enter"===e.key?a():null},maxLength:"12"}),(0,st.jsxs)(DE,{children:[(0,st.jsx)(NE,{onClick:function(){return a()},children:"Submit"}),(0,st.jsx)(NE,{onClick:function(){return e.setIsGameOver(!1),void o()},children:"Cancel"})]})]})})},PE=it.table(oE||(oE=f(["\n  border-collapse: collapse;\n  border: 2px solid rgb(200, 200, 200);\n  letter-spacing: 1px;\n"]))),RE=it.td(uE||(uE=f(["\n  border: 1px solid rgb(190, 190, 190);\n  padding: 1rem 8rem;\n  text-align: center;\n\n  @media all and (max-width: 480px) {\n    padding: 1rem 4rem;\n  }\n"]))),LE=function(e){var t=e.rankUser,n=function(e){switch(e){case 1:return"\ud83e\udd47";case 2:return"\ud83e\udd48";case 3:return"\ud83e\udd49";default:return e}};return(0,st.jsxs)(PE,{children:[(0,st.jsx)("thead",{children:(0,st.jsxs)("tr",{children:[(0,st.jsx)(RE,{children:"Rank"}),(0,st.jsx)(RE,{children:"Player"}),(0,st.jsx)(RE,{children:"Time"})]})}),(0,st.jsx)("tbody",{children:t.slice(0,10).map((function(e,r){return(0,st.jsxs)("tr",{children:[(0,st.jsx)(RE,{children:n(r+1)}),(0,st.jsx)(RE,{children:t[r].name}),(0,st.jsx)(RE,{children:t[r].time})]},r)}))})]})},ME=it.button(sE||(sE=f(["\n  padding: 1rem 2rem;\n  font-size: 22px;\n  font-weight: 700;\n  margin-top: 2rem;\n  background-color: ",";\n  color: ",";\n  border: 1px solid ",";\n  border-radius: 6px;\n\n  :hover {\n    background-color: ",";\n    color: ",";\n    border: 1px solid ",";\n  }\n\n  :active {\n    background-color: ",";\n    color: ",";\n    border: 1px solid ",";\n  }\n\n  @media all and (max-width: 480px) {\n    font-size: 16px;\n  }\n"])),(function(e){return e.theme.colors.light}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.light}),(function(e){return e.theme.colors.light}),(function(e){return e.theme.colors.light}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),FE=function(e){var n=l((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){var t=function(){var t=Yt(e.userDatabase).sort((function(e,t){return e.time.localeCompare(t.time)}));return t}();!function(e){for(var t=e,n={},r=0;r<10;r++)t.length<10&&(n.name="",n.time="",t.push(n));i(t)}(t)}),[]),(0,st.jsx)(_E,{children:(0,st.jsxs)(TE,{children:[(0,st.jsx)("h1",{children:"Global Leaderboard \ud83c\udfc6"}),(0,st.jsx)(LE,{rankUser:r}),(0,st.jsx)(ME,{onClick:function(){return function(){e.setLeaderboard(!1),e.setCount(e.TARGET_COUNT),e.setActiveTime(!0),e.setSeconds(0),e.setMinutes(0),e.setHours(0),e.setIsGameOver(!1);var t={first:!1,second:!1,third:!1};e.setStatus(t)}()},children:"Restart"})]})})},VE=it.div(cE||(cE=f(["\n  position: fixed;\n  z-index: 500;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.9);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),jE=it.div(lE||(lE=f(["\n  z-index: 500;\n  color: white;\n  font-size: 4rem;\n  display: flex;\n  flex-direction: column;\n  place-items: center;\n"]))),BE=it.div(fE||(fE=f(["\n  font-weight: 900;\n  cursor: pointer;\n  transition: transform 0.1s ease-in-out;\n\n  :hover {\n    transform: scale(1.2);\n  }\n"]))),UE=it.span(hE||(hE=f(["\n  color: ",";\n  font-weight: 700;\n  opacity: 0.8;\n"])),(function(e){return e.theme.colors.primary})),zE=it.span(dE||(dE=f(["\n  color: ",";\n  font-size: 2rem;\n  color: white;\n  font-weight: 400;\n"])),(function(e){return e.theme.colors.primary})),qE=it.div(pE||(pE=f(["\n  z-index: 500;\n  background-color: ",";\n  color: ",";\n  border-radius: 16px;\n  display: flex;\n  gap: 1rem;\n  width: 50%;\n  border: 2px solid whitesmoke;\n\n  @media all and (min-width: 480px) and (max-width: 768px) {\n    gap: 3rem;\n    width: 80%;\n  }\n\n  @media all and (max-width: 480px) {\n    gap: 0;\n    width: 80%;\n  }\n"])),(function(e){return e.theme.colors.light}),(function(e){return e.theme.colors.primary})),KE=it.img(vE||(vE=f(['\n  background-image: url("https://raw.githubusercontent.com/naknamu/wheres-waldo/main/src/assets/images/extended_city.jpg");\n  background-size: cover;\n  background-repeat: no-repeat;\n  width: 100%;\n  border-top-left-radius: 16px;\n  border-bottom-left-radius: 16px;\n']))),GE=it.div(yE||(yE=f(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  width: 50%;\n  padding: 3rem;\n"]))),WE=it.div(mE||(mE=f(["\n  font-size: 3rem;\n  place-self: center;\n  font-weight: 700;\n  text-align: center;\n"]))),HE=it.div(gE||(gE=f(["\n  font-size: 1.5rem;\n  place-self: center;\n  transform: translateY(-10px);\n  text-align: center;\n"]))),QE=it.button(kE||(kE=f(["\n  padding: 1rem 2rem;\n  border-radius: 2rem;\n  border: 1px solid ",";\n  background-color: ",";\n  color: ",";\n  font-size: 2.5rem;\n  margin-top: 3rem;\n\n  :hover {\n    background-color: ",";\n    color: ",";\n    border: 1px solid ",";\n  }\n\n  @media all and (max-width: 480px) {\n    font-size: 3rem;\n    padding: 2rem;\n  }\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.light}),(function(e){return e.theme.colors.light}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),$E=it.div(bE||(bE=f(["\n  display: flex;\n  justify-content: center;\n  gap: 4rem;\n  align-items: center;\n\n  @media all and (min-width: 480px) and (max-width: 768px) {\n    gap: 3rem;\n  }\n\n  @media all and (max-width: 480px) {\n    gap: 2rem;\n  }\n"]))),YE=it.img(wE||(wE=f(["\n  width: 30%;\n\n  @media all and (min-width: 480px) and (max-width: 768px) {\n    width: 70%;\n  }\n\n  @media all and (max-width: 480px) {\n    width: 80%;\n  }\n"]))),XE=it.div(xE||(xE=f(["\n  color: #ffaa1d;\n"]))),JE=it.div(SE||(SE=f(["\n  color: black;\n"]))),ZE=it.div(EE||(EE=f(["\n  color: #1e40af;\n"]))),eI=function(e){var t=function(){e.setActiveTime(!0)};return(0,st.jsxs)(VE,{children:[(0,st.jsxs)(jE,{children:[(0,st.jsxs)(BE,{children:["the",(0,st.jsx)(UE,{children:"Seeker"})]}),(0,st.jsx)(zE,{children:"Locate each of the characters in the map."})]}),(0,st.jsxs)(qE,{children:[(0,st.jsx)(KE,{}),(0,st.jsxs)(GE,{children:[(0,st.jsx)(WE,{children:"A.D. 2.222"}),(0,st.jsx)(HE,{children:"Image by Egor Klyuchnyk"}),(0,st.jsx)(XE,{children:"Easy"}),(0,st.jsxs)($E,{children:[(0,st.jsx)(YE,{src:at,alt:"robot"}),(0,st.jsx)("div",{children:e.TARGET.first})]}),(0,st.jsx)(JE,{children:"Medium"}),(0,st.jsxs)($E,{children:[(0,st.jsx)(YE,{src:ot,alt:"robot"}),(0,st.jsx)("div",{children:e.TARGET.second})]}),(0,st.jsx)(ZE,{children:"Hard"}),(0,st.jsxs)($E,{children:[(0,st.jsx)(YE,{src:ut,alt:"robot"}),(0,st.jsx)("div",{children:e.TARGET.third})]}),(0,st.jsx)(QE,{onClick:function(){return e.setStart(!0),void t()},children:"START"})]})]})]})},tI=window.onload=u(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,Tb(Pg(bS,"users"));case 3:return e.sent.forEach((function(e){t.push(e.data())})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));var nI,rI=function(){var e={first:"Ghost Rider",second:"Ryuk",third:"Ash"},n=Object.keys(e).length,r=l((0,t.useState)({first:!1,second:!1,third:!1}),2),i=r[0],o=r[1],s=l((0,t.useState)(n),2),c=s[0],f=s[1],h=l((0,t.useState)(!1),2),d=h[0],p=h[1],v=l((0,t.useState)("00:00:00"),2),y=v[0],m=v[1],g=l((0,t.useState)(0),2),k=g[0],b=g[1],w=l((0,t.useState)(0),2),x=w[0],S=w[1],E=l((0,t.useState)(0),2),I=E[0],_=E[1],T=l((0,t.useState)([]),2),C=T[0],A=T[1],D=l((0,t.useState)(!1),2),N=D[0],O=D[1],P=l((0,t.useState)(!1),2),R=P[0],L=P[1],M=l((0,t.useState)(!1),2),F=M[0],V=M[1];return(0,t.useEffect)((function(){0===c&&(L(!1),p(!0))}),[c]),(0,t.useEffect)((function(){var e=function(){var e=u(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tI();case 2:t=e.sent,n=[],t.forEach((function(e){n.push({name:e.name,time:e.time})})),A(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,st.jsxs)(st.Fragment,{children:[(0,st.jsx)(Et,{TARGET:e,status:i,count:c,time:y,setTime:m,activeTime:R,seconds:k,setSeconds:b,minutes:x,setMinutes:S,hours:I,setHours:_}),(0,st.jsx)($t,{TARGET:e,status:i,setStatus:o,count:c,setCount:f}),d&&(0,st.jsx)(OE,{time:y,userDatabase:C,setUserDatabase:A,setLeaderboard:O,setIsGameOver:p}),N&&(0,st.jsx)(FE,{userDatabase:C,setLeaderboard:O,setCount:f,TARGET_COUNT:n,setActiveTime:L,setSeconds:b,setMinutes:S,setHours:_,setStatus:o,setIsGameOver:p}),!F&&(0,st.jsx)(eI,{setStart:V,setActiveTime:L,TARGET:e})]})},iI=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Te.apply(void 0,[e].concat(r)),o="sc-global-"+Oe(JSON.stringify(a)),u=new qe(a,o);function s(e){var n=ve(),r=ye(),i=(0,t.useContext)(Ve),a=(0,t.useRef)(n.allocateGSInstance(o)).current;return n.server&&c(a,e,n,i,r),(0,t.useLayoutEffect)((function(){if(!n.server)return c(a,e,n,i,r),function(){return u.removeStyles(a,n)}}),[a,e,n,i,r]),null}function c(e,t,n,r,i){if(u.isStatic)u.renderStyles(e,P,n,i);else{var a=x({},t,{theme:Ce(t,r,s.defaultProps)});u.renderStyles(e,a,n,i)}}return t.memo(s)}(nI||(nI=f(["\n    * {\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n    }\n\n    html {\n        font-size: 62.5%;\n        line-height: 1.8;\n    }\n\n    body {\n        font-family: 'Poppins', sans-serif;\n        font-size: 1.8rem;\n        background-color: ",";\n    }\n \n    @media all and (min-width: 768px) and (max-width: 1024px) { \n        html {\n            font-size: 50%;\n        }\n    }\n    \n    @media all and (min-width: 480px) and (max-width: 768px) { \n        html {\n            font-size: 45%;\n        }\n    }\n    \n    @media all and (max-width: 480px) { \n        html {\n            font-size: 30%;\n        }\n    }\n \n\n"])),(function(e){return e.theme.colors.dark})),aI=iI,oI={colors:{light:"#FFF",dark:"#000",primary:"rgb(183,48,50)",secondary:"rgb(103,0,17)",blue:"#1e40af",blue_2:"#2563eb"}};r.createRoot(document.getElementById("root")).render((0,st.jsx)(t.StrictMode,{children:(0,st.jsxs)(je,{theme:oI,children:[(0,st.jsx)(aI,{}),(0,st.jsx)(rI,{})]})}))}()}();
//# sourceMappingURL=main.34299e42.js.map